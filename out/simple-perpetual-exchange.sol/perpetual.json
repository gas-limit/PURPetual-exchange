{
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_WBTC",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_USDC",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "chainlinkPriceFeed",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "target",
          "type": "address"
        }
      ],
      "name": "AddressEmptyCode",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "AddressInsufficientBalance",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "FailedInnerCall",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "NotEnoughCollateral",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "NotEnoughLiquidity",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "PositionOpen",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        }
      ],
      "name": "SafeERC20FailedOperation",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ZeroAmount",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "additionalCollateralAmountUsdc",
          "type": "uint256"
        }
      ],
      "name": "CollateralIncreased",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "LiquidityDeposited",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "LiquidityWithdrawn",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "additionalCollateralAmountUsdc",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "newborrowAmountUsdc",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "newBorrowAmountWbtc",
          "type": "uint256"
        }
      ],
      "name": "PositionIncreased",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "bool",
          "name": "positionType",
          "type": "bool"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "leverage",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "collateralAmountUsdc",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "borrowAmountUsdc",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "borrowAmountWbtc",
          "type": "uint256"
        }
      ],
      "name": "PositionOpened",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "USDC",
      "outputs": [
        {
          "internalType": "contract IERC20",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "WBTC",
      "outputs": [
        {
          "internalType": "contract IERC20",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_amount",
          "type": "uint256"
        }
      ],
      "name": "checkLiquidityBorrow",
      "outputs": [],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_amount",
          "type": "uint256"
        }
      ],
      "name": "checkLiquidityWithdraw",
      "outputs": [],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_amount",
          "type": "uint256"
        }
      ],
      "name": "depositLiquidity",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getWBTCPrice",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_collateralAmountUsdc",
          "type": "uint256"
        }
      ],
      "name": "increaseCollateral",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_collateralAmountUsdc",
          "type": "uint256"
        }
      ],
      "name": "increasePosition",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bool",
          "name": "_positionType",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "_leverage",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_collateralAmountUsdc",
          "type": "uint256"
        }
      ],
      "name": "openPosition",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "totalBorrowed",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "totalDeposited",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "userDeposit",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "userPositions",
      "outputs": [
        {
          "internalType": "bool",
          "name": "positionType",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "leverage",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "collateralAmount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "borrowAmountUsdc",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "borrowAmountWbtc",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_amount",
          "type": "uint256"
        }
      ],
      "name": "withdrawLiquidity",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": {
    "object": "0x60e060405234801561001057600080fd5b50604051610eee380380610eee83398101604081905261002f91610072565b6001600160a01b0392831660a05290821660c05216608052600060028190556003556100b5565b80516001600160a01b038116811461006d57600080fd5b919050565b60008060006060848603121561008757600080fd5b61009084610056565b925061009e60208501610056565b91506100ac60408501610056565b90509250925092565b60805160a05160c051610de7610107600039600081816102090152818161050f0152818161072c015261090101526000818161014b0152818161033e01526105de015260006109360152610de76000f3fe608060405234801561001057600080fd5b50600436106100ea5760003560e01c806389a302711161008c578063d1260edd11610066578063d1260edd14610251578063e325573114610271578063fa7d826a14610284578063ff50abdc1461028c57600080fd5b806389a3027114610204578063a70bf7fe1461022b578063b8a838341461023e57600080fd5b80634c718d06116100c85780634c718d06146101335780634dede3de14610146578063613cf4201461018557806376d58e1a146101f157600080fd5b80630a861f2a146100ef5780634270710b146101045780634c19386c14610117575b600080fd5b6101026100fd366004610bfc565b610295565b005b610102610112366004610bfc565b610368565b61012060035481565b6040519081526020015b60405180910390f35b610102610141366004610bfc565b6103c1565b61016d7f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b03909116815260200161012a565b6101c7610193366004610c15565b60016020819052600091825260409091208054918101546002820154600383015460049093015460ff909416939192909185565b6040805195151586526020860194909452928401919091526060830152608082015260a00161012a565b6101026101ff366004610bfc565b61053e565b61016d7f000000000000000000000000000000000000000000000000000000000000000081565b610102610239366004610bfc565b610606565b61010261024c366004610bfc565b6106a2565b61012061025f366004610c15565b60006020819052908152604090205481565b61010261027f366004610c4c565b610754565b610120610931565b61012060025481565b806000036102b657604051631f2a200560e01b815260040160405180910390fd5b6102bf81610606565b33600090815260208190526040812080548392906102de908490610c97565b9250508190555080600260008282546102f79190610c97565b909155505060405181815233907fb1cce8684b4ffa8667b4577654e61ee3480d661ee9c27522ac80e211f6bd4d259060200160405180910390a26103656001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001633836109c1565b50565b6000816003546103789190610caa565b905060008161271060025461038d9190610cbd565b6103979190610cd4565b9050613a988110156103bc57604051634323a55560e01b815260040160405180910390fd5b505050565b806000036103e257604051631f2a200560e01b815260040160405180910390fd5b629896808110156104055760405162d11df360e61b815260040160405180910390fd5b3360009081526001602052604081209061041d610931565b905060008260010154846104319190610cbd565b9050600082610448670de0b6b3a764000087610cbd565b6104529190610cd4565b905061046061271082610cd4565b5061046a81610368565b8184600301600082825461047e9190610caa565b92505081905550808460040160008282546104999190610caa565b9250508190555080600360008282546104b29190610caa565b90915550506003840154600485015460408051888152602081019390935282015233907f673e472cd732d3288c086ad7d57942b327621ec34ae765dfa0d0069c9fe100649060600160405180910390a26105376001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016333088610a20565b5050505050565b8060000361055f57604051631f2a200560e01b815260040160405180910390fd5b336000908152602081905260408120805483929061057e908490610caa565b9250508190555080600260008282546105979190610caa565b909155505060405181815233907f7ff07ce9a287649537e4b012e45cf012d90228b12e2b56bb03515a6b5436fcdf9060200160405180910390a26103656001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016333084610a20565b60035460025460009061061a908490610c97565b905080158015610628575081155b1561063257505050565b801580156106405750600082115b1561065e57604051634323a55560e01b815260040160405180910390fd5b60008261066d61271084610cbd565b6106779190610cd4565b9050613a9881101561069c57604051634323a55560e01b815260040160405180910390fd5b50505050565b806000036106c357604051631f2a200560e01b815260040160405180910390fd5b33600090815260016020526040812060020180548392906106e5908490610caa565b909155505060405181815233907ffe774a391baf6f98e6e7e8f440eca7282e48993fe8ccf2c0081f13c9d34880d19060200160405180910390a26103656001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016333084610a20565b81158061075f575080155b1561077d57604051631f2a200560e01b815260040160405180910390fd5b33600090815260016020526040902060030154156107ae5760405163381d07a960e01b815260040160405180910390fd5b629896808110156107d15760405162d11df360e61b815260040160405180910390fd5b60006107db610931565b905060006107e98484610cbd565b9050600082610800670de0b6b3a764000084610cbd565b61080a9190610cd4565b905061081e670de0b6b3a764000082610cd4565b506040805160a0810182528715158152602080820188815282840188815260608401878152608085018781523360009081526001958690529687209551865460ff191690151517865592519385019390935551600284015590516003808401919091559051600490920191909155805483929061089c908490610caa565b909155505060408051871515815260208101879052908101859052606081018390526080810182905233907f0e8f4b81343afa64bc4ddcfbf2d80e883e0ddfc6663c400ca09da13d1d28d5889060a00160405180910390a26109296001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016333087610a20565b505050505050565b6000807f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031663feaf968c6040518163ffffffff1660e01b815260040160a060405180830381865afa158015610992573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109b69190610d15565b509195945050505050565b6040516001600160a01b038381166024830152604482018390526103bc91859182169063a9059cbb906064015b604051602081830303815290604052915060e01b6020820180516001600160e01b038381831617835250505050610a59565b6040516001600160a01b03848116602483015283811660448301526064820183905261069c9186918216906323b872dd906084016109ee565b6000610a6e6001600160a01b03841683610ac1565b90508051600014158015610a93575080806020019051810190610a919190610d65565b155b156103bc57604051635274afe760e01b81526001600160a01b03841660048201526024015b60405180910390fd5b6060610acf83836000610ad8565b90505b92915050565b606081471015610afd5760405163cd78605960e01b8152306004820152602401610ab8565b600080856001600160a01b03168486604051610b199190610d82565b60006040518083038185875af1925050503d8060008114610b56576040519150601f19603f3d011682016040523d82523d6000602084013e610b5b565b606091505b5091509150610b6b868383610b77565b925050505b9392505050565b606082610b8c57610b8782610bd3565b610b70565b8151158015610ba357506001600160a01b0384163b155b15610bcc57604051639996b31560e01b81526001600160a01b0385166004820152602401610ab8565b5080610b70565b805115610be35780518082602001fd5b604051630a12f52160e11b815260040160405180910390fd5b600060208284031215610c0e57600080fd5b5035919050565b600060208284031215610c2757600080fd5b81356001600160a01b0381168114610b7057600080fd5b801515811461036557600080fd5b600080600060608486031215610c6157600080fd5b8335610c6c81610c3e565b95602085013595506040909401359392505050565b634e487b7160e01b600052601160045260246000fd5b81810381811115610ad257610ad2610c81565b80820180821115610ad257610ad2610c81565b8082028115828204841417610ad257610ad2610c81565b600082610cf157634e487b7160e01b600052601260045260246000fd5b500490565b805169ffffffffffffffffffff81168114610d1057600080fd5b919050565b600080600080600060a08688031215610d2d57600080fd5b610d3686610cf6565b9450602086015193506040860151925060608601519150610d5960808701610cf6565b90509295509295909350565b600060208284031215610d7757600080fd5b8151610b7081610c3e565b6000825160005b81811015610da35760208186018101518583015201610d89565b50600092019182525091905056fea26469706673582212205a23aebfb7a396d6169fad9c3c15dfd0ed5a0faf354f1461ff4496fa7c18b0fe64736f6c63430008150033",
    "sourceMap": "1069:7168:27:-:0;;;3135:253;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;-1:-1:-1;;;;;3214:20:27;;;;;3244;;;;;3274:52;;;3353:1;3336:14;:18;;;3364:13;:17;1069:7168;;14:177:31;93:13;;-1:-1:-1;;;;;135:31:31;;125:42;;115:70;;181:1;178;171:12;115:70;14:177;;;:::o;196:378::-;284:6;292;300;353:2;341:9;332:7;328:23;324:32;321:52;;;369:1;366;359:12;321:52;392:40;422:9;392:40;:::i;:::-;382:50;;451:49;496:2;485:9;481:18;451:49;:::i;:::-;441:59;;519:49;564:2;553:9;549:18;519:49;:::i;:::-;509:59;;196:378;;;;;:::o;:::-;1069:7168:27;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;",
    "linkReferences": {}
  },
  "deployedBytecode": {
    "object": "0x608060405234801561001057600080fd5b50600436106100ea5760003560e01c806389a302711161008c578063d1260edd11610066578063d1260edd14610251578063e325573114610271578063fa7d826a14610284578063ff50abdc1461028c57600080fd5b806389a3027114610204578063a70bf7fe1461022b578063b8a838341461023e57600080fd5b80634c718d06116100c85780634c718d06146101335780634dede3de14610146578063613cf4201461018557806376d58e1a146101f157600080fd5b80630a861f2a146100ef5780634270710b146101045780634c19386c14610117575b600080fd5b6101026100fd366004610bfc565b610295565b005b610102610112366004610bfc565b610368565b61012060035481565b6040519081526020015b60405180910390f35b610102610141366004610bfc565b6103c1565b61016d7f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b03909116815260200161012a565b6101c7610193366004610c15565b60016020819052600091825260409091208054918101546002820154600383015460049093015460ff909416939192909185565b6040805195151586526020860194909452928401919091526060830152608082015260a00161012a565b6101026101ff366004610bfc565b61053e565b61016d7f000000000000000000000000000000000000000000000000000000000000000081565b610102610239366004610bfc565b610606565b61010261024c366004610bfc565b6106a2565b61012061025f366004610c15565b60006020819052908152604090205481565b61010261027f366004610c4c565b610754565b610120610931565b61012060025481565b806000036102b657604051631f2a200560e01b815260040160405180910390fd5b6102bf81610606565b33600090815260208190526040812080548392906102de908490610c97565b9250508190555080600260008282546102f79190610c97565b909155505060405181815233907fb1cce8684b4ffa8667b4577654e61ee3480d661ee9c27522ac80e211f6bd4d259060200160405180910390a26103656001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001633836109c1565b50565b6000816003546103789190610caa565b905060008161271060025461038d9190610cbd565b6103979190610cd4565b9050613a988110156103bc57604051634323a55560e01b815260040160405180910390fd5b505050565b806000036103e257604051631f2a200560e01b815260040160405180910390fd5b629896808110156104055760405162d11df360e61b815260040160405180910390fd5b3360009081526001602052604081209061041d610931565b905060008260010154846104319190610cbd565b9050600082610448670de0b6b3a764000087610cbd565b6104529190610cd4565b905061046061271082610cd4565b5061046a81610368565b8184600301600082825461047e9190610caa565b92505081905550808460040160008282546104999190610caa565b9250508190555080600360008282546104b29190610caa565b90915550506003840154600485015460408051888152602081019390935282015233907f673e472cd732d3288c086ad7d57942b327621ec34ae765dfa0d0069c9fe100649060600160405180910390a26105376001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016333088610a20565b5050505050565b8060000361055f57604051631f2a200560e01b815260040160405180910390fd5b336000908152602081905260408120805483929061057e908490610caa565b9250508190555080600260008282546105979190610caa565b909155505060405181815233907f7ff07ce9a287649537e4b012e45cf012d90228b12e2b56bb03515a6b5436fcdf9060200160405180910390a26103656001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016333084610a20565b60035460025460009061061a908490610c97565b905080158015610628575081155b1561063257505050565b801580156106405750600082115b1561065e57604051634323a55560e01b815260040160405180910390fd5b60008261066d61271084610cbd565b6106779190610cd4565b9050613a9881101561069c57604051634323a55560e01b815260040160405180910390fd5b50505050565b806000036106c357604051631f2a200560e01b815260040160405180910390fd5b33600090815260016020526040812060020180548392906106e5908490610caa565b909155505060405181815233907ffe774a391baf6f98e6e7e8f440eca7282e48993fe8ccf2c0081f13c9d34880d19060200160405180910390a26103656001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016333084610a20565b81158061075f575080155b1561077d57604051631f2a200560e01b815260040160405180910390fd5b33600090815260016020526040902060030154156107ae5760405163381d07a960e01b815260040160405180910390fd5b629896808110156107d15760405162d11df360e61b815260040160405180910390fd5b60006107db610931565b905060006107e98484610cbd565b9050600082610800670de0b6b3a764000084610cbd565b61080a9190610cd4565b905061081e670de0b6b3a764000082610cd4565b506040805160a0810182528715158152602080820188815282840188815260608401878152608085018781523360009081526001958690529687209551865460ff191690151517865592519385019390935551600284015590516003808401919091559051600490920191909155805483929061089c908490610caa565b909155505060408051871515815260208101879052908101859052606081018390526080810182905233907f0e8f4b81343afa64bc4ddcfbf2d80e883e0ddfc6663c400ca09da13d1d28d5889060a00160405180910390a26109296001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016333087610a20565b505050505050565b6000807f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031663feaf968c6040518163ffffffff1660e01b815260040160a060405180830381865afa158015610992573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109b69190610d15565b509195945050505050565b6040516001600160a01b038381166024830152604482018390526103bc91859182169063a9059cbb906064015b604051602081830303815290604052915060e01b6020820180516001600160e01b038381831617835250505050610a59565b6040516001600160a01b03848116602483015283811660448301526064820183905261069c9186918216906323b872dd906084016109ee565b6000610a6e6001600160a01b03841683610ac1565b90508051600014158015610a93575080806020019051810190610a919190610d65565b155b156103bc57604051635274afe760e01b81526001600160a01b03841660048201526024015b60405180910390fd5b6060610acf83836000610ad8565b90505b92915050565b606081471015610afd5760405163cd78605960e01b8152306004820152602401610ab8565b600080856001600160a01b03168486604051610b199190610d82565b60006040518083038185875af1925050503d8060008114610b56576040519150601f19603f3d011682016040523d82523d6000602084013e610b5b565b606091505b5091509150610b6b868383610b77565b925050505b9392505050565b606082610b8c57610b8782610bd3565b610b70565b8151158015610ba357506001600160a01b0384163b155b15610bcc57604051639996b31560e01b81526001600160a01b0385166004820152602401610ab8565b5080610b70565b805115610be35780518082602001fd5b604051630a12f52160e11b815260040160405180910390fd5b600060208284031215610c0e57600080fd5b5035919050565b600060208284031215610c2757600080fd5b81356001600160a01b0381168114610b7057600080fd5b801515811461036557600080fd5b600080600060608486031215610c6157600080fd5b8335610c6c81610c3e565b95602085013595506040909401359392505050565b634e487b7160e01b600052601160045260246000fd5b81810381811115610ad257610ad2610c81565b80820180821115610ad257610ad2610c81565b8082028115828204841417610ad257610ad2610c81565b600082610cf157634e487b7160e01b600052601260045260246000fd5b500490565b805169ffffffffffffffffffff81168114610d1057600080fd5b919050565b600080600080600060a08688031215610d2d57600080fd5b610d3686610cf6565b9450602086015193506040860151925060608601519150610d5960808701610cf6565b90509295509295909350565b600060208284031215610d7757600080fd5b8151610b7081610c3e565b6000825160005b81811015610da35760208186018101518583015201610d89565b50600092019182525091905056fea26469706673582212205a23aebfb7a396d6169fad9c3c15dfd0ed5a0faf354f1461ff4496fa7c18b0fe64736f6c63430008150033",
    "sourceMap": "1069:7168:27:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3856:333;;;;;;:::i;:::-;;:::i;:::-;;7237:293;;;;;;:::i;:::-;;:::i;1788:28::-;;;;;;;;;345:25:31;;;333:2;318:18;1788:28:27;;;;;;;;5719:1062;;;;;;:::i;:::-;;:::i;1501:28::-;;;;;;;;-1:-1:-1;;;;;561:32:31;;;543:51;;531:2;516:18;1501:28:27;381:219:31;1693:49:27;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1174:14:31;;1167:22;1149:41;;1221:2;1206:18;;1199:34;;;;1249:18;;;1242:34;;;;1307:2;1292:18;;1285:34;1350:3;1335:19;;1328:35;1136:3;1121:19;1693:49:27;896:473:31;3419:405:27;;;;;;:::i;:::-;;:::i;1536:28::-;;;;;7586:648;;;;;;:::i;:::-;;:::i;6814:365::-;;;;;;:::i;:::-;;:::i;1640:46::-;;;;;;:::i;:::-;;;;;;;;;;;;;;;4377:1303;;;;;;:::i;:::-;;:::i;4200:150::-;;;:::i;1753:29::-;;;;;;3856:333;3921:7;3932:1;3921:12;3917:37;;3942:12;;-1:-1:-1;;;3942:12:27;;;;;;;;;;;3917:37;3965:31;3988:7;3965:22;:31::i;:::-;4019:10;4007:11;:23;;;;;;;;;;:34;;4034:7;;4007:11;:34;;4034:7;;4007:34;:::i;:::-;;;;;;;;4070:7;4052:14;;:25;;;;;;;:::i;:::-;;;;-1:-1:-1;;4093:39:27;;345:25:31;;;4112:10:27;;4093:39;;333:2:31;318:18;4093:39:27;;;;;;;4143:38;-1:-1:-1;;;;;4143:4:27;:17;4161:10;4173:7;4143:17;:38::i;:::-;3856:333;:::o;7237:293::-;7306:17;7342:7;7326:13;;:23;;;;:::i;:::-;7306:43;;7360:27;7427:9;2329:3;7391:14;;:32;;;;:::i;:::-;7390:46;;;;:::i;:::-;7360:76;;2167:6;7451:19;:43;7447:76;;;7503:20;;-1:-1:-1;;;7503:20:27;;;;;;;;;;;7447:76;7296:234;;7237:293;:::o;5719:1062::-;5797:21;5822:1;5797:26;5793:51;;5832:12;;-1:-1:-1;;;5832:12:27;;;;;;;;;;;5793:51;2047:10;5857:21;:42;5854:75;;;5908:21;;-1:-1:-1;;;5908:21:27;;;;;;;;;;;5854:75;5987:10;5940:30;5973:25;;;:13;:25;;;;;;6030:14;:12;:14::i;:::-;6009:35;;6055:25;6107:13;:22;;;6083:21;:46;;;;:::i;:::-;6055:74;-1:-1:-1;6140:25:27;6217:10;6169:43;2238:4;6169:21;:43;:::i;:::-;6168:60;;;;:::i;:::-;6140:88;-1:-1:-1;6239:35:27;2329:3;6140:88;6239:35;:::i;:::-;;6285:39;6306:17;6285:20;:39::i;:::-;6369:17;6335:13;:30;;;:51;;;;;;;:::i;:::-;;;;;;;;6430:17;6396:13;:30;;;:51;;;;;;;:::i;:::-;;;;;;;;6475:17;6458:13;;:34;;;;;;;:::i;:::-;;;;-1:-1:-1;;6599:30:27;;;;6643;;;;6508:175;;;2871:25:31;;;2927:2;2912:18;;2905:34;;;;2955:18;;2948:34;6539:10:27;;6508:175;;2859:2:31;2844:18;6508:175:27;;;;;;;6694:71;-1:-1:-1;;;;;6694:4:27;:21;6716:10;6736:4;6743:21;6694;:71::i;:::-;5783:998;;;;5719:1062;:::o;3419:405::-;3483:7;3494:1;3483:12;3479:37;;3504:12;;-1:-1:-1;;;3504:12:27;;;;;;;;;;;3479:37;3573:10;3561:11;:23;;;;;;;;;;:34;;3588:7;;3561:11;:34;;3588:7;;3561:34;:::i;:::-;;;;;;;;3657:7;3639:14;;:25;;;;;;;:::i;:::-;;;;-1:-1:-1;;3680:39:27;;345:25:31;;;3699:10:27;;3680:39;;333:2:31;318:18;3680:39:27;;;;;;;3759:57;-1:-1:-1;;;;;3759:4:27;:21;3781:10;3801:4;3808:7;3759:21;:57::i;7586:648::-;7683:13;;7728:14;;7658:22;;7728:24;;7745:7;;7728:24;:::i;:::-;7707:46;-1:-1:-1;7850:14:27;;:37;;;;-1:-1:-1;7868:19:27;;7850:37;7846:50;;;7889:7;;7586:648;:::o;7846:50::-;7988:14;;:36;;;;;8023:1;8006:14;:18;7988:36;7984:69;;;8033:20;;-1:-1:-1;;;8033:20:27;;;;;;;;;;;7984:69;8064:27;8126:14;8095:27;2329:3;8095:9;:27;:::i;:::-;8094:46;;;;:::i;:::-;8064:76;;2167:6;8155:19;:43;8151:76;;;8207:20;;-1:-1:-1;;;8207:20:27;;;;;;;;;;;8151:76;7647:587;;;7586:648;:::o;6814:365::-;6894:21;6919:1;6894:26;6890:51;;6929:12;;-1:-1:-1;;;6929:12:27;;;;;;;;;;;6890:51;6966:10;6952:25;;;;:13;:25;;;;;:42;;:67;;6998:21;;6952:25;:67;;6998:21;;6952:67;:::i;:::-;;;;-1:-1:-1;;7035:54:27;;345:25:31;;;7055:10:27;;7035:54;;333:2:31;318:18;7035:54:27;;;;;;;7100:71;-1:-1:-1;;;;;7100:4:27;:21;7122:10;7142:4;7149:21;7100;:71::i;4377:1303::-;4523:14;;;:44;;-1:-1:-1;4541:26:27;;4523:44;4520:68;;;4576:12;;-1:-1:-1;;;4576:12:27;;;;;;;;;;;4520:68;4615:10;4646:1;4601:25;;;:13;:25;;;;;:42;;;:46;4598:72;;4656:14;;-1:-1:-1;;;4656:14:27;;;;;;;;;;;4598:72;2047:10;4683:21;:42;4680:75;;;4734:21;;-1:-1:-1;;;4734:21:27;;;;;;;;;;;4680:75;4792:18;4813:14;:12;:14::i;:::-;4792:35;-1:-1:-1;4876:25:27;4904:33;4928:9;4904:21;:33;:::i;:::-;4876:61;-1:-1:-1;4948:25:27;5021:10;4977:40;2238:4;4876:61;4977:40;:::i;:::-;4976:55;;;;:::i;:::-;4948:83;-1:-1:-1;5042:24:27;5062:4;4948:83;5042:24;:::i;:::-;-1:-1:-1;5158:165:27;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;5144:10;-1:-1:-1;5130:25:27;;;:13;:25;;;;;;;:193;;;;-1:-1:-1;;5130:193:27;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;5334:34;;5158:165;;-1:-1:-1;5334:34:27;;5158:165;;5334:34;:::i;:::-;;;;-1:-1:-1;;5384:198:27;;;1174:14:31;;1167:22;1149:41;;1221:2;1206:18;;1199:34;;;1249:18;;;1242:34;;;1307:2;1292:18;;1285:34;;;1350:3;1335:19;;1328:35;;;5412:10:27;;5384:198;;1136:3:31;1121:19;5384:198:27;;;;;;;5593:71;-1:-1:-1;;;;;5593:4:27;:21;5615:10;5635:4;5642:21;5593;:71::i;:::-;4510:1170;;;4377:1303;;;:::o;4200:150::-;4245:7;4265:13;4285:8;-1:-1:-1;;;;;4285:24:27;;:26;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;-1:-1:-1;4263:48:27;;4200:150;-1:-1:-1;;;;;4200:150:27:o;1302:160:24:-;1411:43;;-1:-1:-1;;;;;3847:32:31;;;1411:43:24;;;3829:51:31;3896:18;;;3889:34;;;1384:71:24;;1404:5;;1426:14;;;;;3802:18:31;;1411:43:24;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;1411:43:24;;;;;;;;;;;1384:19;:71::i;1701:188::-;1828:53;;-1:-1:-1;;;;;4192:15:31;;;1828:53:24;;;4174:34:31;4244:15;;;4224:18;;;4217:43;4276:18;;;4269:34;;;1801:81:24;;1821:5;;1843:18;;;;;4109::31;;1828:53:24;3934:375:31;4058:629:24;4477:23;4503:33;-1:-1:-1;;;;;4503:27:24;;4531:4;4503:27;:33::i;:::-;4477:59;;4550:10;:17;4571:1;4550:22;;:57;;;;;4588:10;4577:30;;;;;;;;;;;;:::i;:::-;4576:31;4550:57;4546:135;;;4630:40;;-1:-1:-1;;;4630:40:24;;-1:-1:-1;;;;;561:32:31;;4630:40:24;;;543:51:31;516:18;;4630:40:24;;;;;;;;2705:151:25;2780:12;2811:38;2833:6;2841:4;2847:1;2811:21;:38::i;:::-;2804:45;;2705:151;;;;;:::o;3180:392::-;3279:12;3331:5;3307:21;:29;3303:108;;;3359:41;;-1:-1:-1;;;3359:41:25;;3394:4;3359:41;;;543:51:31;516:18;;3359:41:25;381:219:31;3303:108:25;3421:12;3435:23;3462:6;-1:-1:-1;;;;;3462:11:25;3481:5;3488:4;3462:31;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3420:73;;;;3510:55;3537:6;3545:7;3554:10;3510:26;:55::i;:::-;3503:62;;;;3180:392;;;;;;:::o;4625:582::-;4769:12;4798:7;4793:408;;4821:19;4829:10;4821:7;:19::i;:::-;4793:408;;;5045:17;;:22;:49;;;;-1:-1:-1;;;;;;5071:18:25;;;:23;5045:49;5041:119;;;5121:24;;-1:-1:-1;;;5121:24:25;;-1:-1:-1;;;;;561:32:31;;5121:24:25;;;543:51:31;516:18;;5121:24:25;381:219:31;5041:119:25;-1:-1:-1;5180:10:25;5173:17;;5743:516;5874:17;;:21;5870:383;;6102:10;6096:17;6158:15;6145:10;6141:2;6137:19;6130:44;5870:383;6225:17;;-1:-1:-1;;;6225:17:25;;;;;;;;;;;14:180:31;73:6;126:2;114:9;105:7;101:23;97:32;94:52;;;142:1;139;132:12;94:52;-1:-1:-1;165:23:31;;14:180;-1:-1:-1;14:180:31:o;605:286::-;664:6;717:2;705:9;696:7;692:23;688:32;685:52;;;733:1;730;723:12;685:52;759:23;;-1:-1:-1;;;;;811:31:31;;801:42;;791:70;;857:1;854;847:12;1374:118;1460:5;1453:13;1446:21;1439:5;1436:32;1426:60;;1482:1;1479;1472:12;1497:377;1571:6;1579;1587;1640:2;1628:9;1619:7;1615:23;1611:32;1608:52;;;1656:1;1653;1646:12;1608:52;1695:9;1682:23;1714:28;1736:5;1714:28;:::i;:::-;1761:5;1813:2;1798:18;;1785:32;;-1:-1:-1;1864:2:31;1849:18;;;1836:32;;1497:377;-1:-1:-1;;;1497:377:31:o;1879:127::-;1940:10;1935:3;1931:20;1928:1;1921:31;1971:4;1968:1;1961:15;1995:4;1992:1;1985:15;2011:128;2078:9;;;2099:11;;;2096:37;;;2113:18;;:::i;2144:125::-;2209:9;;;2230:10;;;2227:36;;;2243:18;;:::i;2274:168::-;2347:9;;;2378;;2395:15;;;2389:22;;2375:37;2365:71;;2416:18;;:::i;2447:217::-;2487:1;2513;2503:132;;2557:10;2552:3;2548:20;2545:1;2538:31;2592:4;2589:1;2582:15;2620:4;2617:1;2610:15;2503:132;-1:-1:-1;2649:9:31;;2447:217::o;2993:179::-;3071:13;;3124:22;3113:34;;3103:45;;3093:73;;3162:1;3159;3152:12;3093:73;2993:179;;;:::o;3177:473::-;3280:6;3288;3296;3304;3312;3365:3;3353:9;3344:7;3340:23;3336:33;3333:53;;;3382:1;3379;3372:12;3333:53;3405:39;3434:9;3405:39;:::i;:::-;3395:49;;3484:2;3473:9;3469:18;3463:25;3453:35;;3528:2;3517:9;3513:18;3507:25;3497:35;;3572:2;3561:9;3557:18;3551:25;3541:35;;3595:49;3639:3;3628:9;3624:19;3595:49;:::i;:::-;3585:59;;3177:473;;;;;;;;:::o;4314:245::-;4381:6;4434:2;4422:9;4413:7;4409:23;4405:32;4402:52;;;4450:1;4447;4440:12;4402:52;4482:9;4476:16;4501:28;4523:5;4501:28;:::i;4772:412::-;4901:3;4939:6;4933:13;4964:1;4974:129;4988:6;4985:1;4982:13;4974:129;;;5086:4;5070:14;;;5066:25;;5060:32;5047:11;;;5040:53;5003:12;4974:129;;;-1:-1:-1;5158:1:31;5122:16;;5147:13;;;-1:-1:-1;5122:16:31;4772:412;-1:-1:-1;4772:412:31:o",
    "linkReferences": {},
    "immutableReferences": {
      "44100": [
        {
          "start": 2358,
          "length": 32
        }
      ],
      "44114": [
        {
          "start": 331,
          "length": 32
        },
        {
          "start": 830,
          "length": 32
        },
        {
          "start": 1502,
          "length": 32
        }
      ],
      "44117": [
        {
          "start": 521,
          "length": 32
        },
        {
          "start": 1295,
          "length": 32
        },
        {
          "start": 1836,
          "length": 32
        },
        {
          "start": 2305,
          "length": 32
        }
      ]
    }
  },
  "methodIdentifiers": {
    "USDC()": "89a30271",
    "WBTC()": "4dede3de",
    "checkLiquidityBorrow(uint256)": "4270710b",
    "checkLiquidityWithdraw(uint256)": "a70bf7fe",
    "depositLiquidity(uint256)": "76d58e1a",
    "getWBTCPrice()": "fa7d826a",
    "increaseCollateral(uint256)": "b8a83834",
    "increasePosition(uint256)": "4c718d06",
    "openPosition(bool,uint256,uint256)": "e3255731",
    "totalBorrowed()": "4c19386c",
    "totalDeposited()": "ff50abdc",
    "userDeposit(address)": "d1260edd",
    "userPositions(address)": "613cf420",
    "withdrawLiquidity(uint256)": "0a861f2a"
  },
  "rawMetadata": "{\"compiler\":{\"version\":\"0.8.21+commit.d9974bed\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_WBTC\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_USDC\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"chainlinkPriceFeed\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"target\",\"type\":\"address\"}],\"name\":\"AddressEmptyCode\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"AddressInsufficientBalance\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"FailedInnerCall\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NotEnoughCollateral\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NotEnoughLiquidity\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"PositionOpen\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"}],\"name\":\"SafeERC20FailedOperation\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ZeroAmount\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"additionalCollateralAmountUsdc\",\"type\":\"uint256\"}],\"name\":\"CollateralIncreased\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"LiquidityDeposited\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"LiquidityWithdrawn\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"additionalCollateralAmountUsdc\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"newborrowAmountUsdc\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"newBorrowAmountWbtc\",\"type\":\"uint256\"}],\"name\":\"PositionIncreased\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"bool\",\"name\":\"positionType\",\"type\":\"bool\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"leverage\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"collateralAmountUsdc\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"borrowAmountUsdc\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"borrowAmountWbtc\",\"type\":\"uint256\"}],\"name\":\"PositionOpened\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"USDC\",\"outputs\":[{\"internalType\":\"contract IERC20\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"WBTC\",\"outputs\":[{\"internalType\":\"contract IERC20\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"checkLiquidityBorrow\",\"outputs\":[],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"checkLiquidityWithdraw\",\"outputs\":[],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"depositLiquidity\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getWBTCPrice\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_collateralAmountUsdc\",\"type\":\"uint256\"}],\"name\":\"increaseCollateral\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_collateralAmountUsdc\",\"type\":\"uint256\"}],\"name\":\"increasePosition\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bool\",\"name\":\"_positionType\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"_leverage\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_collateralAmountUsdc\",\"type\":\"uint256\"}],\"name\":\"openPosition\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"totalBorrowed\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"totalDeposited\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"userDeposit\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"userPositions\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"positionType\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"leverage\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"collateralAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"borrowAmountUsdc\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"borrowAmountWbtc\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"withdrawLiquidity\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"errors\":{\"AddressEmptyCode(address)\":[{\"details\":\"There's no code at `target` (it is not a contract).\"}],\"AddressInsufficientBalance(address)\":[{\"details\":\"The ETH balance of the account is not enough to perform the operation.\"}],\"FailedInnerCall()\":[{\"details\":\"A call to an address target failed. The target may have reverted.\"}],\"SafeERC20FailedOperation(address)\":[{\"details\":\"An operation with an ERC20 token failed.\"}]},\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/simple-perpetual-exchange.sol\":\"perpetual\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@chainlink-testing/=lib/foundry-chainlink-toolkit/lib/chainlink-testing-framework/contracts/ethereum/\",\":@chainlink/=lib/foundry-chainlink-toolkit/lib/chainlink-brownie-contracts/contracts/src/\",\":@openzeppelin/=lib/foundry-chainlink-toolkit/lib/openzeppelin-contracts/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":chainlink-brownie-contracts/=lib/foundry-chainlink-toolkit/lib/chainlink-brownie-contracts/\",\":chainlink-testing-framework/=lib/foundry-chainlink-toolkit/lib/chainlink-testing-framework/contracts/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":foundry-chainlink-toolkit/=lib/foundry-chainlink-toolkit/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\"]},\"sources\":{\"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol\":{\"keccak256\":\"0xc6a8ff0ea489379b61faa647490411b80102578440ab9d84e9a957cc12164e70\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://0ea104e577e63faea3b69c415637e99e755dcbf64c5833d7140c35a714d6d90c\",\"dweb:/ipfs/Qmau6x4Ns9XdyynRCNNp3RhLqijJjFm7z5fyZazfYFGYdq\"]},\"lib/openzeppelin-contracts/contracts/token/ERC20/extensions/IERC20Permit.sol\":{\"keccak256\":\"0x6008dabfe393240d73d7dd7688033f72740d570aa422254d29a7dce8568f3aff\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://f5196ec75139918c6c7bb4251b36395e668f1fa6d206beba7e7520e74913940d\",\"dweb:/ipfs/QmSyqjksXxmm2mCG6qRd1yuwLykypkSVBbnBnGqJRcuJMi\"]},\"lib/openzeppelin-contracts/contracts/token/ERC20/utils/SafeERC20.sol\":{\"keccak256\":\"0x77ac5c86845c8e2cf952ecc293a854c02a41d546ae38d1fb9048bf45a2b852f7\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://3c39a3f67ba3359bcffad116a3d195ac8abcb6295300715c59b3634e954925ed\",\"dweb:/ipfs/QmSY4qVDm5Rrdyk8ucJyQU88iKYGunNFweETGmmTF5nzQr\"]},\"lib/openzeppelin-contracts/contracts/utils/Address.sol\":{\"keccak256\":\"0xaf28a975a78550e45f65e559a3ad6a5ad43b9b8a37366999abd1b7084eb70721\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://b7bd24e224f67f65bfadf85dc2929fa965456bb2415478bd0125471b5ce35245\",\"dweb:/ipfs/QmRaydGr8BTHs1kvaZfsNU69pKzUAGFrvABn1KiRSbE51y\"]},\"src/interfaces/AggregatorV3Interface.sol\":{\"keccak256\":\"0xd7ed4b2745981c8388bfa31e97524e0f38a173191e5e7ed4ea8138a48c0d6b2d\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://e3a80d4e21cc844aa1f7e805b02d51c605a8ebac61d0d607a1866b0895a4ff99\",\"dweb:/ipfs/QmbQTSU4hNmrNRXktAdAoovjo1kUgX4kPeomw6egcG2ir3\"]},\"src/simple-perpetual-exchange.sol\":{\"keccak256\":\"0x5415f397db015a588bda54226cea8e50625fe18598e4eee26598ff878b7aaa99\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://ec73134d6bc55ea0dbeef0c0d0ef2aa559c523878f186c3521e917e76937cdbb\",\"dweb:/ipfs/QmUF9viHLjj4JrjnnKyBbEJMqpHmymv6mKYQh4X6kLTRX1\"]}},\"version\":1}",
  "metadata": {
    "compiler": {
      "version": "0.8.21+commit.d9974bed"
    },
    "language": "Solidity",
    "output": {
      "abi": [
        {
          "inputs": [
            {
              "internalType": "address",
              "name": "_WBTC",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "_USDC",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "chainlinkPriceFeed",
              "type": "address"
            }
          ],
          "stateMutability": "nonpayable",
          "type": "constructor"
        },
        {
          "inputs": [
            {
              "internalType": "address",
              "name": "target",
              "type": "address"
            }
          ],
          "type": "error",
          "name": "AddressEmptyCode"
        },
        {
          "inputs": [
            {
              "internalType": "address",
              "name": "account",
              "type": "address"
            }
          ],
          "type": "error",
          "name": "AddressInsufficientBalance"
        },
        {
          "inputs": [],
          "type": "error",
          "name": "FailedInnerCall"
        },
        {
          "inputs": [],
          "type": "error",
          "name": "NotEnoughCollateral"
        },
        {
          "inputs": [],
          "type": "error",
          "name": "NotEnoughLiquidity"
        },
        {
          "inputs": [],
          "type": "error",
          "name": "PositionOpen"
        },
        {
          "inputs": [
            {
              "internalType": "address",
              "name": "token",
              "type": "address"
            }
          ],
          "type": "error",
          "name": "SafeERC20FailedOperation"
        },
        {
          "inputs": [],
          "type": "error",
          "name": "ZeroAmount"
        },
        {
          "inputs": [
            {
              "internalType": "address",
              "name": "user",
              "type": "address",
              "indexed": true
            },
            {
              "internalType": "uint256",
              "name": "additionalCollateralAmountUsdc",
              "type": "uint256",
              "indexed": false
            }
          ],
          "type": "event",
          "name": "CollateralIncreased",
          "anonymous": false
        },
        {
          "inputs": [
            {
              "internalType": "address",
              "name": "user",
              "type": "address",
              "indexed": true
            },
            {
              "internalType": "uint256",
              "name": "amount",
              "type": "uint256",
              "indexed": false
            }
          ],
          "type": "event",
          "name": "LiquidityDeposited",
          "anonymous": false
        },
        {
          "inputs": [
            {
              "internalType": "address",
              "name": "user",
              "type": "address",
              "indexed": true
            },
            {
              "internalType": "uint256",
              "name": "amount",
              "type": "uint256",
              "indexed": false
            }
          ],
          "type": "event",
          "name": "LiquidityWithdrawn",
          "anonymous": false
        },
        {
          "inputs": [
            {
              "internalType": "address",
              "name": "user",
              "type": "address",
              "indexed": true
            },
            {
              "internalType": "uint256",
              "name": "additionalCollateralAmountUsdc",
              "type": "uint256",
              "indexed": false
            },
            {
              "internalType": "uint256",
              "name": "newborrowAmountUsdc",
              "type": "uint256",
              "indexed": false
            },
            {
              "internalType": "uint256",
              "name": "newBorrowAmountWbtc",
              "type": "uint256",
              "indexed": false
            }
          ],
          "type": "event",
          "name": "PositionIncreased",
          "anonymous": false
        },
        {
          "inputs": [
            {
              "internalType": "address",
              "name": "user",
              "type": "address",
              "indexed": true
            },
            {
              "internalType": "bool",
              "name": "positionType",
              "type": "bool",
              "indexed": false
            },
            {
              "internalType": "uint256",
              "name": "leverage",
              "type": "uint256",
              "indexed": false
            },
            {
              "internalType": "uint256",
              "name": "collateralAmountUsdc",
              "type": "uint256",
              "indexed": false
            },
            {
              "internalType": "uint256",
              "name": "borrowAmountUsdc",
              "type": "uint256",
              "indexed": false
            },
            {
              "internalType": "uint256",
              "name": "borrowAmountWbtc",
              "type": "uint256",
              "indexed": false
            }
          ],
          "type": "event",
          "name": "PositionOpened",
          "anonymous": false
        },
        {
          "inputs": [],
          "stateMutability": "view",
          "type": "function",
          "name": "USDC",
          "outputs": [
            {
              "internalType": "contract IERC20",
              "name": "",
              "type": "address"
            }
          ]
        },
        {
          "inputs": [],
          "stateMutability": "view",
          "type": "function",
          "name": "WBTC",
          "outputs": [
            {
              "internalType": "contract IERC20",
              "name": "",
              "type": "address"
            }
          ]
        },
        {
          "inputs": [
            {
              "internalType": "uint256",
              "name": "_amount",
              "type": "uint256"
            }
          ],
          "stateMutability": "view",
          "type": "function",
          "name": "checkLiquidityBorrow"
        },
        {
          "inputs": [
            {
              "internalType": "uint256",
              "name": "_amount",
              "type": "uint256"
            }
          ],
          "stateMutability": "view",
          "type": "function",
          "name": "checkLiquidityWithdraw"
        },
        {
          "inputs": [
            {
              "internalType": "uint256",
              "name": "_amount",
              "type": "uint256"
            }
          ],
          "stateMutability": "nonpayable",
          "type": "function",
          "name": "depositLiquidity"
        },
        {
          "inputs": [],
          "stateMutability": "view",
          "type": "function",
          "name": "getWBTCPrice",
          "outputs": [
            {
              "internalType": "uint256",
              "name": "",
              "type": "uint256"
            }
          ]
        },
        {
          "inputs": [
            {
              "internalType": "uint256",
              "name": "_collateralAmountUsdc",
              "type": "uint256"
            }
          ],
          "stateMutability": "nonpayable",
          "type": "function",
          "name": "increaseCollateral"
        },
        {
          "inputs": [
            {
              "internalType": "uint256",
              "name": "_collateralAmountUsdc",
              "type": "uint256"
            }
          ],
          "stateMutability": "nonpayable",
          "type": "function",
          "name": "increasePosition"
        },
        {
          "inputs": [
            {
              "internalType": "bool",
              "name": "_positionType",
              "type": "bool"
            },
            {
              "internalType": "uint256",
              "name": "_leverage",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "_collateralAmountUsdc",
              "type": "uint256"
            }
          ],
          "stateMutability": "nonpayable",
          "type": "function",
          "name": "openPosition"
        },
        {
          "inputs": [],
          "stateMutability": "view",
          "type": "function",
          "name": "totalBorrowed",
          "outputs": [
            {
              "internalType": "uint256",
              "name": "",
              "type": "uint256"
            }
          ]
        },
        {
          "inputs": [],
          "stateMutability": "view",
          "type": "function",
          "name": "totalDeposited",
          "outputs": [
            {
              "internalType": "uint256",
              "name": "",
              "type": "uint256"
            }
          ]
        },
        {
          "inputs": [
            {
              "internalType": "address",
              "name": "",
              "type": "address"
            }
          ],
          "stateMutability": "view",
          "type": "function",
          "name": "userDeposit",
          "outputs": [
            {
              "internalType": "uint256",
              "name": "",
              "type": "uint256"
            }
          ]
        },
        {
          "inputs": [
            {
              "internalType": "address",
              "name": "",
              "type": "address"
            }
          ],
          "stateMutability": "view",
          "type": "function",
          "name": "userPositions",
          "outputs": [
            {
              "internalType": "bool",
              "name": "positionType",
              "type": "bool"
            },
            {
              "internalType": "uint256",
              "name": "leverage",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "collateralAmount",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "borrowAmountUsdc",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "borrowAmountWbtc",
              "type": "uint256"
            }
          ]
        },
        {
          "inputs": [
            {
              "internalType": "uint256",
              "name": "_amount",
              "type": "uint256"
            }
          ],
          "stateMutability": "nonpayable",
          "type": "function",
          "name": "withdrawLiquidity"
        }
      ],
      "devdoc": {
        "kind": "dev",
        "methods": {},
        "version": 1
      },
      "userdoc": {
        "kind": "user",
        "methods": {},
        "version": 1
      }
    },
    "settings": {
      "remappings": [
        "@chainlink-testing/=lib/foundry-chainlink-toolkit/lib/chainlink-testing-framework/contracts/ethereum/",
        "@chainlink/=lib/foundry-chainlink-toolkit/lib/chainlink-brownie-contracts/contracts/src/",
        "@openzeppelin/=lib/foundry-chainlink-toolkit/lib/openzeppelin-contracts/",
        "@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/",
        "chainlink-brownie-contracts/=lib/foundry-chainlink-toolkit/lib/chainlink-brownie-contracts/",
        "chainlink-testing-framework/=lib/foundry-chainlink-toolkit/lib/chainlink-testing-framework/contracts/",
        "ds-test/=lib/forge-std/lib/ds-test/src/",
        "erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/",
        "forge-std/=lib/forge-std/src/",
        "foundry-chainlink-toolkit/=lib/foundry-chainlink-toolkit/",
        "openzeppelin-contracts/=lib/openzeppelin-contracts/"
      ],
      "optimizer": {
        "enabled": true,
        "runs": 200
      },
      "metadata": {
        "bytecodeHash": "ipfs"
      },
      "compilationTarget": {
        "src/simple-perpetual-exchange.sol": "perpetual"
      },
      "libraries": {}
    },
    "sources": {
      "lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol": {
        "keccak256": "0xc6a8ff0ea489379b61faa647490411b80102578440ab9d84e9a957cc12164e70",
        "urls": [
          "bzz-raw://0ea104e577e63faea3b69c415637e99e755dcbf64c5833d7140c35a714d6d90c",
          "dweb:/ipfs/Qmau6x4Ns9XdyynRCNNp3RhLqijJjFm7z5fyZazfYFGYdq"
        ],
        "license": "MIT"
      },
      "lib/openzeppelin-contracts/contracts/token/ERC20/extensions/IERC20Permit.sol": {
        "keccak256": "0x6008dabfe393240d73d7dd7688033f72740d570aa422254d29a7dce8568f3aff",
        "urls": [
          "bzz-raw://f5196ec75139918c6c7bb4251b36395e668f1fa6d206beba7e7520e74913940d",
          "dweb:/ipfs/QmSyqjksXxmm2mCG6qRd1yuwLykypkSVBbnBnGqJRcuJMi"
        ],
        "license": "MIT"
      },
      "lib/openzeppelin-contracts/contracts/token/ERC20/utils/SafeERC20.sol": {
        "keccak256": "0x77ac5c86845c8e2cf952ecc293a854c02a41d546ae38d1fb9048bf45a2b852f7",
        "urls": [
          "bzz-raw://3c39a3f67ba3359bcffad116a3d195ac8abcb6295300715c59b3634e954925ed",
          "dweb:/ipfs/QmSY4qVDm5Rrdyk8ucJyQU88iKYGunNFweETGmmTF5nzQr"
        ],
        "license": "MIT"
      },
      "lib/openzeppelin-contracts/contracts/utils/Address.sol": {
        "keccak256": "0xaf28a975a78550e45f65e559a3ad6a5ad43b9b8a37366999abd1b7084eb70721",
        "urls": [
          "bzz-raw://b7bd24e224f67f65bfadf85dc2929fa965456bb2415478bd0125471b5ce35245",
          "dweb:/ipfs/QmRaydGr8BTHs1kvaZfsNU69pKzUAGFrvABn1KiRSbE51y"
        ],
        "license": "MIT"
      },
      "src/interfaces/AggregatorV3Interface.sol": {
        "keccak256": "0xd7ed4b2745981c8388bfa31e97524e0f38a173191e5e7ed4ea8138a48c0d6b2d",
        "urls": [
          "bzz-raw://e3a80d4e21cc844aa1f7e805b02d51c605a8ebac61d0d607a1866b0895a4ff99",
          "dweb:/ipfs/QmbQTSU4hNmrNRXktAdAoovjo1kUgX4kPeomw6egcG2ir3"
        ],
        "license": "MIT"
      },
      "src/simple-perpetual-exchange.sol": {
        "keccak256": "0x5415f397db015a588bda54226cea8e50625fe18598e4eee26598ff878b7aaa99",
        "urls": [
          "bzz-raw://ec73134d6bc55ea0dbeef0c0d0ef2aa559c523878f186c3521e917e76937cdbb",
          "dweb:/ipfs/QmUF9viHLjj4JrjnnKyBbEJMqpHmymv6mKYQh4X6kLTRX1"
        ],
        "license": "MIT"
      }
    },
    "version": 1
  },
  "ast": {
    "absolutePath": "src/simple-perpetual-exchange.sol",
    "id": 44652,
    "exportedSymbols": {
      "Address": [
        45671
      ],
      "AggregatorV3Interface": [
        44089
      ],
      "IERC20": [
        45382
      ],
      "IERC20Permit": [
        45418
      ],
      "SafeERC20": [
        45304
      ],
      "perpetual": [
        44651
      ]
    },
    "nodeType": "SourceUnit",
    "src": "32:8206:27",
    "nodes": [
      {
        "id": 44091,
        "nodeType": "PragmaDirective",
        "src": "32:23:27",
        "nodes": [],
        "literals": [
          "solidity",
          "^",
          "0.8",
          ".4"
        ]
      },
      {
        "id": 44092,
        "nodeType": "ImportDirective",
        "src": "57:65:27",
        "nodes": [],
        "absolutePath": "lib/openzeppelin-contracts/contracts/token/ERC20/utils/SafeERC20.sol",
        "file": "@openzeppelin/contracts/token/ERC20/utils/SafeERC20.sol",
        "nameLocation": "-1:-1:-1",
        "scope": 44652,
        "sourceUnit": 45305,
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "id": 44093,
        "nodeType": "ImportDirective",
        "src": "123:48:27",
        "nodes": [],
        "absolutePath": "src/interfaces/AggregatorV3Interface.sol",
        "file": "./interfaces/AggregatorV3Interface.sol",
        "nameLocation": "-1:-1:-1",
        "scope": 44652,
        "sourceUnit": 44090,
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "id": 44651,
        "nodeType": "ContractDefinition",
        "src": "1069:7168:27",
        "nodes": [
          {
            "id": 44097,
            "nodeType": "UsingForDirective",
            "src": "1095:27:27",
            "nodes": [],
            "global": false,
            "libraryName": {
              "id": 44094,
              "name": "SafeERC20",
              "nameLocations": [
                "1101:9:27"
              ],
              "nodeType": "IdentifierPath",
              "referencedDeclaration": 45304,
              "src": "1101:9:27"
            },
            "typeName": {
              "id": 44096,
              "nodeType": "UserDefinedTypeName",
              "pathNode": {
                "id": 44095,
                "name": "IERC20",
                "nameLocations": [
                  "1115:6:27"
                ],
                "nodeType": "IdentifierPath",
                "referencedDeclaration": 45382,
                "src": "1115:6:27"
              },
              "referencedDeclaration": 45382,
              "src": "1115:6:27",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_IERC20_$45382",
                "typeString": "contract IERC20"
              }
            }
          },
          {
            "id": 44100,
            "nodeType": "VariableDeclaration",
            "src": "1127:49:27",
            "nodes": [],
            "constant": false,
            "mutability": "immutable",
            "name": "dataFeed",
            "nameLocation": "1168:8:27",
            "scope": 44651,
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_contract$_AggregatorV3Interface_$44089",
              "typeString": "contract AggregatorV3Interface"
            },
            "typeName": {
              "id": 44099,
              "nodeType": "UserDefinedTypeName",
              "pathNode": {
                "id": 44098,
                "name": "AggregatorV3Interface",
                "nameLocations": [
                  "1127:21:27"
                ],
                "nodeType": "IdentifierPath",
                "referencedDeclaration": 44089,
                "src": "1127:21:27"
              },
              "referencedDeclaration": 44089,
              "src": "1127:21:27",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_AggregatorV3Interface_$44089",
                "typeString": "contract AggregatorV3Interface"
              }
            },
            "visibility": "internal"
          },
          {
            "id": 44111,
            "nodeType": "StructDefinition",
            "src": "1183:292:27",
            "nodes": [],
            "canonicalName": "perpetual.position",
            "members": [
              {
                "constant": false,
                "id": 44102,
                "mutability": "mutable",
                "name": "positionType",
                "nameLocation": "1214:12:27",
                "nodeType": "VariableDeclaration",
                "scope": 44111,
                "src": "1209:17:27",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_bool",
                  "typeString": "bool"
                },
                "typeName": {
                  "id": 44101,
                  "name": "bool",
                  "nodeType": "ElementaryTypeName",
                  "src": "1209:4:27",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bool",
                    "typeString": "bool"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 44104,
                "mutability": "mutable",
                "name": "leverage",
                "nameLocation": "1276:8:27",
                "nodeType": "VariableDeclaration",
                "scope": 44111,
                "src": "1268:16:27",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_uint256",
                  "typeString": "uint256"
                },
                "typeName": {
                  "id": 44103,
                  "name": "uint256",
                  "nodeType": "ElementaryTypeName",
                  "src": "1268:7:27",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 44106,
                "mutability": "mutable",
                "name": "collateralAmount",
                "nameLocation": "1342:16:27",
                "nodeType": "VariableDeclaration",
                "scope": 44111,
                "src": "1334:24:27",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_uint256",
                  "typeString": "uint256"
                },
                "typeName": {
                  "id": 44105,
                  "name": "uint256",
                  "nodeType": "ElementaryTypeName",
                  "src": "1334:7:27",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 44108,
                "mutability": "mutable",
                "name": "borrowAmountUsdc",
                "nameLocation": "1384:16:27",
                "nodeType": "VariableDeclaration",
                "scope": 44111,
                "src": "1376:24:27",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_uint256",
                  "typeString": "uint256"
                },
                "typeName": {
                  "id": 44107,
                  "name": "uint256",
                  "nodeType": "ElementaryTypeName",
                  "src": "1376:7:27",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 44110,
                "mutability": "mutable",
                "name": "borrowAmountWbtc",
                "nameLocation": "1435:16:27",
                "nodeType": "VariableDeclaration",
                "scope": 44111,
                "src": "1427:24:27",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_uint256",
                  "typeString": "uint256"
                },
                "typeName": {
                  "id": 44109,
                  "name": "uint256",
                  "nodeType": "ElementaryTypeName",
                  "src": "1427:7:27",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  }
                },
                "visibility": "internal"
              }
            ],
            "name": "position",
            "nameLocation": "1190:8:27",
            "scope": 44651,
            "visibility": "public"
          },
          {
            "id": 44114,
            "nodeType": "VariableDeclaration",
            "src": "1501:28:27",
            "nodes": [],
            "constant": false,
            "functionSelector": "4dede3de",
            "mutability": "immutable",
            "name": "WBTC",
            "nameLocation": "1525:4:27",
            "scope": 44651,
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_contract$_IERC20_$45382",
              "typeString": "contract IERC20"
            },
            "typeName": {
              "id": 44113,
              "nodeType": "UserDefinedTypeName",
              "pathNode": {
                "id": 44112,
                "name": "IERC20",
                "nameLocations": [
                  "1501:6:27"
                ],
                "nodeType": "IdentifierPath",
                "referencedDeclaration": 45382,
                "src": "1501:6:27"
              },
              "referencedDeclaration": 45382,
              "src": "1501:6:27",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_IERC20_$45382",
                "typeString": "contract IERC20"
              }
            },
            "visibility": "public"
          },
          {
            "id": 44117,
            "nodeType": "VariableDeclaration",
            "src": "1536:28:27",
            "nodes": [],
            "constant": false,
            "functionSelector": "89a30271",
            "mutability": "immutable",
            "name": "USDC",
            "nameLocation": "1560:4:27",
            "scope": 44651,
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_contract$_IERC20_$45382",
              "typeString": "contract IERC20"
            },
            "typeName": {
              "id": 44116,
              "nodeType": "UserDefinedTypeName",
              "pathNode": {
                "id": 44115,
                "name": "IERC20",
                "nameLocations": [
                  "1536:6:27"
                ],
                "nodeType": "IdentifierPath",
                "referencedDeclaration": 45382,
                "src": "1536:6:27"
              },
              "referencedDeclaration": 45382,
              "src": "1536:6:27",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_IERC20_$45382",
                "typeString": "contract IERC20"
              }
            },
            "visibility": "public"
          },
          {
            "id": 44121,
            "nodeType": "VariableDeclaration",
            "src": "1640:46:27",
            "nodes": [],
            "constant": false,
            "functionSelector": "d1260edd",
            "mutability": "mutable",
            "name": "userDeposit",
            "nameLocation": "1675:11:27",
            "scope": 44651,
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_mapping$_t_address_$_t_uint256_$",
              "typeString": "mapping(address => uint256)"
            },
            "typeName": {
              "id": 44120,
              "keyName": "",
              "keyNameLocation": "-1:-1:-1",
              "keyType": {
                "id": 44118,
                "name": "address",
                "nodeType": "ElementaryTypeName",
                "src": "1648:7:27",
                "typeDescriptions": {
                  "typeIdentifier": "t_address",
                  "typeString": "address"
                }
              },
              "nodeType": "Mapping",
              "src": "1640:27:27",
              "typeDescriptions": {
                "typeIdentifier": "t_mapping$_t_address_$_t_uint256_$",
                "typeString": "mapping(address => uint256)"
              },
              "valueName": "",
              "valueNameLocation": "-1:-1:-1",
              "valueType": {
                "id": 44119,
                "name": "uint256",
                "nodeType": "ElementaryTypeName",
                "src": "1659:7:27",
                "typeDescriptions": {
                  "typeIdentifier": "t_uint256",
                  "typeString": "uint256"
                }
              }
            },
            "visibility": "public"
          },
          {
            "id": 44126,
            "nodeType": "VariableDeclaration",
            "src": "1693:49:27",
            "nodes": [],
            "constant": false,
            "functionSelector": "613cf420",
            "mutability": "mutable",
            "name": "userPositions",
            "nameLocation": "1729:13:27",
            "scope": 44651,
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_mapping$_t_address_$_t_struct$_position_$44111_storage_$",
              "typeString": "mapping(address => struct perpetual.position)"
            },
            "typeName": {
              "id": 44125,
              "keyName": "",
              "keyNameLocation": "-1:-1:-1",
              "keyType": {
                "id": 44122,
                "name": "address",
                "nodeType": "ElementaryTypeName",
                "src": "1701:7:27",
                "typeDescriptions": {
                  "typeIdentifier": "t_address",
                  "typeString": "address"
                }
              },
              "nodeType": "Mapping",
              "src": "1693:28:27",
              "typeDescriptions": {
                "typeIdentifier": "t_mapping$_t_address_$_t_struct$_position_$44111_storage_$",
                "typeString": "mapping(address => struct perpetual.position)"
              },
              "valueName": "",
              "valueNameLocation": "-1:-1:-1",
              "valueType": {
                "id": 44124,
                "nodeType": "UserDefinedTypeName",
                "pathNode": {
                  "id": 44123,
                  "name": "position",
                  "nameLocations": [
                    "1712:8:27"
                  ],
                  "nodeType": "IdentifierPath",
                  "referencedDeclaration": 44111,
                  "src": "1712:8:27"
                },
                "referencedDeclaration": 44111,
                "src": "1712:8:27",
                "typeDescriptions": {
                  "typeIdentifier": "t_struct$_position_$44111_storage_ptr",
                  "typeString": "struct perpetual.position"
                }
              }
            },
            "visibility": "public"
          },
          {
            "id": 44128,
            "nodeType": "VariableDeclaration",
            "src": "1753:29:27",
            "nodes": [],
            "constant": false,
            "functionSelector": "ff50abdc",
            "mutability": "mutable",
            "name": "totalDeposited",
            "nameLocation": "1768:14:27",
            "scope": 44651,
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_uint256",
              "typeString": "uint256"
            },
            "typeName": {
              "id": 44127,
              "name": "uint256",
              "nodeType": "ElementaryTypeName",
              "src": "1753:7:27",
              "typeDescriptions": {
                "typeIdentifier": "t_uint256",
                "typeString": "uint256"
              }
            },
            "visibility": "public"
          },
          {
            "id": 44130,
            "nodeType": "VariableDeclaration",
            "src": "1788:28:27",
            "nodes": [],
            "constant": false,
            "functionSelector": "4c19386c",
            "mutability": "mutable",
            "name": "totalBorrowed",
            "nameLocation": "1803:13:27",
            "scope": 44651,
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_uint256",
              "typeString": "uint256"
            },
            "typeName": {
              "id": 44129,
              "name": "uint256",
              "nodeType": "ElementaryTypeName",
              "src": "1788:7:27",
              "typeDescriptions": {
                "typeIdentifier": "t_uint256",
                "typeString": "uint256"
              }
            },
            "visibility": "public"
          },
          {
            "id": 44133,
            "nodeType": "VariableDeclaration",
            "src": "2009:48:27",
            "nodes": [],
            "constant": true,
            "mutability": "constant",
            "name": "MINIMUM_COLLATERAL",
            "nameLocation": "2026:18:27",
            "scope": 44651,
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_uint256",
              "typeString": "uint256"
            },
            "typeName": {
              "id": 44131,
              "name": "uint256",
              "nodeType": "ElementaryTypeName",
              "src": "2009:7:27",
              "typeDescriptions": {
                "typeIdentifier": "t_uint256",
                "typeString": "uint256"
              }
            },
            "value": {
              "hexValue": "31305f3030305f303030",
              "id": 44132,
              "isConstant": false,
              "isLValue": false,
              "isPure": true,
              "kind": "number",
              "lValueRequested": false,
              "nodeType": "Literal",
              "src": "2047:10:27",
              "typeDescriptions": {
                "typeIdentifier": "t_rational_10000000_by_1",
                "typeString": "int_const 10000000"
              },
              "value": "10_000_000"
            },
            "visibility": "internal"
          },
          {
            "id": 44136,
            "nodeType": "VariableDeclaration",
            "src": "2126:47:27",
            "nodes": [],
            "constant": true,
            "mutability": "constant",
            "name": "MINIMUM_RESERVE_RATIO",
            "nameLocation": "2143:21:27",
            "scope": 44651,
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_uint256",
              "typeString": "uint256"
            },
            "typeName": {
              "id": 44134,
              "name": "uint256",
              "nodeType": "ElementaryTypeName",
              "src": "2126:7:27",
              "typeDescriptions": {
                "typeIdentifier": "t_uint256",
                "typeString": "uint256"
              }
            },
            "value": {
              "hexValue": "31355f303030",
              "id": 44135,
              "isConstant": false,
              "isLValue": false,
              "isPure": true,
              "kind": "number",
              "lValueRequested": false,
              "nodeType": "Literal",
              "src": "2167:6:27",
              "typeDescriptions": {
                "typeIdentifier": "t_rational_15000_by_1",
                "typeString": "int_const 15000"
              },
              "value": "15_000"
            },
            "visibility": "internal"
          },
          {
            "id": 44139,
            "nodeType": "VariableDeclaration",
            "src": "2199:43:27",
            "nodes": [],
            "constant": true,
            "mutability": "constant",
            "name": "WBTC_DIVISION_SCALE",
            "nameLocation": "2216:19:27",
            "scope": 44651,
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_uint256",
              "typeString": "uint256"
            },
            "typeName": {
              "id": 44137,
              "name": "uint256",
              "nodeType": "ElementaryTypeName",
              "src": "2199:7:27",
              "typeDescriptions": {
                "typeIdentifier": "t_uint256",
                "typeString": "uint256"
              }
            },
            "value": {
              "hexValue": "31653138",
              "id": 44138,
              "isConstant": false,
              "isLValue": false,
              "isPure": true,
              "kind": "number",
              "lValueRequested": false,
              "nodeType": "Literal",
              "src": "2238:4:27",
              "typeDescriptions": {
                "typeIdentifier": "t_rational_1000000000000000000_by_1",
                "typeString": "int_const 1000000000000000000"
              },
              "value": "1e18"
            },
            "visibility": "internal"
          },
          {
            "id": 44142,
            "nodeType": "VariableDeclaration",
            "src": "2248:40:27",
            "nodes": [],
            "constant": true,
            "mutability": "constant",
            "name": "WBTC_ACTUAL_SCALE",
            "nameLocation": "2265:17:27",
            "scope": 44651,
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_uint256",
              "typeString": "uint256"
            },
            "typeName": {
              "id": 44140,
              "name": "uint256",
              "nodeType": "ElementaryTypeName",
              "src": "2248:7:27",
              "typeDescriptions": {
                "typeIdentifier": "t_uint256",
                "typeString": "uint256"
              }
            },
            "value": {
              "hexValue": "316538",
              "id": 44141,
              "isConstant": false,
              "isLValue": false,
              "isPure": true,
              "kind": "number",
              "lValueRequested": false,
              "nodeType": "Literal",
              "src": "2285:3:27",
              "typeDescriptions": {
                "typeIdentifier": "t_rational_100000000_by_1",
                "typeString": "int_const 100000000"
              },
              "value": "1e8"
            },
            "visibility": "internal"
          },
          {
            "id": 44145,
            "nodeType": "VariableDeclaration",
            "src": "2294:38:27",
            "nodes": [],
            "constant": true,
            "mutability": "constant",
            "name": "LIQUIDITY_SCALE",
            "nameLocation": "2311:15:27",
            "scope": 44651,
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_uint256",
              "typeString": "uint256"
            },
            "typeName": {
              "id": 44143,
              "name": "uint256",
              "nodeType": "ElementaryTypeName",
              "src": "2294:7:27",
              "typeDescriptions": {
                "typeIdentifier": "t_uint256",
                "typeString": "uint256"
              }
            },
            "value": {
              "hexValue": "316534",
              "id": 44144,
              "isConstant": false,
              "isLValue": false,
              "isPure": true,
              "kind": "number",
              "lValueRequested": false,
              "nodeType": "Literal",
              "src": "2329:3:27",
              "typeDescriptions": {
                "typeIdentifier": "t_rational_10000_by_1",
                "typeString": "int_const 10000"
              },
              "value": "1e4"
            },
            "visibility": "internal"
          },
          {
            "id": 44151,
            "nodeType": "EventDefinition",
            "src": "2340:63:27",
            "nodes": [],
            "anonymous": false,
            "eventSelector": "7ff07ce9a287649537e4b012e45cf012d90228b12e2b56bb03515a6b5436fcdf",
            "name": "LiquidityDeposited",
            "nameLocation": "2346:18:27",
            "parameters": {
              "id": 44150,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 44147,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "user",
                  "nameLocation": "2381:4:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44151,
                  "src": "2365:20:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 44146,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "2365:7:27",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 44149,
                  "indexed": false,
                  "mutability": "mutable",
                  "name": "amount",
                  "nameLocation": "2395:6:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44151,
                  "src": "2387:14:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 44148,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2387:7:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "2364:38:27"
            }
          },
          {
            "id": 44157,
            "nodeType": "EventDefinition",
            "src": "2408:63:27",
            "nodes": [],
            "anonymous": false,
            "eventSelector": "b1cce8684b4ffa8667b4577654e61ee3480d661ee9c27522ac80e211f6bd4d25",
            "name": "LiquidityWithdrawn",
            "nameLocation": "2414:18:27",
            "parameters": {
              "id": 44156,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 44153,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "user",
                  "nameLocation": "2449:4:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44157,
                  "src": "2433:20:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 44152,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "2433:7:27",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 44155,
                  "indexed": false,
                  "mutability": "mutable",
                  "name": "amount",
                  "nameLocation": "2463:6:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44157,
                  "src": "2455:14:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 44154,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2455:7:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "2432:38:27"
            }
          },
          {
            "id": 44171,
            "nodeType": "EventDefinition",
            "src": "2476:219:27",
            "nodes": [],
            "anonymous": false,
            "eventSelector": "0e8f4b81343afa64bc4ddcfbf2d80e883e0ddfc6663c400ca09da13d1d28d588",
            "name": "PositionOpened",
            "nameLocation": "2482:14:27",
            "parameters": {
              "id": 44170,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 44159,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "user",
                  "nameLocation": "2522:4:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44171,
                  "src": "2506:20:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 44158,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "2506:7:27",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 44161,
                  "indexed": false,
                  "mutability": "mutable",
                  "name": "positionType",
                  "nameLocation": "2542:12:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44171,
                  "src": "2537:17:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bool",
                    "typeString": "bool"
                  },
                  "typeName": {
                    "id": 44160,
                    "name": "bool",
                    "nodeType": "ElementaryTypeName",
                    "src": "2537:4:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 44163,
                  "indexed": false,
                  "mutability": "mutable",
                  "name": "leverage",
                  "nameLocation": "2573:8:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44171,
                  "src": "2565:16:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 44162,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2565:7:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 44165,
                  "indexed": false,
                  "mutability": "mutable",
                  "name": "collateralAmountUsdc",
                  "nameLocation": "2600:20:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44171,
                  "src": "2592:28:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 44164,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2592:7:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 44167,
                  "indexed": false,
                  "mutability": "mutable",
                  "name": "borrowAmountUsdc",
                  "nameLocation": "2638:16:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44171,
                  "src": "2630:24:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 44166,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2630:7:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 44169,
                  "indexed": false,
                  "mutability": "mutable",
                  "name": "borrowAmountWbtc",
                  "nameLocation": "2672:16:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44171,
                  "src": "2664:24:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 44168,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2664:7:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "2496:198:27"
            }
          },
          {
            "id": 44181,
            "nodeType": "EventDefinition",
            "src": "2700:183:27",
            "nodes": [],
            "anonymous": false,
            "eventSelector": "673e472cd732d3288c086ad7d57942b327621ec34ae765dfa0d0069c9fe10064",
            "name": "PositionIncreased",
            "nameLocation": "2706:17:27",
            "parameters": {
              "id": 44180,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 44173,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "user",
                  "nameLocation": "2749:4:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44181,
                  "src": "2733:20:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 44172,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "2733:7:27",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 44175,
                  "indexed": false,
                  "mutability": "mutable",
                  "name": "additionalCollateralAmountUsdc",
                  "nameLocation": "2772:30:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44181,
                  "src": "2764:38:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 44174,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2764:7:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 44177,
                  "indexed": false,
                  "mutability": "mutable",
                  "name": "newborrowAmountUsdc",
                  "nameLocation": "2820:19:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44181,
                  "src": "2812:27:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 44176,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2812:7:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 44179,
                  "indexed": false,
                  "mutability": "mutable",
                  "name": "newBorrowAmountWbtc",
                  "nameLocation": "2857:19:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44181,
                  "src": "2849:27:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 44178,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2849:7:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "2723:159:27"
            }
          },
          {
            "id": 44187,
            "nodeType": "EventDefinition",
            "src": "2888:111:27",
            "nodes": [],
            "anonymous": false,
            "eventSelector": "fe774a391baf6f98e6e7e8f440eca7282e48993fe8ccf2c0081f13c9d34880d1",
            "name": "CollateralIncreased",
            "nameLocation": "2894:19:27",
            "parameters": {
              "id": 44186,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 44183,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "user",
                  "nameLocation": "2939:4:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44187,
                  "src": "2923:20:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 44182,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "2923:7:27",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 44185,
                  "indexed": false,
                  "mutability": "mutable",
                  "name": "additionalCollateralAmountUsdc",
                  "nameLocation": "2962:30:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44187,
                  "src": "2954:38:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 44184,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2954:7:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "2913:85:27"
            }
          },
          {
            "id": 44189,
            "nodeType": "ErrorDefinition",
            "src": "3019:19:27",
            "nodes": [],
            "errorSelector": "1f2a2005",
            "name": "ZeroAmount",
            "nameLocation": "3025:10:27",
            "parameters": {
              "id": 44188,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "3035:2:27"
            }
          },
          {
            "id": 44191,
            "nodeType": "ErrorDefinition",
            "src": "3043:27:27",
            "nodes": [],
            "errorSelector": "4323a555",
            "name": "NotEnoughLiquidity",
            "nameLocation": "3049:18:27",
            "parameters": {
              "id": 44190,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "3067:2:27"
            }
          },
          {
            "id": 44193,
            "nodeType": "ErrorDefinition",
            "src": "3075:21:27",
            "nodes": [],
            "errorSelector": "381d07a9",
            "name": "PositionOpen",
            "nameLocation": "3081:12:27",
            "parameters": {
              "id": 44192,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "3093:2:27"
            }
          },
          {
            "id": 44195,
            "nodeType": "ErrorDefinition",
            "src": "3101:28:27",
            "nodes": [],
            "errorSelector": "34477cc0",
            "name": "NotEnoughCollateral",
            "nameLocation": "3107:19:27",
            "parameters": {
              "id": 44194,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "3126:2:27"
            }
          },
          {
            "id": 44231,
            "nodeType": "FunctionDefinition",
            "src": "3135:253:27",
            "nodes": [],
            "body": {
              "id": 44230,
              "nodeType": "Block",
              "src": "3204:184:27",
              "nodes": [],
              "statements": [
                {
                  "expression": {
                    "id": 44208,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "id": 44204,
                      "name": "WBTC",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44114,
                      "src": "3214:4:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_contract$_IERC20_$45382",
                        "typeString": "contract IERC20"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "arguments": [
                        {
                          "id": 44206,
                          "name": "_WBTC",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 44197,
                          "src": "3228:5:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        }
                      ],
                      "expression": {
                        "argumentTypes": [
                          {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        ],
                        "id": 44205,
                        "name": "IERC20",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 45382,
                        "src": "3221:6:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_type$_t_contract$_IERC20_$45382_$",
                          "typeString": "type(contract IERC20)"
                        }
                      },
                      "id": 44207,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "typeConversion",
                      "lValueRequested": false,
                      "nameLocations": [],
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "3221:13:27",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_contract$_IERC20_$45382",
                        "typeString": "contract IERC20"
                      }
                    },
                    "src": "3214:20:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_contract$_IERC20_$45382",
                      "typeString": "contract IERC20"
                    }
                  },
                  "id": 44209,
                  "nodeType": "ExpressionStatement",
                  "src": "3214:20:27"
                },
                {
                  "expression": {
                    "id": 44214,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "id": 44210,
                      "name": "USDC",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44117,
                      "src": "3244:4:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_contract$_IERC20_$45382",
                        "typeString": "contract IERC20"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "arguments": [
                        {
                          "id": 44212,
                          "name": "_USDC",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 44199,
                          "src": "3258:5:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        }
                      ],
                      "expression": {
                        "argumentTypes": [
                          {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        ],
                        "id": 44211,
                        "name": "IERC20",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 45382,
                        "src": "3251:6:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_type$_t_contract$_IERC20_$45382_$",
                          "typeString": "type(contract IERC20)"
                        }
                      },
                      "id": 44213,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "typeConversion",
                      "lValueRequested": false,
                      "nameLocations": [],
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "3251:13:27",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_contract$_IERC20_$45382",
                        "typeString": "contract IERC20"
                      }
                    },
                    "src": "3244:20:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_contract$_IERC20_$45382",
                      "typeString": "contract IERC20"
                    }
                  },
                  "id": 44215,
                  "nodeType": "ExpressionStatement",
                  "src": "3244:20:27"
                },
                {
                  "expression": {
                    "id": 44220,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "id": 44216,
                      "name": "dataFeed",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44100,
                      "src": "3274:8:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_contract$_AggregatorV3Interface_$44089",
                        "typeString": "contract AggregatorV3Interface"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "arguments": [
                        {
                          "id": 44218,
                          "name": "chainlinkPriceFeed",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 44201,
                          "src": "3307:18:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        }
                      ],
                      "expression": {
                        "argumentTypes": [
                          {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        ],
                        "id": 44217,
                        "name": "AggregatorV3Interface",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44089,
                        "src": "3285:21:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_type$_t_contract$_AggregatorV3Interface_$44089_$",
                          "typeString": "type(contract AggregatorV3Interface)"
                        }
                      },
                      "id": 44219,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "typeConversion",
                      "lValueRequested": false,
                      "nameLocations": [],
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "3285:41:27",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_contract$_AggregatorV3Interface_$44089",
                        "typeString": "contract AggregatorV3Interface"
                      }
                    },
                    "src": "3274:52:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_contract$_AggregatorV3Interface_$44089",
                      "typeString": "contract AggregatorV3Interface"
                    }
                  },
                  "id": 44221,
                  "nodeType": "ExpressionStatement",
                  "src": "3274:52:27"
                },
                {
                  "expression": {
                    "id": 44224,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "id": 44222,
                      "name": "totalDeposited",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44128,
                      "src": "3336:14:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "hexValue": "30",
                      "id": 44223,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "kind": "number",
                      "lValueRequested": false,
                      "nodeType": "Literal",
                      "src": "3353:1:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_rational_0_by_1",
                        "typeString": "int_const 0"
                      },
                      "value": "0"
                    },
                    "src": "3336:18:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 44225,
                  "nodeType": "ExpressionStatement",
                  "src": "3336:18:27"
                },
                {
                  "expression": {
                    "id": 44228,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "id": 44226,
                      "name": "totalBorrowed",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44130,
                      "src": "3364:13:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "hexValue": "30",
                      "id": 44227,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "kind": "number",
                      "lValueRequested": false,
                      "nodeType": "Literal",
                      "src": "3380:1:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_rational_0_by_1",
                        "typeString": "int_const 0"
                      },
                      "value": "0"
                    },
                    "src": "3364:17:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 44229,
                  "nodeType": "ExpressionStatement",
                  "src": "3364:17:27"
                }
              ]
            },
            "implemented": true,
            "kind": "constructor",
            "modifiers": [],
            "name": "",
            "nameLocation": "-1:-1:-1",
            "parameters": {
              "id": 44202,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 44197,
                  "mutability": "mutable",
                  "name": "_WBTC",
                  "nameLocation": "3155:5:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44231,
                  "src": "3147:13:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 44196,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "3147:7:27",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 44199,
                  "mutability": "mutable",
                  "name": "_USDC",
                  "nameLocation": "3170:5:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44231,
                  "src": "3162:13:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 44198,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "3162:7:27",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 44201,
                  "mutability": "mutable",
                  "name": "chainlinkPriceFeed",
                  "nameLocation": "3185:18:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44231,
                  "src": "3177:26:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 44200,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "3177:7:27",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "3146:58:27"
            },
            "returnParameters": {
              "id": 44203,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "3204:0:27"
            },
            "scope": 44651,
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "public"
          },
          {
            "id": 44273,
            "nodeType": "FunctionDefinition",
            "src": "3419:405:27",
            "nodes": [],
            "body": {
              "id": 44272,
              "nodeType": "Block",
              "src": "3469:355:27",
              "nodes": [],
              "statements": [
                {
                  "condition": {
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 44238,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "id": 44236,
                      "name": "_amount",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44233,
                      "src": "3483:7:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "==",
                    "rightExpression": {
                      "hexValue": "30",
                      "id": 44237,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "kind": "number",
                      "lValueRequested": false,
                      "nodeType": "Literal",
                      "src": "3494:1:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_rational_0_by_1",
                        "typeString": "int_const 0"
                      },
                      "value": "0"
                    },
                    "src": "3483:12:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "id": 44242,
                  "nodeType": "IfStatement",
                  "src": "3479:37:27",
                  "trueBody": {
                    "errorCall": {
                      "arguments": [],
                      "expression": {
                        "argumentTypes": [],
                        "id": 44239,
                        "name": "ZeroAmount",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44189,
                        "src": "3504:10:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_function_error_pure$__$returns$__$",
                          "typeString": "function () pure"
                        }
                      },
                      "id": 44240,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "functionCall",
                      "lValueRequested": false,
                      "nameLocations": [],
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "3504:12:27",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_tuple$__$",
                        "typeString": "tuple()"
                      }
                    },
                    "id": 44241,
                    "nodeType": "RevertStatement",
                    "src": "3497:19:27"
                  }
                },
                {
                  "expression": {
                    "id": 44248,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "baseExpression": {
                        "id": 44243,
                        "name": "userDeposit",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44121,
                        "src": "3561:11:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_mapping$_t_address_$_t_uint256_$",
                          "typeString": "mapping(address => uint256)"
                        }
                      },
                      "id": 44246,
                      "indexExpression": {
                        "expression": {
                          "id": 44244,
                          "name": "msg",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": -15,
                          "src": "3573:3:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_magic_message",
                            "typeString": "msg"
                          }
                        },
                        "id": 44245,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberLocation": "3577:6:27",
                        "memberName": "sender",
                        "nodeType": "MemberAccess",
                        "src": "3573:10:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": true,
                      "nodeType": "IndexAccess",
                      "src": "3561:23:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "+=",
                    "rightHandSide": {
                      "id": 44247,
                      "name": "_amount",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44233,
                      "src": "3588:7:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "3561:34:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 44249,
                  "nodeType": "ExpressionStatement",
                  "src": "3561:34:27"
                },
                {
                  "expression": {
                    "id": 44252,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "id": 44250,
                      "name": "totalDeposited",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44128,
                      "src": "3639:14:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "+=",
                    "rightHandSide": {
                      "id": 44251,
                      "name": "_amount",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44233,
                      "src": "3657:7:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "3639:25:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 44253,
                  "nodeType": "ExpressionStatement",
                  "src": "3639:25:27"
                },
                {
                  "eventCall": {
                    "arguments": [
                      {
                        "expression": {
                          "id": 44255,
                          "name": "msg",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": -15,
                          "src": "3699:3:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_magic_message",
                            "typeString": "msg"
                          }
                        },
                        "id": 44256,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberLocation": "3703:6:27",
                        "memberName": "sender",
                        "nodeType": "MemberAccess",
                        "src": "3699:10:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "id": 44257,
                        "name": "_amount",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44233,
                        "src": "3711:7:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      ],
                      "id": 44254,
                      "name": "LiquidityDeposited",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44151,
                      "src": "3680:18:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_event_nonpayable$_t_address_$_t_uint256_$returns$__$",
                        "typeString": "function (address,uint256)"
                      }
                    },
                    "id": 44258,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "3680:39:27",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 44259,
                  "nodeType": "EmitStatement",
                  "src": "3675:44:27"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "expression": {
                          "id": 44263,
                          "name": "msg",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": -15,
                          "src": "3781:3:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_magic_message",
                            "typeString": "msg"
                          }
                        },
                        "id": 44264,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberLocation": "3785:6:27",
                        "memberName": "sender",
                        "nodeType": "MemberAccess",
                        "src": "3781:10:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "arguments": [
                          {
                            "id": 44267,
                            "name": "this",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": -28,
                            "src": "3801:4:27",
                            "typeDescriptions": {
                              "typeIdentifier": "t_contract$_perpetual_$44651",
                              "typeString": "contract perpetual"
                            }
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_contract$_perpetual_$44651",
                              "typeString": "contract perpetual"
                            }
                          ],
                          "id": 44266,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "lValueRequested": false,
                          "nodeType": "ElementaryTypeNameExpression",
                          "src": "3793:7:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_type$_t_address_$",
                            "typeString": "type(address)"
                          },
                          "typeName": {
                            "id": 44265,
                            "name": "address",
                            "nodeType": "ElementaryTypeName",
                            "src": "3793:7:27",
                            "typeDescriptions": {}
                          }
                        },
                        "id": 44268,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "typeConversion",
                        "lValueRequested": false,
                        "nameLocations": [],
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "3793:13:27",
                        "tryCall": false,
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "id": 44269,
                        "name": "_amount",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44233,
                        "src": "3808:7:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      ],
                      "expression": {
                        "id": 44260,
                        "name": "WBTC",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44114,
                        "src": "3759:4:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_contract$_IERC20_$45382",
                          "typeString": "contract IERC20"
                        }
                      },
                      "id": 44262,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberLocation": "3764:16:27",
                      "memberName": "safeTransferFrom",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 45091,
                      "src": "3759:21:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_nonpayable$_t_contract$_IERC20_$45382_$_t_address_$_t_address_$_t_uint256_$returns$__$attached_to$_t_contract$_IERC20_$45382_$",
                        "typeString": "function (contract IERC20,address,address,uint256)"
                      }
                    },
                    "id": 44270,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "3759:57:27",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 44271,
                  "nodeType": "ExpressionStatement",
                  "src": "3759:57:27"
                }
              ]
            },
            "functionSelector": "76d58e1a",
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "depositLiquidity",
            "nameLocation": "3428:16:27",
            "parameters": {
              "id": 44234,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 44233,
                  "mutability": "mutable",
                  "name": "_amount",
                  "nameLocation": "3453:7:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44273,
                  "src": "3445:15:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 44232,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "3445:7:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "3444:17:27"
            },
            "returnParameters": {
              "id": 44235,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "3469:0:27"
            },
            "scope": 44651,
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "public"
          },
          {
            "id": 44315,
            "nodeType": "FunctionDefinition",
            "src": "3856:333:27",
            "nodes": [],
            "body": {
              "id": 44314,
              "nodeType": "Block",
              "src": "3907:282:27",
              "nodes": [],
              "statements": [
                {
                  "condition": {
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 44280,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "id": 44278,
                      "name": "_amount",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44275,
                      "src": "3921:7:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "==",
                    "rightExpression": {
                      "hexValue": "30",
                      "id": 44279,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "kind": "number",
                      "lValueRequested": false,
                      "nodeType": "Literal",
                      "src": "3932:1:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_rational_0_by_1",
                        "typeString": "int_const 0"
                      },
                      "value": "0"
                    },
                    "src": "3921:12:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "id": 44284,
                  "nodeType": "IfStatement",
                  "src": "3917:37:27",
                  "trueBody": {
                    "errorCall": {
                      "arguments": [],
                      "expression": {
                        "argumentTypes": [],
                        "id": 44281,
                        "name": "ZeroAmount",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44189,
                        "src": "3942:10:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_function_error_pure$__$returns$__$",
                          "typeString": "function () pure"
                        }
                      },
                      "id": 44282,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "functionCall",
                      "lValueRequested": false,
                      "nameLocations": [],
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "3942:12:27",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_tuple$__$",
                        "typeString": "tuple()"
                      }
                    },
                    "id": 44283,
                    "nodeType": "RevertStatement",
                    "src": "3935:19:27"
                  }
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "id": 44286,
                        "name": "_amount",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44275,
                        "src": "3988:7:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      ],
                      "id": 44285,
                      "name": "checkLiquidityWithdraw",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44650,
                      "src": "3965:22:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_view$_t_uint256_$returns$__$",
                        "typeString": "function (uint256) view"
                      }
                    },
                    "id": 44287,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "3965:31:27",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 44288,
                  "nodeType": "ExpressionStatement",
                  "src": "3965:31:27"
                },
                {
                  "expression": {
                    "id": 44294,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "baseExpression": {
                        "id": 44289,
                        "name": "userDeposit",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44121,
                        "src": "4007:11:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_mapping$_t_address_$_t_uint256_$",
                          "typeString": "mapping(address => uint256)"
                        }
                      },
                      "id": 44292,
                      "indexExpression": {
                        "expression": {
                          "id": 44290,
                          "name": "msg",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": -15,
                          "src": "4019:3:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_magic_message",
                            "typeString": "msg"
                          }
                        },
                        "id": 44291,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberLocation": "4023:6:27",
                        "memberName": "sender",
                        "nodeType": "MemberAccess",
                        "src": "4019:10:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": true,
                      "nodeType": "IndexAccess",
                      "src": "4007:23:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "-=",
                    "rightHandSide": {
                      "id": 44293,
                      "name": "_amount",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44275,
                      "src": "4034:7:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "4007:34:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 44295,
                  "nodeType": "ExpressionStatement",
                  "src": "4007:34:27"
                },
                {
                  "expression": {
                    "id": 44298,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "id": 44296,
                      "name": "totalDeposited",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44128,
                      "src": "4052:14:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "-=",
                    "rightHandSide": {
                      "id": 44297,
                      "name": "_amount",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44275,
                      "src": "4070:7:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "4052:25:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 44299,
                  "nodeType": "ExpressionStatement",
                  "src": "4052:25:27"
                },
                {
                  "eventCall": {
                    "arguments": [
                      {
                        "expression": {
                          "id": 44301,
                          "name": "msg",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": -15,
                          "src": "4112:3:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_magic_message",
                            "typeString": "msg"
                          }
                        },
                        "id": 44302,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberLocation": "4116:6:27",
                        "memberName": "sender",
                        "nodeType": "MemberAccess",
                        "src": "4112:10:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "id": 44303,
                        "name": "_amount",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44275,
                        "src": "4124:7:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      ],
                      "id": 44300,
                      "name": "LiquidityWithdrawn",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44157,
                      "src": "4093:18:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_event_nonpayable$_t_address_$_t_uint256_$returns$__$",
                        "typeString": "function (address,uint256)"
                      }
                    },
                    "id": 44304,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "4093:39:27",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 44305,
                  "nodeType": "EmitStatement",
                  "src": "4088:44:27"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "expression": {
                          "id": 44309,
                          "name": "msg",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": -15,
                          "src": "4161:3:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_magic_message",
                            "typeString": "msg"
                          }
                        },
                        "id": 44310,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberLocation": "4165:6:27",
                        "memberName": "sender",
                        "nodeType": "MemberAccess",
                        "src": "4161:10:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "id": 44311,
                        "name": "_amount",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44275,
                        "src": "4173:7:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      ],
                      "expression": {
                        "id": 44306,
                        "name": "WBTC",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44114,
                        "src": "4143:4:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_contract$_IERC20_$45382",
                          "typeString": "contract IERC20"
                        }
                      },
                      "id": 44308,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberLocation": "4148:12:27",
                      "memberName": "safeTransfer",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 45064,
                      "src": "4143:17:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_nonpayable$_t_contract$_IERC20_$45382_$_t_address_$_t_uint256_$returns$__$attached_to$_t_contract$_IERC20_$45382_$",
                        "typeString": "function (contract IERC20,address,uint256)"
                      }
                    },
                    "id": 44312,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "4143:38:27",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 44313,
                  "nodeType": "ExpressionStatement",
                  "src": "4143:38:27"
                }
              ]
            },
            "functionSelector": "0a861f2a",
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "withdrawLiquidity",
            "nameLocation": "3865:17:27",
            "parameters": {
              "id": 44276,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 44275,
                  "mutability": "mutable",
                  "name": "_amount",
                  "nameLocation": "3891:7:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44315,
                  "src": "3883:15:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 44274,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "3883:7:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "3882:17:27"
            },
            "returnParameters": {
              "id": 44277,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "3907:0:27"
            },
            "scope": 44651,
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "public"
          },
          {
            "id": 44332,
            "nodeType": "FunctionDefinition",
            "src": "4200:150:27",
            "nodes": [],
            "body": {
              "id": 44331,
              "nodeType": "Block",
              "src": "4253:97:27",
              "nodes": [],
              "statements": [
                {
                  "assignments": [
                    null,
                    44321,
                    null,
                    null,
                    null
                  ],
                  "declarations": [
                    null,
                    {
                      "constant": false,
                      "id": 44321,
                      "mutability": "mutable",
                      "name": "answer",
                      "nameLocation": "4272:6:27",
                      "nodeType": "VariableDeclaration",
                      "scope": 44331,
                      "src": "4265:13:27",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_int256",
                        "typeString": "int256"
                      },
                      "typeName": {
                        "id": 44320,
                        "name": "int256",
                        "nodeType": "ElementaryTypeName",
                        "src": "4265:6:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_int256",
                          "typeString": "int256"
                        }
                      },
                      "visibility": "internal"
                    },
                    null,
                    null,
                    null
                  ],
                  "id": 44325,
                  "initialValue": {
                    "arguments": [],
                    "expression": {
                      "argumentTypes": [],
                      "expression": {
                        "id": 44322,
                        "name": "dataFeed",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44100,
                        "src": "4285:8:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_contract$_AggregatorV3Interface_$44089",
                          "typeString": "contract AggregatorV3Interface"
                        }
                      },
                      "id": 44323,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberLocation": "4294:15:27",
                      "memberName": "latestRoundData",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 44088,
                      "src": "4285:24:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_external_view$__$returns$_t_uint80_$_t_int256_$_t_uint256_$_t_uint256_$_t_uint80_$",
                        "typeString": "function () view external returns (uint80,int256,uint256,uint256,uint80)"
                      }
                    },
                    "id": 44324,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "4285:26:27",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$_t_uint80_$_t_int256_$_t_uint256_$_t_uint256_$_t_uint80_$",
                      "typeString": "tuple(uint80,int256,uint256,uint256,uint80)"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "4263:48:27"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "id": 44328,
                        "name": "answer",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44321,
                        "src": "4336:6:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_int256",
                          "typeString": "int256"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_int256",
                          "typeString": "int256"
                        }
                      ],
                      "id": 44327,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "lValueRequested": false,
                      "nodeType": "ElementaryTypeNameExpression",
                      "src": "4328:7:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_type$_t_uint256_$",
                        "typeString": "type(uint256)"
                      },
                      "typeName": {
                        "id": 44326,
                        "name": "uint256",
                        "nodeType": "ElementaryTypeName",
                        "src": "4328:7:27",
                        "typeDescriptions": {}
                      }
                    },
                    "id": 44329,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "typeConversion",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "4328:15:27",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "functionReturnParameters": 44319,
                  "id": 44330,
                  "nodeType": "Return",
                  "src": "4321:22:27"
                }
              ]
            },
            "functionSelector": "fa7d826a",
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "getWBTCPrice",
            "nameLocation": "4209:12:27",
            "parameters": {
              "id": 44316,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "4221:2:27"
            },
            "returnParameters": {
              "id": 44319,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 44318,
                  "mutability": "mutable",
                  "name": "",
                  "nameLocation": "-1:-1:-1",
                  "nodeType": "VariableDeclaration",
                  "scope": 44332,
                  "src": "4245:7:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 44317,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "4245:7:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "4244:9:27"
            },
            "scope": 44651,
            "stateMutability": "view",
            "virtual": false,
            "visibility": "public"
          },
          {
            "id": 44434,
            "nodeType": "FunctionDefinition",
            "src": "4377:1303:27",
            "nodes": [],
            "body": {
              "id": 44433,
              "nodeType": "Block",
              "src": "4510:1170:27",
              "nodes": [],
              "statements": [
                {
                  "condition": {
                    "commonType": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    },
                    "id": 44347,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "commonType": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "id": 44343,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "leftExpression": {
                        "id": 44341,
                        "name": "_leverage",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44336,
                        "src": "4523:9:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "nodeType": "BinaryOperation",
                      "operator": "==",
                      "rightExpression": {
                        "hexValue": "30",
                        "id": 44342,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "number",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "4536:1:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_rational_0_by_1",
                          "typeString": "int_const 0"
                        },
                        "value": "0"
                      },
                      "src": "4523:14:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_bool",
                        "typeString": "bool"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "||",
                    "rightExpression": {
                      "commonType": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "id": 44346,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "leftExpression": {
                        "id": 44344,
                        "name": "_collateralAmountUsdc",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44338,
                        "src": "4541:21:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "nodeType": "BinaryOperation",
                      "operator": "==",
                      "rightExpression": {
                        "hexValue": "30",
                        "id": 44345,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "number",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "4566:1:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_rational_0_by_1",
                          "typeString": "int_const 0"
                        },
                        "value": "0"
                      },
                      "src": "4541:26:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_bool",
                        "typeString": "bool"
                      }
                    },
                    "src": "4523:44:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "id": 44351,
                  "nodeType": "IfStatement",
                  "src": "4520:68:27",
                  "trueBody": {
                    "errorCall": {
                      "arguments": [],
                      "expression": {
                        "argumentTypes": [],
                        "id": 44348,
                        "name": "ZeroAmount",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44189,
                        "src": "4576:10:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_function_error_pure$__$returns$__$",
                          "typeString": "function () pure"
                        }
                      },
                      "id": 44349,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "functionCall",
                      "lValueRequested": false,
                      "nameLocations": [],
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "4576:12:27",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_tuple$__$",
                        "typeString": "tuple()"
                      }
                    },
                    "id": 44350,
                    "nodeType": "RevertStatement",
                    "src": "4569:19:27"
                  }
                },
                {
                  "condition": {
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 44358,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "expression": {
                        "baseExpression": {
                          "id": 44352,
                          "name": "userPositions",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 44126,
                          "src": "4601:13:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_mapping$_t_address_$_t_struct$_position_$44111_storage_$",
                            "typeString": "mapping(address => struct perpetual.position storage ref)"
                          }
                        },
                        "id": 44355,
                        "indexExpression": {
                          "expression": {
                            "id": 44353,
                            "name": "msg",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": -15,
                            "src": "4615:3:27",
                            "typeDescriptions": {
                              "typeIdentifier": "t_magic_message",
                              "typeString": "msg"
                            }
                          },
                          "id": 44354,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberLocation": "4619:6:27",
                          "memberName": "sender",
                          "nodeType": "MemberAccess",
                          "src": "4615:10:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        },
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "nodeType": "IndexAccess",
                        "src": "4601:25:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_position_$44111_storage",
                          "typeString": "struct perpetual.position storage ref"
                        }
                      },
                      "id": 44356,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberLocation": "4627:16:27",
                      "memberName": "borrowAmountUsdc",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 44108,
                      "src": "4601:42:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": ">",
                    "rightExpression": {
                      "hexValue": "30",
                      "id": 44357,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "kind": "number",
                      "lValueRequested": false,
                      "nodeType": "Literal",
                      "src": "4646:1:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_rational_0_by_1",
                        "typeString": "int_const 0"
                      },
                      "value": "0"
                    },
                    "src": "4601:46:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "id": 44362,
                  "nodeType": "IfStatement",
                  "src": "4598:72:27",
                  "trueBody": {
                    "errorCall": {
                      "arguments": [],
                      "expression": {
                        "argumentTypes": [],
                        "id": 44359,
                        "name": "PositionOpen",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44193,
                        "src": "4656:12:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_function_error_pure$__$returns$__$",
                          "typeString": "function () pure"
                        }
                      },
                      "id": 44360,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "functionCall",
                      "lValueRequested": false,
                      "nameLocations": [],
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "4656:14:27",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_tuple$__$",
                        "typeString": "tuple()"
                      }
                    },
                    "id": 44361,
                    "nodeType": "RevertStatement",
                    "src": "4649:21:27"
                  }
                },
                {
                  "condition": {
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 44365,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "id": 44363,
                      "name": "_collateralAmountUsdc",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44338,
                      "src": "4683:21:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "<",
                    "rightExpression": {
                      "id": 44364,
                      "name": "MINIMUM_COLLATERAL",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44133,
                      "src": "4707:18:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "4683:42:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "id": 44369,
                  "nodeType": "IfStatement",
                  "src": "4680:75:27",
                  "trueBody": {
                    "errorCall": {
                      "arguments": [],
                      "expression": {
                        "argumentTypes": [],
                        "id": 44366,
                        "name": "NotEnoughCollateral",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44195,
                        "src": "4734:19:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_function_error_pure$__$returns$__$",
                          "typeString": "function () pure"
                        }
                      },
                      "id": 44367,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "functionCall",
                      "lValueRequested": false,
                      "nameLocations": [],
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "4734:21:27",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_tuple$__$",
                        "typeString": "tuple()"
                      }
                    },
                    "id": 44368,
                    "nodeType": "RevertStatement",
                    "src": "4727:28:27"
                  }
                },
                {
                  "assignments": [
                    44371
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 44371,
                      "mutability": "mutable",
                      "name": "wbtcPrice_",
                      "nameLocation": "4800:10:27",
                      "nodeType": "VariableDeclaration",
                      "scope": 44433,
                      "src": "4792:18:27",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 44370,
                        "name": "uint256",
                        "nodeType": "ElementaryTypeName",
                        "src": "4792:7:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 44374,
                  "initialValue": {
                    "arguments": [],
                    "expression": {
                      "argumentTypes": [],
                      "id": 44372,
                      "name": "getWBTCPrice",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44332,
                      "src": "4813:12:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_view$__$returns$_t_uint256_$",
                        "typeString": "function () view returns (uint256)"
                      }
                    },
                    "id": 44373,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "4813:14:27",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "4792:35:27"
                },
                {
                  "assignments": [
                    44376
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 44376,
                      "mutability": "mutable",
                      "name": "borrowAmountUsdc_",
                      "nameLocation": "4884:17:27",
                      "nodeType": "VariableDeclaration",
                      "scope": 44433,
                      "src": "4876:25:27",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 44375,
                        "name": "uint256",
                        "nodeType": "ElementaryTypeName",
                        "src": "4876:7:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 44380,
                  "initialValue": {
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 44379,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "id": 44377,
                      "name": "_collateralAmountUsdc",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44338,
                      "src": "4904:21:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "*",
                    "rightExpression": {
                      "id": 44378,
                      "name": "_leverage",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44336,
                      "src": "4928:9:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "4904:33:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "4876:61:27"
                },
                {
                  "assignments": [
                    44382
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 44382,
                      "mutability": "mutable",
                      "name": "borrowAmountWbtc_",
                      "nameLocation": "4956:17:27",
                      "nodeType": "VariableDeclaration",
                      "scope": 44433,
                      "src": "4948:25:27",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 44381,
                        "name": "uint256",
                        "nodeType": "ElementaryTypeName",
                        "src": "4948:7:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 44389,
                  "initialValue": {
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 44388,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "components": [
                        {
                          "commonType": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          "id": 44385,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "id": 44383,
                            "name": "borrowAmountUsdc_",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 44376,
                            "src": "4977:17:27",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "*",
                          "rightExpression": {
                            "id": 44384,
                            "name": "WBTC_DIVISION_SCALE",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 44139,
                            "src": "4998:19:27",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "src": "4977:40:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        }
                      ],
                      "id": 44386,
                      "isConstant": false,
                      "isInlineArray": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "nodeType": "TupleExpression",
                      "src": "4976:42:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "/",
                    "rightExpression": {
                      "id": 44387,
                      "name": "wbtcPrice_",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44371,
                      "src": "5021:10:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "4976:55:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "4948:83:27"
                },
                {
                  "expression": {
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 44392,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "id": 44390,
                      "name": "borrowAmountWbtc_",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44382,
                      "src": "5042:17:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "/",
                    "rightExpression": {
                      "hexValue": "31653138",
                      "id": 44391,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "kind": "number",
                      "lValueRequested": false,
                      "nodeType": "Literal",
                      "src": "5062:4:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_rational_1000000000000000000_by_1",
                        "typeString": "int_const 1000000000000000000"
                      },
                      "value": "1e18"
                    },
                    "src": "5042:24:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 44393,
                  "nodeType": "ExpressionStatement",
                  "src": "5042:24:27"
                },
                {
                  "expression": {
                    "id": 44405,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "baseExpression": {
                        "id": 44394,
                        "name": "userPositions",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44126,
                        "src": "5130:13:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_mapping$_t_address_$_t_struct$_position_$44111_storage_$",
                          "typeString": "mapping(address => struct perpetual.position storage ref)"
                        }
                      },
                      "id": 44397,
                      "indexExpression": {
                        "expression": {
                          "id": 44395,
                          "name": "msg",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": -15,
                          "src": "5144:3:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_magic_message",
                            "typeString": "msg"
                          }
                        },
                        "id": 44396,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberLocation": "5148:6:27",
                        "memberName": "sender",
                        "nodeType": "MemberAccess",
                        "src": "5144:10:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": true,
                      "nodeType": "IndexAccess",
                      "src": "5130:25:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_position_$44111_storage",
                        "typeString": "struct perpetual.position storage ref"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "arguments": [
                        {
                          "id": 44399,
                          "name": "_positionType",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 44334,
                          "src": "5180:13:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        {
                          "id": 44400,
                          "name": "_leverage",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 44336,
                          "src": "5207:9:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        {
                          "id": 44401,
                          "name": "_collateralAmountUsdc",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 44338,
                          "src": "5230:21:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        {
                          "id": 44402,
                          "name": "borrowAmountUsdc_",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 44376,
                          "src": "5265:17:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        {
                          "id": 44403,
                          "name": "borrowAmountWbtc_",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 44382,
                          "src": "5296:17:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        }
                      ],
                      "expression": {
                        "argumentTypes": [
                          {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          },
                          {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        ],
                        "id": 44398,
                        "name": "position",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44111,
                        "src": "5158:8:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_type$_t_struct$_position_$44111_storage_ptr_$",
                          "typeString": "type(struct perpetual.position storage pointer)"
                        }
                      },
                      "id": 44404,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "structConstructorCall",
                      "lValueRequested": false,
                      "nameLocations": [],
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "5158:165:27",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_position_$44111_memory_ptr",
                        "typeString": "struct perpetual.position memory"
                      }
                    },
                    "src": "5130:193:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_position_$44111_storage",
                      "typeString": "struct perpetual.position storage ref"
                    }
                  },
                  "id": 44406,
                  "nodeType": "ExpressionStatement",
                  "src": "5130:193:27"
                },
                {
                  "expression": {
                    "id": 44409,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "id": 44407,
                      "name": "totalBorrowed",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44130,
                      "src": "5334:13:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "+=",
                    "rightHandSide": {
                      "id": 44408,
                      "name": "borrowAmountWbtc_",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44382,
                      "src": "5351:17:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "5334:34:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 44410,
                  "nodeType": "ExpressionStatement",
                  "src": "5334:34:27"
                },
                {
                  "eventCall": {
                    "arguments": [
                      {
                        "expression": {
                          "id": 44412,
                          "name": "msg",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": -15,
                          "src": "5412:3:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_magic_message",
                            "typeString": "msg"
                          }
                        },
                        "id": 44413,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberLocation": "5416:6:27",
                        "memberName": "sender",
                        "nodeType": "MemberAccess",
                        "src": "5412:10:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "id": 44414,
                        "name": "_positionType",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44334,
                        "src": "5437:13:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "id": 44415,
                        "name": "_leverage",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44336,
                        "src": "5465:9:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "id": 44416,
                        "name": "_collateralAmountUsdc",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44338,
                        "src": "5489:21:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "id": 44417,
                        "name": "borrowAmountUsdc_",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44376,
                        "src": "5524:17:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "id": 44418,
                        "name": "borrowAmountWbtc_",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44382,
                        "src": "5555:17:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      ],
                      "id": 44411,
                      "name": "PositionOpened",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44171,
                      "src": "5384:14:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_event_nonpayable$_t_address_$_t_bool_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$",
                        "typeString": "function (address,bool,uint256,uint256,uint256,uint256)"
                      }
                    },
                    "id": 44419,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "5384:198:27",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 44420,
                  "nodeType": "EmitStatement",
                  "src": "5379:203:27"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "expression": {
                          "id": 44424,
                          "name": "msg",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": -15,
                          "src": "5615:3:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_magic_message",
                            "typeString": "msg"
                          }
                        },
                        "id": 44425,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberLocation": "5619:6:27",
                        "memberName": "sender",
                        "nodeType": "MemberAccess",
                        "src": "5615:10:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "arguments": [
                          {
                            "id": 44428,
                            "name": "this",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": -28,
                            "src": "5635:4:27",
                            "typeDescriptions": {
                              "typeIdentifier": "t_contract$_perpetual_$44651",
                              "typeString": "contract perpetual"
                            }
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_contract$_perpetual_$44651",
                              "typeString": "contract perpetual"
                            }
                          ],
                          "id": 44427,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "lValueRequested": false,
                          "nodeType": "ElementaryTypeNameExpression",
                          "src": "5627:7:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_type$_t_address_$",
                            "typeString": "type(address)"
                          },
                          "typeName": {
                            "id": 44426,
                            "name": "address",
                            "nodeType": "ElementaryTypeName",
                            "src": "5627:7:27",
                            "typeDescriptions": {}
                          }
                        },
                        "id": 44429,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "typeConversion",
                        "lValueRequested": false,
                        "nameLocations": [],
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "5627:13:27",
                        "tryCall": false,
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "id": 44430,
                        "name": "_collateralAmountUsdc",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44338,
                        "src": "5642:21:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      ],
                      "expression": {
                        "id": 44421,
                        "name": "USDC",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44117,
                        "src": "5593:4:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_contract$_IERC20_$45382",
                          "typeString": "contract IERC20"
                        }
                      },
                      "id": 44423,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberLocation": "5598:16:27",
                      "memberName": "safeTransferFrom",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 45091,
                      "src": "5593:21:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_nonpayable$_t_contract$_IERC20_$45382_$_t_address_$_t_address_$_t_uint256_$returns$__$attached_to$_t_contract$_IERC20_$45382_$",
                        "typeString": "function (contract IERC20,address,address,uint256)"
                      }
                    },
                    "id": 44431,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "5593:71:27",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 44432,
                  "nodeType": "ExpressionStatement",
                  "src": "5593:71:27"
                }
              ]
            },
            "functionSelector": "e3255731",
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "openPosition",
            "nameLocation": "4386:12:27",
            "parameters": {
              "id": 44339,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 44334,
                  "mutability": "mutable",
                  "name": "_positionType",
                  "nameLocation": "4413:13:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44434,
                  "src": "4408:18:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bool",
                    "typeString": "bool"
                  },
                  "typeName": {
                    "id": 44333,
                    "name": "bool",
                    "nodeType": "ElementaryTypeName",
                    "src": "4408:4:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 44336,
                  "mutability": "mutable",
                  "name": "_leverage",
                  "nameLocation": "4445:9:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44434,
                  "src": "4437:17:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 44335,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "4437:7:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 44338,
                  "mutability": "mutable",
                  "name": "_collateralAmountUsdc",
                  "nameLocation": "4472:21:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44434,
                  "src": "4464:29:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 44337,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "4464:7:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "4398:96:27"
            },
            "returnParameters": {
              "id": 44340,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "4510:0:27"
            },
            "scope": 44651,
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "public"
          },
          {
            "id": 44530,
            "nodeType": "FunctionDefinition",
            "src": "5719:1062:27",
            "nodes": [],
            "body": {
              "id": 44529,
              "nodeType": "Block",
              "src": "5783:998:27",
              "nodes": [],
              "statements": [
                {
                  "condition": {
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 44441,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "id": 44439,
                      "name": "_collateralAmountUsdc",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44436,
                      "src": "5797:21:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "==",
                    "rightExpression": {
                      "hexValue": "30",
                      "id": 44440,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "kind": "number",
                      "lValueRequested": false,
                      "nodeType": "Literal",
                      "src": "5822:1:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_rational_0_by_1",
                        "typeString": "int_const 0"
                      },
                      "value": "0"
                    },
                    "src": "5797:26:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "id": 44445,
                  "nodeType": "IfStatement",
                  "src": "5793:51:27",
                  "trueBody": {
                    "errorCall": {
                      "arguments": [],
                      "expression": {
                        "argumentTypes": [],
                        "id": 44442,
                        "name": "ZeroAmount",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44189,
                        "src": "5832:10:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_function_error_pure$__$returns$__$",
                          "typeString": "function () pure"
                        }
                      },
                      "id": 44443,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "functionCall",
                      "lValueRequested": false,
                      "nameLocations": [],
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "5832:12:27",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_tuple$__$",
                        "typeString": "tuple()"
                      }
                    },
                    "id": 44444,
                    "nodeType": "RevertStatement",
                    "src": "5825:19:27"
                  }
                },
                {
                  "condition": {
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 44448,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "id": 44446,
                      "name": "_collateralAmountUsdc",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44436,
                      "src": "5857:21:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "<",
                    "rightExpression": {
                      "id": 44447,
                      "name": "MINIMUM_COLLATERAL",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44133,
                      "src": "5881:18:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "5857:42:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "id": 44452,
                  "nodeType": "IfStatement",
                  "src": "5854:75:27",
                  "trueBody": {
                    "errorCall": {
                      "arguments": [],
                      "expression": {
                        "argumentTypes": [],
                        "id": 44449,
                        "name": "NotEnoughCollateral",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44195,
                        "src": "5908:19:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_function_error_pure$__$returns$__$",
                          "typeString": "function () pure"
                        }
                      },
                      "id": 44450,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "functionCall",
                      "lValueRequested": false,
                      "nameLocations": [],
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "5908:21:27",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_tuple$__$",
                        "typeString": "tuple()"
                      }
                    },
                    "id": 44451,
                    "nodeType": "RevertStatement",
                    "src": "5901:28:27"
                  }
                },
                {
                  "assignments": [
                    44455
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 44455,
                      "mutability": "mutable",
                      "name": "userPosition_",
                      "nameLocation": "5957:13:27",
                      "nodeType": "VariableDeclaration",
                      "scope": 44529,
                      "src": "5940:30:27",
                      "stateVariable": false,
                      "storageLocation": "storage",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_position_$44111_storage_ptr",
                        "typeString": "struct perpetual.position"
                      },
                      "typeName": {
                        "id": 44454,
                        "nodeType": "UserDefinedTypeName",
                        "pathNode": {
                          "id": 44453,
                          "name": "position",
                          "nameLocations": [
                            "5940:8:27"
                          ],
                          "nodeType": "IdentifierPath",
                          "referencedDeclaration": 44111,
                          "src": "5940:8:27"
                        },
                        "referencedDeclaration": 44111,
                        "src": "5940:8:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_position_$44111_storage_ptr",
                          "typeString": "struct perpetual.position"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 44460,
                  "initialValue": {
                    "baseExpression": {
                      "id": 44456,
                      "name": "userPositions",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44126,
                      "src": "5973:13:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_mapping$_t_address_$_t_struct$_position_$44111_storage_$",
                        "typeString": "mapping(address => struct perpetual.position storage ref)"
                      }
                    },
                    "id": 44459,
                    "indexExpression": {
                      "expression": {
                        "id": 44457,
                        "name": "msg",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": -15,
                        "src": "5987:3:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_magic_message",
                          "typeString": "msg"
                        }
                      },
                      "id": 44458,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberLocation": "5991:6:27",
                      "memberName": "sender",
                      "nodeType": "MemberAccess",
                      "src": "5987:10:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "isConstant": false,
                    "isLValue": true,
                    "isPure": false,
                    "lValueRequested": false,
                    "nodeType": "IndexAccess",
                    "src": "5973:25:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_position_$44111_storage",
                      "typeString": "struct perpetual.position storage ref"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "5940:58:27"
                },
                {
                  "assignments": [
                    44462
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 44462,
                      "mutability": "mutable",
                      "name": "wbtcPrice_",
                      "nameLocation": "6017:10:27",
                      "nodeType": "VariableDeclaration",
                      "scope": 44529,
                      "src": "6009:18:27",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 44461,
                        "name": "uint256",
                        "nodeType": "ElementaryTypeName",
                        "src": "6009:7:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 44465,
                  "initialValue": {
                    "arguments": [],
                    "expression": {
                      "argumentTypes": [],
                      "id": 44463,
                      "name": "getWBTCPrice",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44332,
                      "src": "6030:12:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_view$__$returns$_t_uint256_$",
                        "typeString": "function () view returns (uint256)"
                      }
                    },
                    "id": 44464,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "6030:14:27",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "6009:35:27"
                },
                {
                  "assignments": [
                    44467
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 44467,
                      "mutability": "mutable",
                      "name": "borrowAmountUsdc_",
                      "nameLocation": "6063:17:27",
                      "nodeType": "VariableDeclaration",
                      "scope": 44529,
                      "src": "6055:25:27",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 44466,
                        "name": "uint256",
                        "nodeType": "ElementaryTypeName",
                        "src": "6055:7:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 44472,
                  "initialValue": {
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 44471,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "id": 44468,
                      "name": "_collateralAmountUsdc",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44436,
                      "src": "6083:21:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "*",
                    "rightExpression": {
                      "expression": {
                        "id": 44469,
                        "name": "userPosition_",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44455,
                        "src": "6107:13:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_position_$44111_storage_ptr",
                          "typeString": "struct perpetual.position storage pointer"
                        }
                      },
                      "id": 44470,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberLocation": "6121:8:27",
                      "memberName": "leverage",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 44104,
                      "src": "6107:22:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "6083:46:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "6055:74:27"
                },
                {
                  "assignments": [
                    44474
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 44474,
                      "mutability": "mutable",
                      "name": "borrowAmountWbtc_",
                      "nameLocation": "6148:17:27",
                      "nodeType": "VariableDeclaration",
                      "scope": 44529,
                      "src": "6140:25:27",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 44473,
                        "name": "uint256",
                        "nodeType": "ElementaryTypeName",
                        "src": "6140:7:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 44482,
                  "initialValue": {
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 44481,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "components": [
                        {
                          "commonType": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          "id": 44477,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "id": 44475,
                            "name": "_collateralAmountUsdc",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 44436,
                            "src": "6169:21:27",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "*",
                          "rightExpression": {
                            "id": 44476,
                            "name": "WBTC_DIVISION_SCALE",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 44139,
                            "src": "6193:19:27",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "src": "6169:43:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        }
                      ],
                      "id": 44478,
                      "isConstant": false,
                      "isInlineArray": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "nodeType": "TupleExpression",
                      "src": "6168:45:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "/",
                    "rightExpression": {
                      "components": [
                        {
                          "id": 44479,
                          "name": "wbtcPrice_",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 44462,
                          "src": "6217:10:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        }
                      ],
                      "id": 44480,
                      "isConstant": false,
                      "isInlineArray": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "nodeType": "TupleExpression",
                      "src": "6216:12:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "6168:60:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "6140:88:27"
                },
                {
                  "expression": {
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 44485,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "id": 44483,
                      "name": "borrowAmountWbtc_",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44474,
                      "src": "6239:17:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "/",
                    "rightExpression": {
                      "id": 44484,
                      "name": "LIQUIDITY_SCALE",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44145,
                      "src": "6259:15:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "6239:35:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 44486,
                  "nodeType": "ExpressionStatement",
                  "src": "6239:35:27"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "id": 44488,
                        "name": "borrowAmountWbtc_",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44474,
                        "src": "6306:17:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      ],
                      "id": 44487,
                      "name": "checkLiquidityBorrow",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44597,
                      "src": "6285:20:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_view$_t_uint256_$returns$__$",
                        "typeString": "function (uint256) view"
                      }
                    },
                    "id": 44489,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "6285:39:27",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 44490,
                  "nodeType": "ExpressionStatement",
                  "src": "6285:39:27"
                },
                {
                  "expression": {
                    "id": 44495,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "expression": {
                        "id": 44491,
                        "name": "userPosition_",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44455,
                        "src": "6335:13:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_position_$44111_storage_ptr",
                          "typeString": "struct perpetual.position storage pointer"
                        }
                      },
                      "id": 44493,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": true,
                      "memberLocation": "6349:16:27",
                      "memberName": "borrowAmountUsdc",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 44108,
                      "src": "6335:30:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "+=",
                    "rightHandSide": {
                      "id": 44494,
                      "name": "borrowAmountUsdc_",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44467,
                      "src": "6369:17:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "6335:51:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 44496,
                  "nodeType": "ExpressionStatement",
                  "src": "6335:51:27"
                },
                {
                  "expression": {
                    "id": 44501,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "expression": {
                        "id": 44497,
                        "name": "userPosition_",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44455,
                        "src": "6396:13:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_position_$44111_storage_ptr",
                          "typeString": "struct perpetual.position storage pointer"
                        }
                      },
                      "id": 44499,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": true,
                      "memberLocation": "6410:16:27",
                      "memberName": "borrowAmountWbtc",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 44110,
                      "src": "6396:30:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "+=",
                    "rightHandSide": {
                      "id": 44500,
                      "name": "borrowAmountWbtc_",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44474,
                      "src": "6430:17:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "6396:51:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 44502,
                  "nodeType": "ExpressionStatement",
                  "src": "6396:51:27"
                },
                {
                  "expression": {
                    "id": 44505,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "id": 44503,
                      "name": "totalBorrowed",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44130,
                      "src": "6458:13:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "+=",
                    "rightHandSide": {
                      "id": 44504,
                      "name": "borrowAmountWbtc_",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44474,
                      "src": "6475:17:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "6458:34:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 44506,
                  "nodeType": "ExpressionStatement",
                  "src": "6458:34:27"
                },
                {
                  "eventCall": {
                    "arguments": [
                      {
                        "expression": {
                          "id": 44508,
                          "name": "msg",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": -15,
                          "src": "6539:3:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_magic_message",
                            "typeString": "msg"
                          }
                        },
                        "id": 44509,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberLocation": "6543:6:27",
                        "memberName": "sender",
                        "nodeType": "MemberAccess",
                        "src": "6539:10:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "id": 44510,
                        "name": "_collateralAmountUsdc",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44436,
                        "src": "6564:21:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "expression": {
                          "id": 44511,
                          "name": "userPosition_",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 44455,
                          "src": "6599:13:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_position_$44111_storage_ptr",
                            "typeString": "struct perpetual.position storage pointer"
                          }
                        },
                        "id": 44512,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberLocation": "6613:16:27",
                        "memberName": "borrowAmountUsdc",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 44108,
                        "src": "6599:30:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "expression": {
                          "id": 44513,
                          "name": "userPosition_",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 44455,
                          "src": "6643:13:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_position_$44111_storage_ptr",
                            "typeString": "struct perpetual.position storage pointer"
                          }
                        },
                        "id": 44514,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberLocation": "6657:16:27",
                        "memberName": "borrowAmountWbtc",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 44110,
                        "src": "6643:30:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      ],
                      "id": 44507,
                      "name": "PositionIncreased",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44181,
                      "src": "6508:17:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_event_nonpayable$_t_address_$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$",
                        "typeString": "function (address,uint256,uint256,uint256)"
                      }
                    },
                    "id": 44515,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "6508:175:27",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 44516,
                  "nodeType": "EmitStatement",
                  "src": "6503:180:27"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "expression": {
                          "id": 44520,
                          "name": "msg",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": -15,
                          "src": "6716:3:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_magic_message",
                            "typeString": "msg"
                          }
                        },
                        "id": 44521,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberLocation": "6720:6:27",
                        "memberName": "sender",
                        "nodeType": "MemberAccess",
                        "src": "6716:10:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "arguments": [
                          {
                            "id": 44524,
                            "name": "this",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": -28,
                            "src": "6736:4:27",
                            "typeDescriptions": {
                              "typeIdentifier": "t_contract$_perpetual_$44651",
                              "typeString": "contract perpetual"
                            }
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_contract$_perpetual_$44651",
                              "typeString": "contract perpetual"
                            }
                          ],
                          "id": 44523,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "lValueRequested": false,
                          "nodeType": "ElementaryTypeNameExpression",
                          "src": "6728:7:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_type$_t_address_$",
                            "typeString": "type(address)"
                          },
                          "typeName": {
                            "id": 44522,
                            "name": "address",
                            "nodeType": "ElementaryTypeName",
                            "src": "6728:7:27",
                            "typeDescriptions": {}
                          }
                        },
                        "id": 44525,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "typeConversion",
                        "lValueRequested": false,
                        "nameLocations": [],
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "6728:13:27",
                        "tryCall": false,
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "id": 44526,
                        "name": "_collateralAmountUsdc",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44436,
                        "src": "6743:21:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      ],
                      "expression": {
                        "id": 44517,
                        "name": "USDC",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44117,
                        "src": "6694:4:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_contract$_IERC20_$45382",
                          "typeString": "contract IERC20"
                        }
                      },
                      "id": 44519,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberLocation": "6699:16:27",
                      "memberName": "safeTransferFrom",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 45091,
                      "src": "6694:21:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_nonpayable$_t_contract$_IERC20_$45382_$_t_address_$_t_address_$_t_uint256_$returns$__$attached_to$_t_contract$_IERC20_$45382_$",
                        "typeString": "function (contract IERC20,address,address,uint256)"
                      }
                    },
                    "id": 44527,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "6694:71:27",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 44528,
                  "nodeType": "ExpressionStatement",
                  "src": "6694:71:27"
                }
              ]
            },
            "functionSelector": "4c718d06",
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "increasePosition",
            "nameLocation": "5728:16:27",
            "parameters": {
              "id": 44437,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 44436,
                  "mutability": "mutable",
                  "name": "_collateralAmountUsdc",
                  "nameLocation": "5753:21:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44530,
                  "src": "5745:29:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 44435,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "5745:7:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "5744:31:27"
            },
            "returnParameters": {
              "id": 44438,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "5783:0:27"
            },
            "scope": 44651,
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "public"
          },
          {
            "id": 44569,
            "nodeType": "FunctionDefinition",
            "src": "6814:365:27",
            "nodes": [],
            "body": {
              "id": 44568,
              "nodeType": "Block",
              "src": "6880:299:27",
              "nodes": [],
              "statements": [
                {
                  "condition": {
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 44537,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "id": 44535,
                      "name": "_collateralAmountUsdc",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44532,
                      "src": "6894:21:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "==",
                    "rightExpression": {
                      "hexValue": "30",
                      "id": 44536,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "kind": "number",
                      "lValueRequested": false,
                      "nodeType": "Literal",
                      "src": "6919:1:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_rational_0_by_1",
                        "typeString": "int_const 0"
                      },
                      "value": "0"
                    },
                    "src": "6894:26:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "id": 44541,
                  "nodeType": "IfStatement",
                  "src": "6890:51:27",
                  "trueBody": {
                    "errorCall": {
                      "arguments": [],
                      "expression": {
                        "argumentTypes": [],
                        "id": 44538,
                        "name": "ZeroAmount",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44189,
                        "src": "6929:10:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_function_error_pure$__$returns$__$",
                          "typeString": "function () pure"
                        }
                      },
                      "id": 44539,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "functionCall",
                      "lValueRequested": false,
                      "nameLocations": [],
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "6929:12:27",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_tuple$__$",
                        "typeString": "tuple()"
                      }
                    },
                    "id": 44540,
                    "nodeType": "RevertStatement",
                    "src": "6922:19:27"
                  }
                },
                {
                  "expression": {
                    "id": 44548,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "expression": {
                        "baseExpression": {
                          "id": 44542,
                          "name": "userPositions",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 44126,
                          "src": "6952:13:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_mapping$_t_address_$_t_struct$_position_$44111_storage_$",
                            "typeString": "mapping(address => struct perpetual.position storage ref)"
                          }
                        },
                        "id": 44545,
                        "indexExpression": {
                          "expression": {
                            "id": 44543,
                            "name": "msg",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": -15,
                            "src": "6966:3:27",
                            "typeDescriptions": {
                              "typeIdentifier": "t_magic_message",
                              "typeString": "msg"
                            }
                          },
                          "id": 44544,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberLocation": "6970:6:27",
                          "memberName": "sender",
                          "nodeType": "MemberAccess",
                          "src": "6966:10:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        },
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "nodeType": "IndexAccess",
                        "src": "6952:25:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_position_$44111_storage",
                          "typeString": "struct perpetual.position storage ref"
                        }
                      },
                      "id": 44546,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": true,
                      "memberLocation": "6978:16:27",
                      "memberName": "collateralAmount",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 44106,
                      "src": "6952:42:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "+=",
                    "rightHandSide": {
                      "id": 44547,
                      "name": "_collateralAmountUsdc",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44532,
                      "src": "6998:21:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "6952:67:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 44549,
                  "nodeType": "ExpressionStatement",
                  "src": "6952:67:27"
                },
                {
                  "eventCall": {
                    "arguments": [
                      {
                        "expression": {
                          "id": 44551,
                          "name": "msg",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": -15,
                          "src": "7055:3:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_magic_message",
                            "typeString": "msg"
                          }
                        },
                        "id": 44552,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberLocation": "7059:6:27",
                        "memberName": "sender",
                        "nodeType": "MemberAccess",
                        "src": "7055:10:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "id": 44553,
                        "name": "_collateralAmountUsdc",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44532,
                        "src": "7067:21:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      ],
                      "id": 44550,
                      "name": "CollateralIncreased",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44187,
                      "src": "7035:19:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_event_nonpayable$_t_address_$_t_uint256_$returns$__$",
                        "typeString": "function (address,uint256)"
                      }
                    },
                    "id": 44554,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "7035:54:27",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 44555,
                  "nodeType": "EmitStatement",
                  "src": "7030:59:27"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "expression": {
                          "id": 44559,
                          "name": "msg",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": -15,
                          "src": "7122:3:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_magic_message",
                            "typeString": "msg"
                          }
                        },
                        "id": 44560,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberLocation": "7126:6:27",
                        "memberName": "sender",
                        "nodeType": "MemberAccess",
                        "src": "7122:10:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "arguments": [
                          {
                            "id": 44563,
                            "name": "this",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": -28,
                            "src": "7142:4:27",
                            "typeDescriptions": {
                              "typeIdentifier": "t_contract$_perpetual_$44651",
                              "typeString": "contract perpetual"
                            }
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_contract$_perpetual_$44651",
                              "typeString": "contract perpetual"
                            }
                          ],
                          "id": 44562,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "lValueRequested": false,
                          "nodeType": "ElementaryTypeNameExpression",
                          "src": "7134:7:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_type$_t_address_$",
                            "typeString": "type(address)"
                          },
                          "typeName": {
                            "id": 44561,
                            "name": "address",
                            "nodeType": "ElementaryTypeName",
                            "src": "7134:7:27",
                            "typeDescriptions": {}
                          }
                        },
                        "id": 44564,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "typeConversion",
                        "lValueRequested": false,
                        "nameLocations": [],
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "7134:13:27",
                        "tryCall": false,
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "id": 44565,
                        "name": "_collateralAmountUsdc",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44532,
                        "src": "7149:21:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      ],
                      "expression": {
                        "id": 44556,
                        "name": "USDC",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44117,
                        "src": "7100:4:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_contract$_IERC20_$45382",
                          "typeString": "contract IERC20"
                        }
                      },
                      "id": 44558,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberLocation": "7105:16:27",
                      "memberName": "safeTransferFrom",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 45091,
                      "src": "7100:21:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_nonpayable$_t_contract$_IERC20_$45382_$_t_address_$_t_address_$_t_uint256_$returns$__$attached_to$_t_contract$_IERC20_$45382_$",
                        "typeString": "function (contract IERC20,address,address,uint256)"
                      }
                    },
                    "id": 44566,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "7100:71:27",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 44567,
                  "nodeType": "ExpressionStatement",
                  "src": "7100:71:27"
                }
              ]
            },
            "functionSelector": "b8a83834",
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "increaseCollateral",
            "nameLocation": "6823:18:27",
            "parameters": {
              "id": 44533,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 44532,
                  "mutability": "mutable",
                  "name": "_collateralAmountUsdc",
                  "nameLocation": "6850:21:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44569,
                  "src": "6842:29:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 44531,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "6842:7:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "6841:31:27"
            },
            "returnParameters": {
              "id": 44534,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "6880:0:27"
            },
            "scope": 44651,
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "public"
          },
          {
            "id": 44597,
            "nodeType": "FunctionDefinition",
            "src": "7237:293:27",
            "nodes": [],
            "body": {
              "id": 44596,
              "nodeType": "Block",
              "src": "7296:234:27",
              "nodes": [],
              "statements": [
                {
                  "assignments": [
                    44575
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 44575,
                      "mutability": "mutable",
                      "name": "netBorrow",
                      "nameLocation": "7314:9:27",
                      "nodeType": "VariableDeclaration",
                      "scope": 44596,
                      "src": "7306:17:27",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 44574,
                        "name": "uint256",
                        "nodeType": "ElementaryTypeName",
                        "src": "7306:7:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 44579,
                  "initialValue": {
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 44578,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "id": 44576,
                      "name": "totalBorrowed",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44130,
                      "src": "7326:13:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "+",
                    "rightExpression": {
                      "id": 44577,
                      "name": "_amount",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44571,
                      "src": "7342:7:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "7326:23:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "7306:43:27"
                },
                {
                  "assignments": [
                    44581
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 44581,
                      "mutability": "mutable",
                      "name": "liquidityRatioAfter",
                      "nameLocation": "7368:19:27",
                      "nodeType": "VariableDeclaration",
                      "scope": 44596,
                      "src": "7360:27:27",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 44580,
                        "name": "uint256",
                        "nodeType": "ElementaryTypeName",
                        "src": "7360:7:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 44588,
                  "initialValue": {
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 44587,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "components": [
                        {
                          "commonType": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          "id": 44584,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "id": 44582,
                            "name": "totalDeposited",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 44128,
                            "src": "7391:14:27",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "*",
                          "rightExpression": {
                            "id": 44583,
                            "name": "LIQUIDITY_SCALE",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 44145,
                            "src": "7408:15:27",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "src": "7391:32:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        }
                      ],
                      "id": 44585,
                      "isConstant": false,
                      "isInlineArray": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "nodeType": "TupleExpression",
                      "src": "7390:34:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "/",
                    "rightExpression": {
                      "id": 44586,
                      "name": "netBorrow",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44575,
                      "src": "7427:9:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "7390:46:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "7360:76:27"
                },
                {
                  "condition": {
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 44591,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "id": 44589,
                      "name": "liquidityRatioAfter",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44581,
                      "src": "7451:19:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "<",
                    "rightExpression": {
                      "id": 44590,
                      "name": "MINIMUM_RESERVE_RATIO",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44136,
                      "src": "7473:21:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "7451:43:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "id": 44595,
                  "nodeType": "IfStatement",
                  "src": "7447:76:27",
                  "trueBody": {
                    "errorCall": {
                      "arguments": [],
                      "expression": {
                        "argumentTypes": [],
                        "id": 44592,
                        "name": "NotEnoughLiquidity",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44191,
                        "src": "7503:18:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_function_error_pure$__$returns$__$",
                          "typeString": "function () pure"
                        }
                      },
                      "id": 44593,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "functionCall",
                      "lValueRequested": false,
                      "nameLocations": [],
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "7503:20:27",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_tuple$__$",
                        "typeString": "tuple()"
                      }
                    },
                    "id": 44594,
                    "nodeType": "RevertStatement",
                    "src": "7496:27:27"
                  }
                }
              ]
            },
            "functionSelector": "4270710b",
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "checkLiquidityBorrow",
            "nameLocation": "7246:20:27",
            "parameters": {
              "id": 44572,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 44571,
                  "mutability": "mutable",
                  "name": "_amount",
                  "nameLocation": "7275:7:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44597,
                  "src": "7267:15:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 44570,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "7267:7:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "7266:17:27"
            },
            "returnParameters": {
              "id": 44573,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "7296:0:27"
            },
            "scope": 44651,
            "stateMutability": "view",
            "virtual": false,
            "visibility": "public"
          },
          {
            "id": 44650,
            "nodeType": "FunctionDefinition",
            "src": "7586:648:27",
            "nodes": [],
            "body": {
              "id": 44649,
              "nodeType": "Block",
              "src": "7647:587:27",
              "nodes": [],
              "statements": [
                {
                  "assignments": [
                    44603
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 44603,
                      "mutability": "mutable",
                      "name": "totalBorrowed_",
                      "nameLocation": "7666:14:27",
                      "nodeType": "VariableDeclaration",
                      "scope": 44649,
                      "src": "7658:22:27",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 44602,
                        "name": "uint256",
                        "nodeType": "ElementaryTypeName",
                        "src": "7658:7:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 44605,
                  "initialValue": {
                    "id": 44604,
                    "name": "totalBorrowed",
                    "nodeType": "Identifier",
                    "overloadedDeclarations": [],
                    "referencedDeclaration": 44130,
                    "src": "7683:13:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "7658:38:27"
                },
                {
                  "assignments": [
                    44607
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 44607,
                      "mutability": "mutable",
                      "name": "netSupply",
                      "nameLocation": "7715:9:27",
                      "nodeType": "VariableDeclaration",
                      "scope": 44649,
                      "src": "7707:17:27",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 44606,
                        "name": "uint256",
                        "nodeType": "ElementaryTypeName",
                        "src": "7707:7:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 44612,
                  "initialValue": {
                    "components": [
                      {
                        "commonType": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        "id": 44610,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "id": 44608,
                          "name": "totalDeposited",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 44128,
                          "src": "7728:14:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": "-",
                        "rightExpression": {
                          "id": 44609,
                          "name": "_amount",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 44599,
                          "src": "7745:7:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "src": "7728:24:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "id": 44611,
                    "isConstant": false,
                    "isInlineArray": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "nodeType": "TupleExpression",
                    "src": "7727:26:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "7707:46:27"
                },
                {
                  "condition": {
                    "commonType": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    },
                    "id": 44619,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "commonType": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "id": 44615,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "leftExpression": {
                        "id": 44613,
                        "name": "netSupply",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44607,
                        "src": "7850:9:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "nodeType": "BinaryOperation",
                      "operator": "==",
                      "rightExpression": {
                        "hexValue": "30",
                        "id": 44614,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "number",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "7863:1:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_rational_0_by_1",
                          "typeString": "int_const 0"
                        },
                        "value": "0"
                      },
                      "src": "7850:14:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_bool",
                        "typeString": "bool"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "&&",
                    "rightExpression": {
                      "commonType": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "id": 44618,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "leftExpression": {
                        "id": 44616,
                        "name": "totalBorrowed_",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44603,
                        "src": "7868:14:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "nodeType": "BinaryOperation",
                      "operator": "==",
                      "rightExpression": {
                        "hexValue": "30",
                        "id": 44617,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "number",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "7886:1:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_rational_0_by_1",
                          "typeString": "int_const 0"
                        },
                        "value": "0"
                      },
                      "src": "7868:19:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_bool",
                        "typeString": "bool"
                      }
                    },
                    "src": "7850:37:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "id": 44621,
                  "nodeType": "IfStatement",
                  "src": "7846:50:27",
                  "trueBody": {
                    "functionReturnParameters": 44601,
                    "id": 44620,
                    "nodeType": "Return",
                    "src": "7889:7:27"
                  }
                },
                {
                  "condition": {
                    "commonType": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    },
                    "id": 44628,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "commonType": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "id": 44624,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "leftExpression": {
                        "id": 44622,
                        "name": "netSupply",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44607,
                        "src": "7988:9:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "nodeType": "BinaryOperation",
                      "operator": "==",
                      "rightExpression": {
                        "hexValue": "30",
                        "id": 44623,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "number",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "8001:1:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_rational_0_by_1",
                          "typeString": "int_const 0"
                        },
                        "value": "0"
                      },
                      "src": "7988:14:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_bool",
                        "typeString": "bool"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "&&",
                    "rightExpression": {
                      "commonType": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "id": 44627,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "leftExpression": {
                        "id": 44625,
                        "name": "totalBorrowed_",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44603,
                        "src": "8006:14:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "nodeType": "BinaryOperation",
                      "operator": ">",
                      "rightExpression": {
                        "hexValue": "30",
                        "id": 44626,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "number",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "8023:1:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_rational_0_by_1",
                          "typeString": "int_const 0"
                        },
                        "value": "0"
                      },
                      "src": "8006:18:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_bool",
                        "typeString": "bool"
                      }
                    },
                    "src": "7988:36:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "id": 44632,
                  "nodeType": "IfStatement",
                  "src": "7984:69:27",
                  "trueBody": {
                    "errorCall": {
                      "arguments": [],
                      "expression": {
                        "argumentTypes": [],
                        "id": 44629,
                        "name": "NotEnoughLiquidity",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44191,
                        "src": "8033:18:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_function_error_pure$__$returns$__$",
                          "typeString": "function () pure"
                        }
                      },
                      "id": 44630,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "functionCall",
                      "lValueRequested": false,
                      "nameLocations": [],
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "8033:20:27",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_tuple$__$",
                        "typeString": "tuple()"
                      }
                    },
                    "id": 44631,
                    "nodeType": "RevertStatement",
                    "src": "8026:27:27"
                  }
                },
                {
                  "assignments": [
                    44634
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 44634,
                      "mutability": "mutable",
                      "name": "liquidityRatioAfter",
                      "nameLocation": "8072:19:27",
                      "nodeType": "VariableDeclaration",
                      "scope": 44649,
                      "src": "8064:27:27",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 44633,
                        "name": "uint256",
                        "nodeType": "ElementaryTypeName",
                        "src": "8064:7:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 44641,
                  "initialValue": {
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 44640,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "components": [
                        {
                          "commonType": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          "id": 44637,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "id": 44635,
                            "name": "netSupply",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 44607,
                            "src": "8095:9:27",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "*",
                          "rightExpression": {
                            "id": 44636,
                            "name": "LIQUIDITY_SCALE",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 44145,
                            "src": "8107:15:27",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "src": "8095:27:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        }
                      ],
                      "id": 44638,
                      "isConstant": false,
                      "isInlineArray": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "nodeType": "TupleExpression",
                      "src": "8094:29:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "/",
                    "rightExpression": {
                      "id": 44639,
                      "name": "totalBorrowed_",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44603,
                      "src": "8126:14:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "8094:46:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "8064:76:27"
                },
                {
                  "condition": {
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 44644,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "id": 44642,
                      "name": "liquidityRatioAfter",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44634,
                      "src": "8155:19:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "<",
                    "rightExpression": {
                      "id": 44643,
                      "name": "MINIMUM_RESERVE_RATIO",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44136,
                      "src": "8177:21:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "8155:43:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "id": 44648,
                  "nodeType": "IfStatement",
                  "src": "8151:76:27",
                  "trueBody": {
                    "errorCall": {
                      "arguments": [],
                      "expression": {
                        "argumentTypes": [],
                        "id": 44645,
                        "name": "NotEnoughLiquidity",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44191,
                        "src": "8207:18:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_function_error_pure$__$returns$__$",
                          "typeString": "function () pure"
                        }
                      },
                      "id": 44646,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "functionCall",
                      "lValueRequested": false,
                      "nameLocations": [],
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "8207:20:27",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_tuple$__$",
                        "typeString": "tuple()"
                      }
                    },
                    "id": 44647,
                    "nodeType": "RevertStatement",
                    "src": "8200:27:27"
                  }
                }
              ]
            },
            "functionSelector": "a70bf7fe",
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "checkLiquidityWithdraw",
            "nameLocation": "7595:22:27",
            "parameters": {
              "id": 44600,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 44599,
                  "mutability": "mutable",
                  "name": "_amount",
                  "nameLocation": "7626:7:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44650,
                  "src": "7618:15:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 44598,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "7618:7:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "7617:17:27"
            },
            "returnParameters": {
              "id": 44601,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "7647:0:27"
            },
            "scope": 44651,
            "stateMutability": "view",
            "virtual": false,
            "visibility": "public"
          }
        ],
        "abstract": false,
        "baseContracts": [],
        "canonicalName": "perpetual",
        "contractDependencies": [],
        "contractKind": "contract",
        "fullyImplemented": true,
        "linearizedBaseContracts": [
          44651
        ],
        "name": "perpetual",
        "nameLocation": "1078:9:27",
        "scope": 44652,
        "usedErrors": [
          44189,
          44191,
          44193,
          44195,
          45031,
          45426,
          45431,
          45434
        ],
        "usedEvents": [
          44151,
          44157,
          44171,
          44181,
          44187
        ]
      }
    ],
    "license": "MIT"
  },
  "id": 27
}