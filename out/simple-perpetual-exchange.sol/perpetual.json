{
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_WBTC",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_USDC",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "chainlinkPriceFeed",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "target",
          "type": "address"
        }
      ],
      "name": "AddressEmptyCode",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "AddressInsufficientBalance",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "FailedInnerCall",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "NotEnoughCollateral",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "NotEnoughLiquidity",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "PositionOpen",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        }
      ],
      "name": "SafeERC20FailedOperation",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ZeroAmount",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "additionalCollateralAmountUsdc",
          "type": "uint256"
        }
      ],
      "name": "CollateralIncreased",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "LiquidityDeposited",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "LiquidityWithdrawn",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "additionalCollateralAmountUsdc",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "newborrowAmountUsdc",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "newBorrowAmountWbtc",
          "type": "uint256"
        }
      ],
      "name": "PositionIncreased",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "bool",
          "name": "positionType",
          "type": "bool"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "leverage",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "collateralAmountUsdc",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "borrowAmountUsdc",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "borrowAmountWbtc",
          "type": "uint256"
        }
      ],
      "name": "PositionOpened",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "USDC",
      "outputs": [
        {
          "internalType": "contract IERC20",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "WBTC",
      "outputs": [
        {
          "internalType": "contract IERC20",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_amount",
          "type": "uint256"
        }
      ],
      "name": "checkLiquidityBorrow",
      "outputs": [],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_amount",
          "type": "uint256"
        }
      ],
      "name": "checkLiquidityWithdraw",
      "outputs": [],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_amount",
          "type": "uint256"
        }
      ],
      "name": "depositLiquidity",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getWBTCPrice",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_collateralAmountUsdc",
          "type": "uint256"
        }
      ],
      "name": "increaseCollateral",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_collateralAmountUsdc",
          "type": "uint256"
        }
      ],
      "name": "increasePosition",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bool",
          "name": "_positionType",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "_leverage",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_collateralAmountUsdc",
          "type": "uint256"
        }
      ],
      "name": "openPosition",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "totalBorrowed",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "totalDeposited",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "userDeposit",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "userPositions",
      "outputs": [
        {
          "internalType": "bool",
          "name": "positionType",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "leverage",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "collateralAmount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "borrowAmountUsdc",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "borrowAmountWbtc",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_amount",
          "type": "uint256"
        }
      ],
      "name": "withdrawLiquidity",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": {
    "object": "0x60e060405234801561001057600080fd5b50604051610ef1380380610ef183398101604081905261002f91610072565b6001600160a01b0392831660a05290821660c05216608052600060028190556003556100b5565b80516001600160a01b038116811461006d57600080fd5b919050565b60008060006060848603121561008757600080fd5b61009084610056565b925061009e60208501610056565b91506100ac60408501610056565b90509250925092565b60805160a05160c051610dea610107600039600081816102090152818161050f0152818161072c015261090401526000818161014b0152818161033e01526105de015260006109390152610dea6000f3fe608060405234801561001057600080fd5b50600436106100ea5760003560e01c806389a302711161008c578063d1260edd11610066578063d1260edd14610251578063e325573114610271578063fa7d826a14610284578063ff50abdc1461028c57600080fd5b806389a3027114610204578063a70bf7fe1461022b578063b8a838341461023e57600080fd5b80634c718d06116100c85780634c718d06146101335780634dede3de14610146578063613cf4201461018557806376d58e1a146101f157600080fd5b80630a861f2a146100ef5780634270710b146101045780634c19386c14610117575b600080fd5b6101026100fd366004610bff565b610295565b005b610102610112366004610bff565b610368565b61012060035481565b6040519081526020015b60405180910390f35b610102610141366004610bff565b6103c1565b61016d7f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b03909116815260200161012a565b6101c7610193366004610c18565b60016020819052600091825260409091208054918101546002820154600383015460049093015460ff909416939192909185565b6040805195151586526020860194909452928401919091526060830152608082015260a00161012a565b6101026101ff366004610bff565b61053e565b61016d7f000000000000000000000000000000000000000000000000000000000000000081565b610102610239366004610bff565b610606565b61010261024c366004610bff565b6106a2565b61012061025f366004610c18565b60006020819052908152604090205481565b61010261027f366004610c4f565b610754565b610120610934565b61012060025481565b806000036102b657604051631f2a200560e01b815260040160405180910390fd5b6102bf81610606565b33600090815260208190526040812080548392906102de908490610c9a565b9250508190555080600260008282546102f79190610c9a565b909155505060405181815233907fb1cce8684b4ffa8667b4577654e61ee3480d661ee9c27522ac80e211f6bd4d259060200160405180910390a26103656001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001633836109c4565b50565b6000816003546103789190610cad565b905060008161271060025461038d9190610cc0565b6103979190610cd7565b9050613a988110156103bc57604051634323a55560e01b815260040160405180910390fd5b505050565b806000036103e257604051631f2a200560e01b815260040160405180910390fd5b629896808110156104055760405162d11df360e61b815260040160405180910390fd5b3360009081526001602052604081209061041d610934565b905060008260010154846104319190610cc0565b9050600082610448670de0b6b3a764000087610cc0565b6104529190610cd7565b905061046061271082610cd7565b5061046a81610368565b8184600301600082825461047e9190610cad565b92505081905550808460040160008282546104999190610cad565b9250508190555080600360008282546104b29190610cad565b90915550506003840154600485015460408051888152602081019390935282015233907f673e472cd732d3288c086ad7d57942b327621ec34ae765dfa0d0069c9fe100649060600160405180910390a26105376001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016333088610a23565b5050505050565b8060000361055f57604051631f2a200560e01b815260040160405180910390fd5b336000908152602081905260408120805483929061057e908490610cad565b9250508190555080600260008282546105979190610cad565b909155505060405181815233907f7ff07ce9a287649537e4b012e45cf012d90228b12e2b56bb03515a6b5436fcdf9060200160405180910390a26103656001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016333084610a23565b60035460025460009061061a908490610c9a565b905080158015610628575081155b1561063257505050565b801580156106405750600082115b1561065e57604051634323a55560e01b815260040160405180910390fd5b60008261066d61271084610cc0565b6106779190610cd7565b9050613a9881101561069c57604051634323a55560e01b815260040160405180910390fd5b50505050565b806000036106c357604051631f2a200560e01b815260040160405180910390fd5b33600090815260016020526040812060020180548392906106e5908490610cad565b909155505060405181815233907ffe774a391baf6f98e6e7e8f440eca7282e48993fe8ccf2c0081f13c9d34880d19060200160405180910390a26103656001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016333084610a23565b81158061075f575080155b1561077d57604051631f2a200560e01b815260040160405180910390fd5b33600090815260016020526040902060030154156107ae5760405163381d07a960e01b815260040160405180910390fd5b629896808110156107d15760405162d11df360e61b815260040160405180910390fd5b60006107db610934565b905060006107e98484610cc0565b9050600082610800670de0b6b3a764000084610cc0565b61080a9190610cd7565b905061081861271082610cd7565b5061082281610368565b6040805160a0810182528715158152602080820188815282840188815260608401878152608085018781523360009081526001958690529687209551865460ff191690151517865592519385019390935551600284015590516003808401919091559051600490920191909155805483929061089f908490610cad565b909155505060408051871515815260208101879052908101859052606081018390526080810182905233907f0e8f4b81343afa64bc4ddcfbf2d80e883e0ddfc6663c400ca09da13d1d28d5889060a00160405180910390a261092c6001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016333087610a23565b505050505050565b6000807f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031663feaf968c6040518163ffffffff1660e01b815260040160a060405180830381865afa158015610995573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109b99190610d18565b509195945050505050565b6040516001600160a01b038381166024830152604482018390526103bc91859182169063a9059cbb906064015b604051602081830303815290604052915060e01b6020820180516001600160e01b038381831617835250505050610a5c565b6040516001600160a01b03848116602483015283811660448301526064820183905261069c9186918216906323b872dd906084016109f1565b6000610a716001600160a01b03841683610ac4565b90508051600014158015610a96575080806020019051810190610a949190610d68565b155b156103bc57604051635274afe760e01b81526001600160a01b03841660048201526024015b60405180910390fd5b6060610ad283836000610adb565b90505b92915050565b606081471015610b005760405163cd78605960e01b8152306004820152602401610abb565b600080856001600160a01b03168486604051610b1c9190610d85565b60006040518083038185875af1925050503d8060008114610b59576040519150601f19603f3d011682016040523d82523d6000602084013e610b5e565b606091505b5091509150610b6e868383610b7a565b925050505b9392505050565b606082610b8f57610b8a82610bd6565b610b73565b8151158015610ba657506001600160a01b0384163b155b15610bcf57604051639996b31560e01b81526001600160a01b0385166004820152602401610abb565b5080610b73565b805115610be65780518082602001fd5b604051630a12f52160e11b815260040160405180910390fd5b600060208284031215610c1157600080fd5b5035919050565b600060208284031215610c2a57600080fd5b81356001600160a01b0381168114610b7357600080fd5b801515811461036557600080fd5b600080600060608486031215610c6457600080fd5b8335610c6f81610c41565b95602085013595506040909401359392505050565b634e487b7160e01b600052601160045260246000fd5b81810381811115610ad557610ad5610c84565b80820180821115610ad557610ad5610c84565b8082028115828204841417610ad557610ad5610c84565b600082610cf457634e487b7160e01b600052601260045260246000fd5b500490565b805169ffffffffffffffffffff81168114610d1357600080fd5b919050565b600080600080600060a08688031215610d3057600080fd5b610d3986610cf9565b9450602086015193506040860151925060608601519150610d5c60808701610cf9565b90509295509295909350565b600060208284031215610d7a57600080fd5b8151610b7381610c41565b6000825160005b81811015610da65760208186018101518583015201610d8c565b50600092019182525091905056fea2646970667358221220ab39870cf5c64cdf9d426f328a426e48ee21fa5cb3cbb003713ad9a56740249464736f6c63430008150033",
    "sourceMap": "984:7176:27:-:0;;;3050:253;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;-1:-1:-1;;;;;3129:20:27;;;;;3159;;;;;3189:52;;;3268:1;3251:14;:18;;;3279:13;:17;984:7176;;14:177:30;93:13;;-1:-1:-1;;;;;135:31:30;;125:42;;115:70;;181:1;178;171:12;115:70;14:177;;;:::o;196:378::-;284:6;292;300;353:2;341:9;332:7;328:23;324:32;321:52;;;369:1;366;359:12;321:52;392:40;422:9;392:40;:::i;:::-;382:50;;451:49;496:2;485:9;481:18;451:49;:::i;:::-;441:59;;519:49;564:2;553:9;549:18;519:49;:::i;:::-;509:59;;196:378;;;;;:::o;:::-;984:7176:27;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;",
    "linkReferences": {}
  },
  "deployedBytecode": {
    "object": "0x608060405234801561001057600080fd5b50600436106100ea5760003560e01c806389a302711161008c578063d1260edd11610066578063d1260edd14610251578063e325573114610271578063fa7d826a14610284578063ff50abdc1461028c57600080fd5b806389a3027114610204578063a70bf7fe1461022b578063b8a838341461023e57600080fd5b80634c718d06116100c85780634c718d06146101335780634dede3de14610146578063613cf4201461018557806376d58e1a146101f157600080fd5b80630a861f2a146100ef5780634270710b146101045780634c19386c14610117575b600080fd5b6101026100fd366004610bff565b610295565b005b610102610112366004610bff565b610368565b61012060035481565b6040519081526020015b60405180910390f35b610102610141366004610bff565b6103c1565b61016d7f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b03909116815260200161012a565b6101c7610193366004610c18565b60016020819052600091825260409091208054918101546002820154600383015460049093015460ff909416939192909185565b6040805195151586526020860194909452928401919091526060830152608082015260a00161012a565b6101026101ff366004610bff565b61053e565b61016d7f000000000000000000000000000000000000000000000000000000000000000081565b610102610239366004610bff565b610606565b61010261024c366004610bff565b6106a2565b61012061025f366004610c18565b60006020819052908152604090205481565b61010261027f366004610c4f565b610754565b610120610934565b61012060025481565b806000036102b657604051631f2a200560e01b815260040160405180910390fd5b6102bf81610606565b33600090815260208190526040812080548392906102de908490610c9a565b9250508190555080600260008282546102f79190610c9a565b909155505060405181815233907fb1cce8684b4ffa8667b4577654e61ee3480d661ee9c27522ac80e211f6bd4d259060200160405180910390a26103656001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001633836109c4565b50565b6000816003546103789190610cad565b905060008161271060025461038d9190610cc0565b6103979190610cd7565b9050613a988110156103bc57604051634323a55560e01b815260040160405180910390fd5b505050565b806000036103e257604051631f2a200560e01b815260040160405180910390fd5b629896808110156104055760405162d11df360e61b815260040160405180910390fd5b3360009081526001602052604081209061041d610934565b905060008260010154846104319190610cc0565b9050600082610448670de0b6b3a764000087610cc0565b6104529190610cd7565b905061046061271082610cd7565b5061046a81610368565b8184600301600082825461047e9190610cad565b92505081905550808460040160008282546104999190610cad565b9250508190555080600360008282546104b29190610cad565b90915550506003840154600485015460408051888152602081019390935282015233907f673e472cd732d3288c086ad7d57942b327621ec34ae765dfa0d0069c9fe100649060600160405180910390a26105376001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016333088610a23565b5050505050565b8060000361055f57604051631f2a200560e01b815260040160405180910390fd5b336000908152602081905260408120805483929061057e908490610cad565b9250508190555080600260008282546105979190610cad565b909155505060405181815233907f7ff07ce9a287649537e4b012e45cf012d90228b12e2b56bb03515a6b5436fcdf9060200160405180910390a26103656001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016333084610a23565b60035460025460009061061a908490610c9a565b905080158015610628575081155b1561063257505050565b801580156106405750600082115b1561065e57604051634323a55560e01b815260040160405180910390fd5b60008261066d61271084610cc0565b6106779190610cd7565b9050613a9881101561069c57604051634323a55560e01b815260040160405180910390fd5b50505050565b806000036106c357604051631f2a200560e01b815260040160405180910390fd5b33600090815260016020526040812060020180548392906106e5908490610cad565b909155505060405181815233907ffe774a391baf6f98e6e7e8f440eca7282e48993fe8ccf2c0081f13c9d34880d19060200160405180910390a26103656001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016333084610a23565b81158061075f575080155b1561077d57604051631f2a200560e01b815260040160405180910390fd5b33600090815260016020526040902060030154156107ae5760405163381d07a960e01b815260040160405180910390fd5b629896808110156107d15760405162d11df360e61b815260040160405180910390fd5b60006107db610934565b905060006107e98484610cc0565b9050600082610800670de0b6b3a764000084610cc0565b61080a9190610cd7565b905061081861271082610cd7565b5061082281610368565b6040805160a0810182528715158152602080820188815282840188815260608401878152608085018781523360009081526001958690529687209551865460ff191690151517865592519385019390935551600284015590516003808401919091559051600490920191909155805483929061089f908490610cad565b909155505060408051871515815260208101879052908101859052606081018390526080810182905233907f0e8f4b81343afa64bc4ddcfbf2d80e883e0ddfc6663c400ca09da13d1d28d5889060a00160405180910390a261092c6001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016333087610a23565b505050505050565b6000807f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031663feaf968c6040518163ffffffff1660e01b815260040160a060405180830381865afa158015610995573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109b99190610d18565b509195945050505050565b6040516001600160a01b038381166024830152604482018390526103bc91859182169063a9059cbb906064015b604051602081830303815290604052915060e01b6020820180516001600160e01b038381831617835250505050610a5c565b6040516001600160a01b03848116602483015283811660448301526064820183905261069c9186918216906323b872dd906084016109f1565b6000610a716001600160a01b03841683610ac4565b90508051600014158015610a96575080806020019051810190610a949190610d68565b155b156103bc57604051635274afe760e01b81526001600160a01b03841660048201526024015b60405180910390fd5b6060610ad283836000610adb565b90505b92915050565b606081471015610b005760405163cd78605960e01b8152306004820152602401610abb565b600080856001600160a01b03168486604051610b1c9190610d85565b60006040518083038185875af1925050503d8060008114610b59576040519150601f19603f3d011682016040523d82523d6000602084013e610b5e565b606091505b5091509150610b6e868383610b7a565b925050505b9392505050565b606082610b8f57610b8a82610bd6565b610b73565b8151158015610ba657506001600160a01b0384163b155b15610bcf57604051639996b31560e01b81526001600160a01b0385166004820152602401610abb565b5080610b73565b805115610be65780518082602001fd5b604051630a12f52160e11b815260040160405180910390fd5b600060208284031215610c1157600080fd5b5035919050565b600060208284031215610c2a57600080fd5b81356001600160a01b0381168114610b7357600080fd5b801515811461036557600080fd5b600080600060608486031215610c6457600080fd5b8335610c6f81610c41565b95602085013595506040909401359392505050565b634e487b7160e01b600052601160045260246000fd5b81810381811115610ad557610ad5610c84565b80820180821115610ad557610ad5610c84565b8082028115828204841417610ad557610ad5610c84565b600082610cf457634e487b7160e01b600052601260045260246000fd5b500490565b805169ffffffffffffffffffff81168114610d1357600080fd5b919050565b600080600080600060a08688031215610d3057600080fd5b610d3986610cf9565b9450602086015193506040860151925060608601519150610d5c60808701610cf9565b90509295509295909350565b600060208284031215610d7a57600080fd5b8151610b7381610c41565b6000825160005b81811015610da65760208186018101518583015201610d8c565b50600092019182525091905056fea2646970667358221220ab39870cf5c64cdf9d426f328a426e48ee21fa5cb3cbb003713ad9a56740249464736f6c63430008150033",
    "sourceMap": "984:7176:27:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3771:333;;;;;;:::i;:::-;;:::i;:::-;;7160:293;;;;;;:::i;:::-;;:::i;1703:28::-;;;;;;;;;345:25:30;;;333:2;318:18;1703:28:27;;;;;;;;5642:1062;;;;;;:::i;:::-;;:::i;1416:28::-;;;;;;;;-1:-1:-1;;;;;561:32:30;;;543:51;;531:2;516:18;1416:28:27;381:219:30;1608:49:27;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1174:14:30;;1167:22;1149:41;;1221:2;1206:18;;1199:34;;;;1249:18;;;1242:34;;;;1307:2;1292:18;;1285:34;1350:3;1335:19;;1328:35;1136:3;1121:19;1608:49:27;896:473:30;3334:405:27;;;;;;:::i;:::-;;:::i;1451:28::-;;;;;7509:648;;;;;;:::i;:::-;;:::i;6737:365::-;;;;;;:::i;:::-;;:::i;1555:46::-;;;;;;:::i;:::-;;;;;;;;;;;;;;;4292:1311;;;;;;:::i;:::-;;:::i;4115:150::-;;;:::i;1668:29::-;;;;;;3771:333;3836:7;3847:1;3836:12;3832:37;;3857:12;;-1:-1:-1;;;3857:12:27;;;;;;;;;;;3832:37;3880:31;3903:7;3880:22;:31::i;:::-;3934:10;3922:11;:23;;;;;;;;;;:34;;3949:7;;3922:11;:34;;3949:7;;3922:34;:::i;:::-;;;;;;;;3985:7;3967:14;;:25;;;;;;;:::i;:::-;;;;-1:-1:-1;;4008:39:27;;345:25:30;;;4027:10:27;;4008:39;;333:2:30;318:18;4008:39:27;;;;;;;4058:38;-1:-1:-1;;;;;4058:4:27;:17;4076:10;4088:7;4058:17;:38::i;:::-;3771:333;:::o;7160:293::-;7229:17;7265:7;7249:13;;:23;;;;:::i;:::-;7229:43;;7283:27;7350:9;2244:3;7314:14;;:32;;;;:::i;:::-;7313:46;;;;:::i;:::-;7283:76;;2082:6;7374:19;:43;7370:76;;;7426:20;;-1:-1:-1;;;7426:20:27;;;;;;;;;;;7370:76;7219:234;;7160:293;:::o;5642:1062::-;5720:21;5745:1;5720:26;5716:51;;5755:12;;-1:-1:-1;;;5755:12:27;;;;;;;;;;;5716:51;1962:10;5780:21;:42;5777:75;;;5831:21;;-1:-1:-1;;;5831:21:27;;;;;;;;;;;5777:75;5910:10;5863:30;5896:25;;;:13;:25;;;;;;5953:14;:12;:14::i;:::-;5932:35;;5978:25;6030:13;:22;;;6006:21;:46;;;;:::i;:::-;5978:74;-1:-1:-1;6063:25:27;6140:10;6092:43;2153:4;6092:21;:43;:::i;:::-;6091:60;;;;:::i;:::-;6063:88;-1:-1:-1;6162:35:27;2244:3;6063:88;6162:35;:::i;:::-;;6208:39;6229:17;6208:20;:39::i;:::-;6292:17;6258:13;:30;;;:51;;;;;;;:::i;:::-;;;;;;;;6353:17;6319:13;:30;;;:51;;;;;;;:::i;:::-;;;;;;;;6398:17;6381:13;;:34;;;;;;;:::i;:::-;;;;-1:-1:-1;;6522:30:27;;;;6566;;;;6431:175;;;2871:25:30;;;2927:2;2912:18;;2905:34;;;;2955:18;;2948:34;6462:10:27;;6431:175;;2859:2:30;2844:18;6431:175:27;;;;;;;6617:71;-1:-1:-1;;;;;6617:4:27;:21;6639:10;6659:4;6666:21;6617;:71::i;:::-;5706:998;;;;5642:1062;:::o;3334:405::-;3398:7;3409:1;3398:12;3394:37;;3419:12;;-1:-1:-1;;;3419:12:27;;;;;;;;;;;3394:37;3488:10;3476:11;:23;;;;;;;;;;:34;;3503:7;;3476:11;:34;;3503:7;;3476:34;:::i;:::-;;;;;;;;3572:7;3554:14;;:25;;;;;;;:::i;:::-;;;;-1:-1:-1;;3595:39:27;;345:25:30;;;3614:10:27;;3595:39;;333:2:30;318:18;3595:39:27;;;;;;;3674:57;-1:-1:-1;;;;;3674:4:27;:21;3696:10;3716:4;3723:7;3674:21;:57::i;7509:648::-;7606:13;;7651:14;;7581:22;;7651:24;;7668:7;;7651:24;:::i;:::-;7630:46;-1:-1:-1;7773:14:27;;:37;;;;-1:-1:-1;7791:19:27;;7773:37;7769:50;;;7812:7;;7509:648;:::o;7769:50::-;7911:14;;:36;;;;;7946:1;7929:14;:18;7911:36;7907:69;;;7956:20;;-1:-1:-1;;;7956:20:27;;;;;;;;;;;7907:69;7987:27;8049:14;8018:27;2244:3;8018:9;:27;:::i;:::-;8017:46;;;;:::i;:::-;7987:76;;2082:6;8078:19;:43;8074:76;;;8130:20;;-1:-1:-1;;;8130:20:27;;;;;;;;;;;8074:76;7570:587;;;7509:648;:::o;6737:365::-;6817:21;6842:1;6817:26;6813:51;;6852:12;;-1:-1:-1;;;6852:12:27;;;;;;;;;;;6813:51;6889:10;6875:25;;;;:13;:25;;;;;:42;;:67;;6921:21;;6875:25;:67;;6921:21;;6875:67;:::i;:::-;;;;-1:-1:-1;;6958:54:27;;345:25:30;;;6978:10:27;;6958:54;;333:2:30;318:18;6958:54:27;;;;;;;7023:71;-1:-1:-1;;;;;7023:4:27;:21;7045:10;7065:4;7072:21;7023;:71::i;4292:1311::-;4438:14;;;:44;;-1:-1:-1;4456:26:27;;4438:44;4435:68;;;4491:12;;-1:-1:-1;;;4491:12:27;;;;;;;;;;;4435:68;4530:10;4561:1;4516:25;;;:13;:25;;;;;:42;;;:46;4513:72;;4571:14;;-1:-1:-1;;;4571:14:27;;;;;;;;;;;4513:72;1962:10;4598:21;:42;4595:75;;;4649:21;;-1:-1:-1;;;4649:21:27;;;;;;;;;;;4595:75;4707:18;4728:14;:12;:14::i;:::-;4707:35;-1:-1:-1;4791:25:27;4819:33;4843:9;4819:21;:33;:::i;:::-;4791:61;-1:-1:-1;4863:25:27;4936:10;4892:40;2153:4;4791:61;4892:40;:::i;:::-;4891:55;;;;:::i;:::-;4863:83;-1:-1:-1;4957:35:27;2244:3;4863:83;4957:35;:::i;:::-;;5003:39;5024:17;5003:20;:39::i;:::-;5081:165;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;5067:10;-1:-1:-1;5053:25:27;;;:13;:25;;;;;;;:193;;;;-1:-1:-1;;5053:193:27;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;5257:34;;5081:165;;-1:-1:-1;5257:34:27;;5081:165;;5257:34;:::i;:::-;;;;-1:-1:-1;;5307:198:27;;;1174:14:30;;1167:22;1149:41;;1221:2;1206:18;;1199:34;;;1249:18;;;1242:34;;;1307:2;1292:18;;1285:34;;;1350:3;1335:19;;1328:35;;;5335:10:27;;5307:198;;1136:3:30;1121:19;5307:198:27;;;;;;;5516:71;-1:-1:-1;;;;;5516:4:27;:21;5538:10;5558:4;5565:21;5516;:71::i;:::-;4425:1178;;;4292:1311;;;:::o;4115:150::-;4160:7;4180:13;4200:8;-1:-1:-1;;;;;4200:24:27;;:26;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;-1:-1:-1;4178:48:27;;4115:150;-1:-1:-1;;;;;4115:150:27:o;1302:160:24:-;1411:43;;-1:-1:-1;;;;;3847:32:30;;;1411:43:24;;;3829:51:30;3896:18;;;3889:34;;;1384:71:24;;1404:5;;1426:14;;;;;3802:18:30;;1411:43:24;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;1411:43:24;;;;;;;;;;;1384:19;:71::i;1701:188::-;1828:53;;-1:-1:-1;;;;;4192:15:30;;;1828:53:24;;;4174:34:30;4244:15;;;4224:18;;;4217:43;4276:18;;;4269:34;;;1801:81:24;;1821:5;;1843:18;;;;;4109::30;;1828:53:24;3934:375:30;4058:629:24;4477:23;4503:33;-1:-1:-1;;;;;4503:27:24;;4531:4;4503:27;:33::i;:::-;4477:59;;4550:10;:17;4571:1;4550:22;;:57;;;;;4588:10;4577:30;;;;;;;;;;;;:::i;:::-;4576:31;4550:57;4546:135;;;4630:40;;-1:-1:-1;;;4630:40:24;;-1:-1:-1;;;;;561:32:30;;4630:40:24;;;543:51:30;516:18;;4630:40:24;;;;;;;;2705:151:25;2780:12;2811:38;2833:6;2841:4;2847:1;2811:21;:38::i;:::-;2804:45;;2705:151;;;;;:::o;3180:392::-;3279:12;3331:5;3307:21;:29;3303:108;;;3359:41;;-1:-1:-1;;;3359:41:25;;3394:4;3359:41;;;543:51:30;516:18;;3359:41:25;381:219:30;3303:108:25;3421:12;3435:23;3462:6;-1:-1:-1;;;;;3462:11:25;3481:5;3488:4;3462:31;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3420:73;;;;3510:55;3537:6;3545:7;3554:10;3510:26;:55::i;:::-;3503:62;;;;3180:392;;;;;;:::o;4625:582::-;4769:12;4798:7;4793:408;;4821:19;4829:10;4821:7;:19::i;:::-;4793:408;;;5045:17;;:22;:49;;;;-1:-1:-1;;;;;;5071:18:25;;;:23;5045:49;5041:119;;;5121:24;;-1:-1:-1;;;5121:24:25;;-1:-1:-1;;;;;561:32:30;;5121:24:25;;;543:51:30;516:18;;5121:24:25;381:219:30;5041:119:25;-1:-1:-1;5180:10:25;5173:17;;5743:516;5874:17;;:21;5870:383;;6102:10;6096:17;6158:15;6145:10;6141:2;6137:19;6130:44;5870:383;6225:17;;-1:-1:-1;;;6225:17:25;;;;;;;;;;;14:180:30;73:6;126:2;114:9;105:7;101:23;97:32;94:52;;;142:1;139;132:12;94:52;-1:-1:-1;165:23:30;;14:180;-1:-1:-1;14:180:30:o;605:286::-;664:6;717:2;705:9;696:7;692:23;688:32;685:52;;;733:1;730;723:12;685:52;759:23;;-1:-1:-1;;;;;811:31:30;;801:42;;791:70;;857:1;854;847:12;1374:118;1460:5;1453:13;1446:21;1439:5;1436:32;1426:60;;1482:1;1479;1472:12;1497:377;1571:6;1579;1587;1640:2;1628:9;1619:7;1615:23;1611:32;1608:52;;;1656:1;1653;1646:12;1608:52;1695:9;1682:23;1714:28;1736:5;1714:28;:::i;:::-;1761:5;1813:2;1798:18;;1785:32;;-1:-1:-1;1864:2:30;1849:18;;;1836:32;;1497:377;-1:-1:-1;;;1497:377:30:o;1879:127::-;1940:10;1935:3;1931:20;1928:1;1921:31;1971:4;1968:1;1961:15;1995:4;1992:1;1985:15;2011:128;2078:9;;;2099:11;;;2096:37;;;2113:18;;:::i;2144:125::-;2209:9;;;2230:10;;;2227:36;;;2243:18;;:::i;2274:168::-;2347:9;;;2378;;2395:15;;;2389:22;;2375:37;2365:71;;2416:18;;:::i;2447:217::-;2487:1;2513;2503:132;;2557:10;2552:3;2548:20;2545:1;2538:31;2592:4;2589:1;2582:15;2620:4;2617:1;2610:15;2503:132;-1:-1:-1;2649:9:30;;2447:217::o;2993:179::-;3071:13;;3124:22;3113:34;;3103:45;;3093:73;;3162:1;3159;3152:12;3093:73;2993:179;;;:::o;3177:473::-;3280:6;3288;3296;3304;3312;3365:3;3353:9;3344:7;3340:23;3336:33;3333:53;;;3382:1;3379;3372:12;3333:53;3405:39;3434:9;3405:39;:::i;:::-;3395:49;;3484:2;3473:9;3469:18;3463:25;3453:35;;3528:2;3517:9;3513:18;3507:25;3497:35;;3572:2;3561:9;3557:18;3551:25;3541:35;;3595:49;3639:3;3628:9;3624:19;3595:49;:::i;:::-;3585:59;;3177:473;;;;;;;;:::o;4314:245::-;4381:6;4434:2;4422:9;4413:7;4409:23;4405:32;4402:52;;;4450:1;4447;4440:12;4402:52;4482:9;4476:16;4501:28;4523:5;4501:28;:::i;4772:412::-;4901:3;4939:6;4933:13;4964:1;4974:129;4988:6;4985:1;4982:13;4974:129;;;5086:4;5070:14;;;5066:25;;5060:32;5047:11;;;5040:53;5003:12;4974:129;;;-1:-1:-1;5158:1:30;5122:16;;5147:13;;;-1:-1:-1;5122:16:30;4772:412;-1:-1:-1;4772:412:30:o",
    "linkReferences": {},
    "immutableReferences": {
      "44100": [
        {
          "start": 2361,
          "length": 32
        }
      ],
      "44114": [
        {
          "start": 331,
          "length": 32
        },
        {
          "start": 830,
          "length": 32
        },
        {
          "start": 1502,
          "length": 32
        }
      ],
      "44117": [
        {
          "start": 521,
          "length": 32
        },
        {
          "start": 1295,
          "length": 32
        },
        {
          "start": 1836,
          "length": 32
        },
        {
          "start": 2308,
          "length": 32
        }
      ]
    }
  },
  "methodIdentifiers": {
    "USDC()": "89a30271",
    "WBTC()": "4dede3de",
    "checkLiquidityBorrow(uint256)": "4270710b",
    "checkLiquidityWithdraw(uint256)": "a70bf7fe",
    "depositLiquidity(uint256)": "76d58e1a",
    "getWBTCPrice()": "fa7d826a",
    "increaseCollateral(uint256)": "b8a83834",
    "increasePosition(uint256)": "4c718d06",
    "openPosition(bool,uint256,uint256)": "e3255731",
    "totalBorrowed()": "4c19386c",
    "totalDeposited()": "ff50abdc",
    "userDeposit(address)": "d1260edd",
    "userPositions(address)": "613cf420",
    "withdrawLiquidity(uint256)": "0a861f2a"
  },
  "rawMetadata": "{\"compiler\":{\"version\":\"0.8.21+commit.d9974bed\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_WBTC\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_USDC\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"chainlinkPriceFeed\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"target\",\"type\":\"address\"}],\"name\":\"AddressEmptyCode\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"AddressInsufficientBalance\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"FailedInnerCall\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NotEnoughCollateral\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NotEnoughLiquidity\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"PositionOpen\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"}],\"name\":\"SafeERC20FailedOperation\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ZeroAmount\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"additionalCollateralAmountUsdc\",\"type\":\"uint256\"}],\"name\":\"CollateralIncreased\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"LiquidityDeposited\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"LiquidityWithdrawn\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"additionalCollateralAmountUsdc\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"newborrowAmountUsdc\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"newBorrowAmountWbtc\",\"type\":\"uint256\"}],\"name\":\"PositionIncreased\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"bool\",\"name\":\"positionType\",\"type\":\"bool\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"leverage\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"collateralAmountUsdc\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"borrowAmountUsdc\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"borrowAmountWbtc\",\"type\":\"uint256\"}],\"name\":\"PositionOpened\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"USDC\",\"outputs\":[{\"internalType\":\"contract IERC20\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"WBTC\",\"outputs\":[{\"internalType\":\"contract IERC20\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"checkLiquidityBorrow\",\"outputs\":[],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"checkLiquidityWithdraw\",\"outputs\":[],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"depositLiquidity\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getWBTCPrice\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_collateralAmountUsdc\",\"type\":\"uint256\"}],\"name\":\"increaseCollateral\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_collateralAmountUsdc\",\"type\":\"uint256\"}],\"name\":\"increasePosition\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bool\",\"name\":\"_positionType\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"_leverage\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_collateralAmountUsdc\",\"type\":\"uint256\"}],\"name\":\"openPosition\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"totalBorrowed\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"totalDeposited\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"userDeposit\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"userPositions\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"positionType\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"leverage\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"collateralAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"borrowAmountUsdc\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"borrowAmountWbtc\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"withdrawLiquidity\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"errors\":{\"AddressEmptyCode(address)\":[{\"details\":\"There's no code at `target` (it is not a contract).\"}],\"AddressInsufficientBalance(address)\":[{\"details\":\"The ETH balance of the account is not enough to perform the operation.\"}],\"FailedInnerCall()\":[{\"details\":\"A call to an address target failed. The target may have reverted.\"}],\"SafeERC20FailedOperation(address)\":[{\"details\":\"An operation with an ERC20 token failed.\"}]},\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/simple-perpetual-exchange.sol\":\"perpetual\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@chainlink-testing/=lib/foundry-chainlink-toolkit/lib/chainlink-testing-framework/contracts/ethereum/\",\":@chainlink/=lib/foundry-chainlink-toolkit/lib/chainlink-brownie-contracts/contracts/src/\",\":@openzeppelin/=lib/foundry-chainlink-toolkit/lib/openzeppelin-contracts/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":chainlink-brownie-contracts/=lib/foundry-chainlink-toolkit/lib/chainlink-brownie-contracts/\",\":chainlink-testing-framework/=lib/foundry-chainlink-toolkit/lib/chainlink-testing-framework/contracts/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":foundry-chainlink-toolkit/=lib/foundry-chainlink-toolkit/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\"]},\"sources\":{\"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol\":{\"keccak256\":\"0xc6a8ff0ea489379b61faa647490411b80102578440ab9d84e9a957cc12164e70\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://0ea104e577e63faea3b69c415637e99e755dcbf64c5833d7140c35a714d6d90c\",\"dweb:/ipfs/Qmau6x4Ns9XdyynRCNNp3RhLqijJjFm7z5fyZazfYFGYdq\"]},\"lib/openzeppelin-contracts/contracts/token/ERC20/extensions/IERC20Permit.sol\":{\"keccak256\":\"0x6008dabfe393240d73d7dd7688033f72740d570aa422254d29a7dce8568f3aff\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://f5196ec75139918c6c7bb4251b36395e668f1fa6d206beba7e7520e74913940d\",\"dweb:/ipfs/QmSyqjksXxmm2mCG6qRd1yuwLykypkSVBbnBnGqJRcuJMi\"]},\"lib/openzeppelin-contracts/contracts/token/ERC20/utils/SafeERC20.sol\":{\"keccak256\":\"0x77ac5c86845c8e2cf952ecc293a854c02a41d546ae38d1fb9048bf45a2b852f7\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://3c39a3f67ba3359bcffad116a3d195ac8abcb6295300715c59b3634e954925ed\",\"dweb:/ipfs/QmSY4qVDm5Rrdyk8ucJyQU88iKYGunNFweETGmmTF5nzQr\"]},\"lib/openzeppelin-contracts/contracts/utils/Address.sol\":{\"keccak256\":\"0xaf28a975a78550e45f65e559a3ad6a5ad43b9b8a37366999abd1b7084eb70721\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://b7bd24e224f67f65bfadf85dc2929fa965456bb2415478bd0125471b5ce35245\",\"dweb:/ipfs/QmRaydGr8BTHs1kvaZfsNU69pKzUAGFrvABn1KiRSbE51y\"]},\"src/interfaces/AggregatorV3Interface.sol\":{\"keccak256\":\"0xd7ed4b2745981c8388bfa31e97524e0f38a173191e5e7ed4ea8138a48c0d6b2d\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://e3a80d4e21cc844aa1f7e805b02d51c605a8ebac61d0d607a1866b0895a4ff99\",\"dweb:/ipfs/QmbQTSU4hNmrNRXktAdAoovjo1kUgX4kPeomw6egcG2ir3\"]},\"src/simple-perpetual-exchange.sol\":{\"keccak256\":\"0x297a218d389e026e29ae237bf14e78b013b6dc8d2ee0ab531396fb292528c33f\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://00ede6b996757b8d28c44dd962cd5299d5cf6a8b27d1c386f625eab138f846f6\",\"dweb:/ipfs/QmNtKdahnhanAL8ZibQoHDDk5mJcchK6oPXikLMJo4eJgb\"]}},\"version\":1}",
  "metadata": {
    "compiler": {
      "version": "0.8.21+commit.d9974bed"
    },
    "language": "Solidity",
    "output": {
      "abi": [
        {
          "inputs": [
            {
              "internalType": "address",
              "name": "_WBTC",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "_USDC",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "chainlinkPriceFeed",
              "type": "address"
            }
          ],
          "stateMutability": "nonpayable",
          "type": "constructor"
        },
        {
          "inputs": [
            {
              "internalType": "address",
              "name": "target",
              "type": "address"
            }
          ],
          "type": "error",
          "name": "AddressEmptyCode"
        },
        {
          "inputs": [
            {
              "internalType": "address",
              "name": "account",
              "type": "address"
            }
          ],
          "type": "error",
          "name": "AddressInsufficientBalance"
        },
        {
          "inputs": [],
          "type": "error",
          "name": "FailedInnerCall"
        },
        {
          "inputs": [],
          "type": "error",
          "name": "NotEnoughCollateral"
        },
        {
          "inputs": [],
          "type": "error",
          "name": "NotEnoughLiquidity"
        },
        {
          "inputs": [],
          "type": "error",
          "name": "PositionOpen"
        },
        {
          "inputs": [
            {
              "internalType": "address",
              "name": "token",
              "type": "address"
            }
          ],
          "type": "error",
          "name": "SafeERC20FailedOperation"
        },
        {
          "inputs": [],
          "type": "error",
          "name": "ZeroAmount"
        },
        {
          "inputs": [
            {
              "internalType": "address",
              "name": "user",
              "type": "address",
              "indexed": true
            },
            {
              "internalType": "uint256",
              "name": "additionalCollateralAmountUsdc",
              "type": "uint256",
              "indexed": false
            }
          ],
          "type": "event",
          "name": "CollateralIncreased",
          "anonymous": false
        },
        {
          "inputs": [
            {
              "internalType": "address",
              "name": "user",
              "type": "address",
              "indexed": true
            },
            {
              "internalType": "uint256",
              "name": "amount",
              "type": "uint256",
              "indexed": false
            }
          ],
          "type": "event",
          "name": "LiquidityDeposited",
          "anonymous": false
        },
        {
          "inputs": [
            {
              "internalType": "address",
              "name": "user",
              "type": "address",
              "indexed": true
            },
            {
              "internalType": "uint256",
              "name": "amount",
              "type": "uint256",
              "indexed": false
            }
          ],
          "type": "event",
          "name": "LiquidityWithdrawn",
          "anonymous": false
        },
        {
          "inputs": [
            {
              "internalType": "address",
              "name": "user",
              "type": "address",
              "indexed": true
            },
            {
              "internalType": "uint256",
              "name": "additionalCollateralAmountUsdc",
              "type": "uint256",
              "indexed": false
            },
            {
              "internalType": "uint256",
              "name": "newborrowAmountUsdc",
              "type": "uint256",
              "indexed": false
            },
            {
              "internalType": "uint256",
              "name": "newBorrowAmountWbtc",
              "type": "uint256",
              "indexed": false
            }
          ],
          "type": "event",
          "name": "PositionIncreased",
          "anonymous": false
        },
        {
          "inputs": [
            {
              "internalType": "address",
              "name": "user",
              "type": "address",
              "indexed": true
            },
            {
              "internalType": "bool",
              "name": "positionType",
              "type": "bool",
              "indexed": false
            },
            {
              "internalType": "uint256",
              "name": "leverage",
              "type": "uint256",
              "indexed": false
            },
            {
              "internalType": "uint256",
              "name": "collateralAmountUsdc",
              "type": "uint256",
              "indexed": false
            },
            {
              "internalType": "uint256",
              "name": "borrowAmountUsdc",
              "type": "uint256",
              "indexed": false
            },
            {
              "internalType": "uint256",
              "name": "borrowAmountWbtc",
              "type": "uint256",
              "indexed": false
            }
          ],
          "type": "event",
          "name": "PositionOpened",
          "anonymous": false
        },
        {
          "inputs": [],
          "stateMutability": "view",
          "type": "function",
          "name": "USDC",
          "outputs": [
            {
              "internalType": "contract IERC20",
              "name": "",
              "type": "address"
            }
          ]
        },
        {
          "inputs": [],
          "stateMutability": "view",
          "type": "function",
          "name": "WBTC",
          "outputs": [
            {
              "internalType": "contract IERC20",
              "name": "",
              "type": "address"
            }
          ]
        },
        {
          "inputs": [
            {
              "internalType": "uint256",
              "name": "_amount",
              "type": "uint256"
            }
          ],
          "stateMutability": "view",
          "type": "function",
          "name": "checkLiquidityBorrow"
        },
        {
          "inputs": [
            {
              "internalType": "uint256",
              "name": "_amount",
              "type": "uint256"
            }
          ],
          "stateMutability": "view",
          "type": "function",
          "name": "checkLiquidityWithdraw"
        },
        {
          "inputs": [
            {
              "internalType": "uint256",
              "name": "_amount",
              "type": "uint256"
            }
          ],
          "stateMutability": "nonpayable",
          "type": "function",
          "name": "depositLiquidity"
        },
        {
          "inputs": [],
          "stateMutability": "view",
          "type": "function",
          "name": "getWBTCPrice",
          "outputs": [
            {
              "internalType": "uint256",
              "name": "",
              "type": "uint256"
            }
          ]
        },
        {
          "inputs": [
            {
              "internalType": "uint256",
              "name": "_collateralAmountUsdc",
              "type": "uint256"
            }
          ],
          "stateMutability": "nonpayable",
          "type": "function",
          "name": "increaseCollateral"
        },
        {
          "inputs": [
            {
              "internalType": "uint256",
              "name": "_collateralAmountUsdc",
              "type": "uint256"
            }
          ],
          "stateMutability": "nonpayable",
          "type": "function",
          "name": "increasePosition"
        },
        {
          "inputs": [
            {
              "internalType": "bool",
              "name": "_positionType",
              "type": "bool"
            },
            {
              "internalType": "uint256",
              "name": "_leverage",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "_collateralAmountUsdc",
              "type": "uint256"
            }
          ],
          "stateMutability": "nonpayable",
          "type": "function",
          "name": "openPosition"
        },
        {
          "inputs": [],
          "stateMutability": "view",
          "type": "function",
          "name": "totalBorrowed",
          "outputs": [
            {
              "internalType": "uint256",
              "name": "",
              "type": "uint256"
            }
          ]
        },
        {
          "inputs": [],
          "stateMutability": "view",
          "type": "function",
          "name": "totalDeposited",
          "outputs": [
            {
              "internalType": "uint256",
              "name": "",
              "type": "uint256"
            }
          ]
        },
        {
          "inputs": [
            {
              "internalType": "address",
              "name": "",
              "type": "address"
            }
          ],
          "stateMutability": "view",
          "type": "function",
          "name": "userDeposit",
          "outputs": [
            {
              "internalType": "uint256",
              "name": "",
              "type": "uint256"
            }
          ]
        },
        {
          "inputs": [
            {
              "internalType": "address",
              "name": "",
              "type": "address"
            }
          ],
          "stateMutability": "view",
          "type": "function",
          "name": "userPositions",
          "outputs": [
            {
              "internalType": "bool",
              "name": "positionType",
              "type": "bool"
            },
            {
              "internalType": "uint256",
              "name": "leverage",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "collateralAmount",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "borrowAmountUsdc",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "borrowAmountWbtc",
              "type": "uint256"
            }
          ]
        },
        {
          "inputs": [
            {
              "internalType": "uint256",
              "name": "_amount",
              "type": "uint256"
            }
          ],
          "stateMutability": "nonpayable",
          "type": "function",
          "name": "withdrawLiquidity"
        }
      ],
      "devdoc": {
        "kind": "dev",
        "methods": {},
        "version": 1
      },
      "userdoc": {
        "kind": "user",
        "methods": {},
        "version": 1
      }
    },
    "settings": {
      "remappings": [
        "@chainlink-testing/=lib/foundry-chainlink-toolkit/lib/chainlink-testing-framework/contracts/ethereum/",
        "@chainlink/=lib/foundry-chainlink-toolkit/lib/chainlink-brownie-contracts/contracts/src/",
        "@openzeppelin/=lib/foundry-chainlink-toolkit/lib/openzeppelin-contracts/",
        "@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/",
        "chainlink-brownie-contracts/=lib/foundry-chainlink-toolkit/lib/chainlink-brownie-contracts/",
        "chainlink-testing-framework/=lib/foundry-chainlink-toolkit/lib/chainlink-testing-framework/contracts/",
        "ds-test/=lib/forge-std/lib/ds-test/src/",
        "erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/",
        "forge-std/=lib/forge-std/src/",
        "foundry-chainlink-toolkit/=lib/foundry-chainlink-toolkit/",
        "openzeppelin-contracts/=lib/openzeppelin-contracts/"
      ],
      "optimizer": {
        "enabled": true,
        "runs": 200
      },
      "metadata": {
        "bytecodeHash": "ipfs"
      },
      "compilationTarget": {
        "src/simple-perpetual-exchange.sol": "perpetual"
      },
      "libraries": {}
    },
    "sources": {
      "lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol": {
        "keccak256": "0xc6a8ff0ea489379b61faa647490411b80102578440ab9d84e9a957cc12164e70",
        "urls": [
          "bzz-raw://0ea104e577e63faea3b69c415637e99e755dcbf64c5833d7140c35a714d6d90c",
          "dweb:/ipfs/Qmau6x4Ns9XdyynRCNNp3RhLqijJjFm7z5fyZazfYFGYdq"
        ],
        "license": "MIT"
      },
      "lib/openzeppelin-contracts/contracts/token/ERC20/extensions/IERC20Permit.sol": {
        "keccak256": "0x6008dabfe393240d73d7dd7688033f72740d570aa422254d29a7dce8568f3aff",
        "urls": [
          "bzz-raw://f5196ec75139918c6c7bb4251b36395e668f1fa6d206beba7e7520e74913940d",
          "dweb:/ipfs/QmSyqjksXxmm2mCG6qRd1yuwLykypkSVBbnBnGqJRcuJMi"
        ],
        "license": "MIT"
      },
      "lib/openzeppelin-contracts/contracts/token/ERC20/utils/SafeERC20.sol": {
        "keccak256": "0x77ac5c86845c8e2cf952ecc293a854c02a41d546ae38d1fb9048bf45a2b852f7",
        "urls": [
          "bzz-raw://3c39a3f67ba3359bcffad116a3d195ac8abcb6295300715c59b3634e954925ed",
          "dweb:/ipfs/QmSY4qVDm5Rrdyk8ucJyQU88iKYGunNFweETGmmTF5nzQr"
        ],
        "license": "MIT"
      },
      "lib/openzeppelin-contracts/contracts/utils/Address.sol": {
        "keccak256": "0xaf28a975a78550e45f65e559a3ad6a5ad43b9b8a37366999abd1b7084eb70721",
        "urls": [
          "bzz-raw://b7bd24e224f67f65bfadf85dc2929fa965456bb2415478bd0125471b5ce35245",
          "dweb:/ipfs/QmRaydGr8BTHs1kvaZfsNU69pKzUAGFrvABn1KiRSbE51y"
        ],
        "license": "MIT"
      },
      "src/interfaces/AggregatorV3Interface.sol": {
        "keccak256": "0xd7ed4b2745981c8388bfa31e97524e0f38a173191e5e7ed4ea8138a48c0d6b2d",
        "urls": [
          "bzz-raw://e3a80d4e21cc844aa1f7e805b02d51c605a8ebac61d0d607a1866b0895a4ff99",
          "dweb:/ipfs/QmbQTSU4hNmrNRXktAdAoovjo1kUgX4kPeomw6egcG2ir3"
        ],
        "license": "MIT"
      },
      "src/simple-perpetual-exchange.sol": {
        "keccak256": "0x297a218d389e026e29ae237bf14e78b013b6dc8d2ee0ab531396fb292528c33f",
        "urls": [
          "bzz-raw://00ede6b996757b8d28c44dd962cd5299d5cf6a8b27d1c386f625eab138f846f6",
          "dweb:/ipfs/QmNtKdahnhanAL8ZibQoHDDk5mJcchK6oPXikLMJo4eJgb"
        ],
        "license": "MIT"
      }
    },
    "version": 1
  },
  "ast": {
    "absolutePath": "src/simple-perpetual-exchange.sol",
    "id": 44656,
    "exportedSymbols": {
      "Address": [
        45556
      ],
      "AggregatorV3Interface": [
        44089
      ],
      "IERC20": [
        45267
      ],
      "IERC20Permit": [
        45303
      ],
      "SafeERC20": [
        45189
      ],
      "perpetual": [
        44655
      ]
    },
    "nodeType": "SourceUnit",
    "src": "32:8129:27",
    "nodes": [
      {
        "id": 44091,
        "nodeType": "PragmaDirective",
        "src": "32:23:27",
        "nodes": [],
        "literals": [
          "solidity",
          "^",
          "0.8",
          ".4"
        ]
      },
      {
        "id": 44092,
        "nodeType": "ImportDirective",
        "src": "57:65:27",
        "nodes": [],
        "absolutePath": "lib/openzeppelin-contracts/contracts/token/ERC20/utils/SafeERC20.sol",
        "file": "@openzeppelin/contracts/token/ERC20/utils/SafeERC20.sol",
        "nameLocation": "-1:-1:-1",
        "scope": 44656,
        "sourceUnit": 45190,
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "id": 44093,
        "nodeType": "ImportDirective",
        "src": "123:48:27",
        "nodes": [],
        "absolutePath": "src/interfaces/AggregatorV3Interface.sol",
        "file": "./interfaces/AggregatorV3Interface.sol",
        "nameLocation": "-1:-1:-1",
        "scope": 44656,
        "sourceUnit": 44090,
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "id": 44655,
        "nodeType": "ContractDefinition",
        "src": "984:7176:27",
        "nodes": [
          {
            "id": 44097,
            "nodeType": "UsingForDirective",
            "src": "1010:27:27",
            "nodes": [],
            "global": false,
            "libraryName": {
              "id": 44094,
              "name": "SafeERC20",
              "nameLocations": [
                "1016:9:27"
              ],
              "nodeType": "IdentifierPath",
              "referencedDeclaration": 45189,
              "src": "1016:9:27"
            },
            "typeName": {
              "id": 44096,
              "nodeType": "UserDefinedTypeName",
              "pathNode": {
                "id": 44095,
                "name": "IERC20",
                "nameLocations": [
                  "1030:6:27"
                ],
                "nodeType": "IdentifierPath",
                "referencedDeclaration": 45267,
                "src": "1030:6:27"
              },
              "referencedDeclaration": 45267,
              "src": "1030:6:27",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_IERC20_$45267",
                "typeString": "contract IERC20"
              }
            }
          },
          {
            "id": 44100,
            "nodeType": "VariableDeclaration",
            "src": "1042:49:27",
            "nodes": [],
            "constant": false,
            "mutability": "immutable",
            "name": "dataFeed",
            "nameLocation": "1083:8:27",
            "scope": 44655,
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_contract$_AggregatorV3Interface_$44089",
              "typeString": "contract AggregatorV3Interface"
            },
            "typeName": {
              "id": 44099,
              "nodeType": "UserDefinedTypeName",
              "pathNode": {
                "id": 44098,
                "name": "AggregatorV3Interface",
                "nameLocations": [
                  "1042:21:27"
                ],
                "nodeType": "IdentifierPath",
                "referencedDeclaration": 44089,
                "src": "1042:21:27"
              },
              "referencedDeclaration": 44089,
              "src": "1042:21:27",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_AggregatorV3Interface_$44089",
                "typeString": "contract AggregatorV3Interface"
              }
            },
            "visibility": "internal"
          },
          {
            "id": 44111,
            "nodeType": "StructDefinition",
            "src": "1098:292:27",
            "nodes": [],
            "canonicalName": "perpetual.position",
            "members": [
              {
                "constant": false,
                "id": 44102,
                "mutability": "mutable",
                "name": "positionType",
                "nameLocation": "1129:12:27",
                "nodeType": "VariableDeclaration",
                "scope": 44111,
                "src": "1124:17:27",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_bool",
                  "typeString": "bool"
                },
                "typeName": {
                  "id": 44101,
                  "name": "bool",
                  "nodeType": "ElementaryTypeName",
                  "src": "1124:4:27",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bool",
                    "typeString": "bool"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 44104,
                "mutability": "mutable",
                "name": "leverage",
                "nameLocation": "1191:8:27",
                "nodeType": "VariableDeclaration",
                "scope": 44111,
                "src": "1183:16:27",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_uint256",
                  "typeString": "uint256"
                },
                "typeName": {
                  "id": 44103,
                  "name": "uint256",
                  "nodeType": "ElementaryTypeName",
                  "src": "1183:7:27",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 44106,
                "mutability": "mutable",
                "name": "collateralAmount",
                "nameLocation": "1257:16:27",
                "nodeType": "VariableDeclaration",
                "scope": 44111,
                "src": "1249:24:27",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_uint256",
                  "typeString": "uint256"
                },
                "typeName": {
                  "id": 44105,
                  "name": "uint256",
                  "nodeType": "ElementaryTypeName",
                  "src": "1249:7:27",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 44108,
                "mutability": "mutable",
                "name": "borrowAmountUsdc",
                "nameLocation": "1299:16:27",
                "nodeType": "VariableDeclaration",
                "scope": 44111,
                "src": "1291:24:27",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_uint256",
                  "typeString": "uint256"
                },
                "typeName": {
                  "id": 44107,
                  "name": "uint256",
                  "nodeType": "ElementaryTypeName",
                  "src": "1291:7:27",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 44110,
                "mutability": "mutable",
                "name": "borrowAmountWbtc",
                "nameLocation": "1350:16:27",
                "nodeType": "VariableDeclaration",
                "scope": 44111,
                "src": "1342:24:27",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_uint256",
                  "typeString": "uint256"
                },
                "typeName": {
                  "id": 44109,
                  "name": "uint256",
                  "nodeType": "ElementaryTypeName",
                  "src": "1342:7:27",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  }
                },
                "visibility": "internal"
              }
            ],
            "name": "position",
            "nameLocation": "1105:8:27",
            "scope": 44655,
            "visibility": "public"
          },
          {
            "id": 44114,
            "nodeType": "VariableDeclaration",
            "src": "1416:28:27",
            "nodes": [],
            "constant": false,
            "functionSelector": "4dede3de",
            "mutability": "immutable",
            "name": "WBTC",
            "nameLocation": "1440:4:27",
            "scope": 44655,
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_contract$_IERC20_$45267",
              "typeString": "contract IERC20"
            },
            "typeName": {
              "id": 44113,
              "nodeType": "UserDefinedTypeName",
              "pathNode": {
                "id": 44112,
                "name": "IERC20",
                "nameLocations": [
                  "1416:6:27"
                ],
                "nodeType": "IdentifierPath",
                "referencedDeclaration": 45267,
                "src": "1416:6:27"
              },
              "referencedDeclaration": 45267,
              "src": "1416:6:27",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_IERC20_$45267",
                "typeString": "contract IERC20"
              }
            },
            "visibility": "public"
          },
          {
            "id": 44117,
            "nodeType": "VariableDeclaration",
            "src": "1451:28:27",
            "nodes": [],
            "constant": false,
            "functionSelector": "89a30271",
            "mutability": "immutable",
            "name": "USDC",
            "nameLocation": "1475:4:27",
            "scope": 44655,
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_contract$_IERC20_$45267",
              "typeString": "contract IERC20"
            },
            "typeName": {
              "id": 44116,
              "nodeType": "UserDefinedTypeName",
              "pathNode": {
                "id": 44115,
                "name": "IERC20",
                "nameLocations": [
                  "1451:6:27"
                ],
                "nodeType": "IdentifierPath",
                "referencedDeclaration": 45267,
                "src": "1451:6:27"
              },
              "referencedDeclaration": 45267,
              "src": "1451:6:27",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_IERC20_$45267",
                "typeString": "contract IERC20"
              }
            },
            "visibility": "public"
          },
          {
            "id": 44121,
            "nodeType": "VariableDeclaration",
            "src": "1555:46:27",
            "nodes": [],
            "constant": false,
            "functionSelector": "d1260edd",
            "mutability": "mutable",
            "name": "userDeposit",
            "nameLocation": "1590:11:27",
            "scope": 44655,
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_mapping$_t_address_$_t_uint256_$",
              "typeString": "mapping(address => uint256)"
            },
            "typeName": {
              "id": 44120,
              "keyName": "",
              "keyNameLocation": "-1:-1:-1",
              "keyType": {
                "id": 44118,
                "name": "address",
                "nodeType": "ElementaryTypeName",
                "src": "1563:7:27",
                "typeDescriptions": {
                  "typeIdentifier": "t_address",
                  "typeString": "address"
                }
              },
              "nodeType": "Mapping",
              "src": "1555:27:27",
              "typeDescriptions": {
                "typeIdentifier": "t_mapping$_t_address_$_t_uint256_$",
                "typeString": "mapping(address => uint256)"
              },
              "valueName": "",
              "valueNameLocation": "-1:-1:-1",
              "valueType": {
                "id": 44119,
                "name": "uint256",
                "nodeType": "ElementaryTypeName",
                "src": "1574:7:27",
                "typeDescriptions": {
                  "typeIdentifier": "t_uint256",
                  "typeString": "uint256"
                }
              }
            },
            "visibility": "public"
          },
          {
            "id": 44126,
            "nodeType": "VariableDeclaration",
            "src": "1608:49:27",
            "nodes": [],
            "constant": false,
            "functionSelector": "613cf420",
            "mutability": "mutable",
            "name": "userPositions",
            "nameLocation": "1644:13:27",
            "scope": 44655,
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_mapping$_t_address_$_t_struct$_position_$44111_storage_$",
              "typeString": "mapping(address => struct perpetual.position)"
            },
            "typeName": {
              "id": 44125,
              "keyName": "",
              "keyNameLocation": "-1:-1:-1",
              "keyType": {
                "id": 44122,
                "name": "address",
                "nodeType": "ElementaryTypeName",
                "src": "1616:7:27",
                "typeDescriptions": {
                  "typeIdentifier": "t_address",
                  "typeString": "address"
                }
              },
              "nodeType": "Mapping",
              "src": "1608:28:27",
              "typeDescriptions": {
                "typeIdentifier": "t_mapping$_t_address_$_t_struct$_position_$44111_storage_$",
                "typeString": "mapping(address => struct perpetual.position)"
              },
              "valueName": "",
              "valueNameLocation": "-1:-1:-1",
              "valueType": {
                "id": 44124,
                "nodeType": "UserDefinedTypeName",
                "pathNode": {
                  "id": 44123,
                  "name": "position",
                  "nameLocations": [
                    "1627:8:27"
                  ],
                  "nodeType": "IdentifierPath",
                  "referencedDeclaration": 44111,
                  "src": "1627:8:27"
                },
                "referencedDeclaration": 44111,
                "src": "1627:8:27",
                "typeDescriptions": {
                  "typeIdentifier": "t_struct$_position_$44111_storage_ptr",
                  "typeString": "struct perpetual.position"
                }
              }
            },
            "visibility": "public"
          },
          {
            "id": 44128,
            "nodeType": "VariableDeclaration",
            "src": "1668:29:27",
            "nodes": [],
            "constant": false,
            "functionSelector": "ff50abdc",
            "mutability": "mutable",
            "name": "totalDeposited",
            "nameLocation": "1683:14:27",
            "scope": 44655,
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_uint256",
              "typeString": "uint256"
            },
            "typeName": {
              "id": 44127,
              "name": "uint256",
              "nodeType": "ElementaryTypeName",
              "src": "1668:7:27",
              "typeDescriptions": {
                "typeIdentifier": "t_uint256",
                "typeString": "uint256"
              }
            },
            "visibility": "public"
          },
          {
            "id": 44130,
            "nodeType": "VariableDeclaration",
            "src": "1703:28:27",
            "nodes": [],
            "constant": false,
            "functionSelector": "4c19386c",
            "mutability": "mutable",
            "name": "totalBorrowed",
            "nameLocation": "1718:13:27",
            "scope": 44655,
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_uint256",
              "typeString": "uint256"
            },
            "typeName": {
              "id": 44129,
              "name": "uint256",
              "nodeType": "ElementaryTypeName",
              "src": "1703:7:27",
              "typeDescriptions": {
                "typeIdentifier": "t_uint256",
                "typeString": "uint256"
              }
            },
            "visibility": "public"
          },
          {
            "id": 44133,
            "nodeType": "VariableDeclaration",
            "src": "1924:48:27",
            "nodes": [],
            "constant": true,
            "mutability": "constant",
            "name": "MINIMUM_COLLATERAL",
            "nameLocation": "1941:18:27",
            "scope": 44655,
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_uint256",
              "typeString": "uint256"
            },
            "typeName": {
              "id": 44131,
              "name": "uint256",
              "nodeType": "ElementaryTypeName",
              "src": "1924:7:27",
              "typeDescriptions": {
                "typeIdentifier": "t_uint256",
                "typeString": "uint256"
              }
            },
            "value": {
              "hexValue": "31305f3030305f303030",
              "id": 44132,
              "isConstant": false,
              "isLValue": false,
              "isPure": true,
              "kind": "number",
              "lValueRequested": false,
              "nodeType": "Literal",
              "src": "1962:10:27",
              "typeDescriptions": {
                "typeIdentifier": "t_rational_10000000_by_1",
                "typeString": "int_const 10000000"
              },
              "value": "10_000_000"
            },
            "visibility": "internal"
          },
          {
            "id": 44136,
            "nodeType": "VariableDeclaration",
            "src": "2041:47:27",
            "nodes": [],
            "constant": true,
            "mutability": "constant",
            "name": "MINIMUM_RESERVE_RATIO",
            "nameLocation": "2058:21:27",
            "scope": 44655,
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_uint256",
              "typeString": "uint256"
            },
            "typeName": {
              "id": 44134,
              "name": "uint256",
              "nodeType": "ElementaryTypeName",
              "src": "2041:7:27",
              "typeDescriptions": {
                "typeIdentifier": "t_uint256",
                "typeString": "uint256"
              }
            },
            "value": {
              "hexValue": "31355f303030",
              "id": 44135,
              "isConstant": false,
              "isLValue": false,
              "isPure": true,
              "kind": "number",
              "lValueRequested": false,
              "nodeType": "Literal",
              "src": "2082:6:27",
              "typeDescriptions": {
                "typeIdentifier": "t_rational_15000_by_1",
                "typeString": "int_const 15000"
              },
              "value": "15_000"
            },
            "visibility": "internal"
          },
          {
            "id": 44139,
            "nodeType": "VariableDeclaration",
            "src": "2114:43:27",
            "nodes": [],
            "constant": true,
            "mutability": "constant",
            "name": "WBTC_DIVISION_SCALE",
            "nameLocation": "2131:19:27",
            "scope": 44655,
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_uint256",
              "typeString": "uint256"
            },
            "typeName": {
              "id": 44137,
              "name": "uint256",
              "nodeType": "ElementaryTypeName",
              "src": "2114:7:27",
              "typeDescriptions": {
                "typeIdentifier": "t_uint256",
                "typeString": "uint256"
              }
            },
            "value": {
              "hexValue": "31653138",
              "id": 44138,
              "isConstant": false,
              "isLValue": false,
              "isPure": true,
              "kind": "number",
              "lValueRequested": false,
              "nodeType": "Literal",
              "src": "2153:4:27",
              "typeDescriptions": {
                "typeIdentifier": "t_rational_1000000000000000000_by_1",
                "typeString": "int_const 1000000000000000000"
              },
              "value": "1e18"
            },
            "visibility": "internal"
          },
          {
            "id": 44142,
            "nodeType": "VariableDeclaration",
            "src": "2163:40:27",
            "nodes": [],
            "constant": true,
            "mutability": "constant",
            "name": "WBTC_ACTUAL_SCALE",
            "nameLocation": "2180:17:27",
            "scope": 44655,
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_uint256",
              "typeString": "uint256"
            },
            "typeName": {
              "id": 44140,
              "name": "uint256",
              "nodeType": "ElementaryTypeName",
              "src": "2163:7:27",
              "typeDescriptions": {
                "typeIdentifier": "t_uint256",
                "typeString": "uint256"
              }
            },
            "value": {
              "hexValue": "316538",
              "id": 44141,
              "isConstant": false,
              "isLValue": false,
              "isPure": true,
              "kind": "number",
              "lValueRequested": false,
              "nodeType": "Literal",
              "src": "2200:3:27",
              "typeDescriptions": {
                "typeIdentifier": "t_rational_100000000_by_1",
                "typeString": "int_const 100000000"
              },
              "value": "1e8"
            },
            "visibility": "internal"
          },
          {
            "id": 44145,
            "nodeType": "VariableDeclaration",
            "src": "2209:38:27",
            "nodes": [],
            "constant": true,
            "mutability": "constant",
            "name": "LIQUIDITY_SCALE",
            "nameLocation": "2226:15:27",
            "scope": 44655,
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_uint256",
              "typeString": "uint256"
            },
            "typeName": {
              "id": 44143,
              "name": "uint256",
              "nodeType": "ElementaryTypeName",
              "src": "2209:7:27",
              "typeDescriptions": {
                "typeIdentifier": "t_uint256",
                "typeString": "uint256"
              }
            },
            "value": {
              "hexValue": "316534",
              "id": 44144,
              "isConstant": false,
              "isLValue": false,
              "isPure": true,
              "kind": "number",
              "lValueRequested": false,
              "nodeType": "Literal",
              "src": "2244:3:27",
              "typeDescriptions": {
                "typeIdentifier": "t_rational_10000_by_1",
                "typeString": "int_const 10000"
              },
              "value": "1e4"
            },
            "visibility": "internal"
          },
          {
            "id": 44151,
            "nodeType": "EventDefinition",
            "src": "2255:63:27",
            "nodes": [],
            "anonymous": false,
            "eventSelector": "7ff07ce9a287649537e4b012e45cf012d90228b12e2b56bb03515a6b5436fcdf",
            "name": "LiquidityDeposited",
            "nameLocation": "2261:18:27",
            "parameters": {
              "id": 44150,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 44147,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "user",
                  "nameLocation": "2296:4:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44151,
                  "src": "2280:20:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 44146,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "2280:7:27",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 44149,
                  "indexed": false,
                  "mutability": "mutable",
                  "name": "amount",
                  "nameLocation": "2310:6:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44151,
                  "src": "2302:14:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 44148,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2302:7:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "2279:38:27"
            }
          },
          {
            "id": 44157,
            "nodeType": "EventDefinition",
            "src": "2323:63:27",
            "nodes": [],
            "anonymous": false,
            "eventSelector": "b1cce8684b4ffa8667b4577654e61ee3480d661ee9c27522ac80e211f6bd4d25",
            "name": "LiquidityWithdrawn",
            "nameLocation": "2329:18:27",
            "parameters": {
              "id": 44156,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 44153,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "user",
                  "nameLocation": "2364:4:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44157,
                  "src": "2348:20:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 44152,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "2348:7:27",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 44155,
                  "indexed": false,
                  "mutability": "mutable",
                  "name": "amount",
                  "nameLocation": "2378:6:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44157,
                  "src": "2370:14:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 44154,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2370:7:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "2347:38:27"
            }
          },
          {
            "id": 44171,
            "nodeType": "EventDefinition",
            "src": "2391:219:27",
            "nodes": [],
            "anonymous": false,
            "eventSelector": "0e8f4b81343afa64bc4ddcfbf2d80e883e0ddfc6663c400ca09da13d1d28d588",
            "name": "PositionOpened",
            "nameLocation": "2397:14:27",
            "parameters": {
              "id": 44170,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 44159,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "user",
                  "nameLocation": "2437:4:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44171,
                  "src": "2421:20:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 44158,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "2421:7:27",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 44161,
                  "indexed": false,
                  "mutability": "mutable",
                  "name": "positionType",
                  "nameLocation": "2457:12:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44171,
                  "src": "2452:17:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bool",
                    "typeString": "bool"
                  },
                  "typeName": {
                    "id": 44160,
                    "name": "bool",
                    "nodeType": "ElementaryTypeName",
                    "src": "2452:4:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 44163,
                  "indexed": false,
                  "mutability": "mutable",
                  "name": "leverage",
                  "nameLocation": "2488:8:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44171,
                  "src": "2480:16:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 44162,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2480:7:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 44165,
                  "indexed": false,
                  "mutability": "mutable",
                  "name": "collateralAmountUsdc",
                  "nameLocation": "2515:20:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44171,
                  "src": "2507:28:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 44164,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2507:7:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 44167,
                  "indexed": false,
                  "mutability": "mutable",
                  "name": "borrowAmountUsdc",
                  "nameLocation": "2553:16:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44171,
                  "src": "2545:24:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 44166,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2545:7:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 44169,
                  "indexed": false,
                  "mutability": "mutable",
                  "name": "borrowAmountWbtc",
                  "nameLocation": "2587:16:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44171,
                  "src": "2579:24:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 44168,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2579:7:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "2411:198:27"
            }
          },
          {
            "id": 44181,
            "nodeType": "EventDefinition",
            "src": "2615:183:27",
            "nodes": [],
            "anonymous": false,
            "eventSelector": "673e472cd732d3288c086ad7d57942b327621ec34ae765dfa0d0069c9fe10064",
            "name": "PositionIncreased",
            "nameLocation": "2621:17:27",
            "parameters": {
              "id": 44180,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 44173,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "user",
                  "nameLocation": "2664:4:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44181,
                  "src": "2648:20:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 44172,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "2648:7:27",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 44175,
                  "indexed": false,
                  "mutability": "mutable",
                  "name": "additionalCollateralAmountUsdc",
                  "nameLocation": "2687:30:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44181,
                  "src": "2679:38:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 44174,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2679:7:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 44177,
                  "indexed": false,
                  "mutability": "mutable",
                  "name": "newborrowAmountUsdc",
                  "nameLocation": "2735:19:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44181,
                  "src": "2727:27:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 44176,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2727:7:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 44179,
                  "indexed": false,
                  "mutability": "mutable",
                  "name": "newBorrowAmountWbtc",
                  "nameLocation": "2772:19:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44181,
                  "src": "2764:27:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 44178,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2764:7:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "2638:159:27"
            }
          },
          {
            "id": 44187,
            "nodeType": "EventDefinition",
            "src": "2803:111:27",
            "nodes": [],
            "anonymous": false,
            "eventSelector": "fe774a391baf6f98e6e7e8f440eca7282e48993fe8ccf2c0081f13c9d34880d1",
            "name": "CollateralIncreased",
            "nameLocation": "2809:19:27",
            "parameters": {
              "id": 44186,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 44183,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "user",
                  "nameLocation": "2854:4:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44187,
                  "src": "2838:20:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 44182,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "2838:7:27",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 44185,
                  "indexed": false,
                  "mutability": "mutable",
                  "name": "additionalCollateralAmountUsdc",
                  "nameLocation": "2877:30:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44187,
                  "src": "2869:38:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 44184,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2869:7:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "2828:85:27"
            }
          },
          {
            "id": 44189,
            "nodeType": "ErrorDefinition",
            "src": "2934:19:27",
            "nodes": [],
            "errorSelector": "1f2a2005",
            "name": "ZeroAmount",
            "nameLocation": "2940:10:27",
            "parameters": {
              "id": 44188,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "2950:2:27"
            }
          },
          {
            "id": 44191,
            "nodeType": "ErrorDefinition",
            "src": "2958:27:27",
            "nodes": [],
            "errorSelector": "4323a555",
            "name": "NotEnoughLiquidity",
            "nameLocation": "2964:18:27",
            "parameters": {
              "id": 44190,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "2982:2:27"
            }
          },
          {
            "id": 44193,
            "nodeType": "ErrorDefinition",
            "src": "2990:21:27",
            "nodes": [],
            "errorSelector": "381d07a9",
            "name": "PositionOpen",
            "nameLocation": "2996:12:27",
            "parameters": {
              "id": 44192,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "3008:2:27"
            }
          },
          {
            "id": 44195,
            "nodeType": "ErrorDefinition",
            "src": "3016:28:27",
            "nodes": [],
            "errorSelector": "34477cc0",
            "name": "NotEnoughCollateral",
            "nameLocation": "3022:19:27",
            "parameters": {
              "id": 44194,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "3041:2:27"
            }
          },
          {
            "id": 44231,
            "nodeType": "FunctionDefinition",
            "src": "3050:253:27",
            "nodes": [],
            "body": {
              "id": 44230,
              "nodeType": "Block",
              "src": "3119:184:27",
              "nodes": [],
              "statements": [
                {
                  "expression": {
                    "id": 44208,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "id": 44204,
                      "name": "WBTC",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44114,
                      "src": "3129:4:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_contract$_IERC20_$45267",
                        "typeString": "contract IERC20"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "arguments": [
                        {
                          "id": 44206,
                          "name": "_WBTC",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 44197,
                          "src": "3143:5:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        }
                      ],
                      "expression": {
                        "argumentTypes": [
                          {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        ],
                        "id": 44205,
                        "name": "IERC20",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 45267,
                        "src": "3136:6:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_type$_t_contract$_IERC20_$45267_$",
                          "typeString": "type(contract IERC20)"
                        }
                      },
                      "id": 44207,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "typeConversion",
                      "lValueRequested": false,
                      "nameLocations": [],
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "3136:13:27",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_contract$_IERC20_$45267",
                        "typeString": "contract IERC20"
                      }
                    },
                    "src": "3129:20:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_contract$_IERC20_$45267",
                      "typeString": "contract IERC20"
                    }
                  },
                  "id": 44209,
                  "nodeType": "ExpressionStatement",
                  "src": "3129:20:27"
                },
                {
                  "expression": {
                    "id": 44214,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "id": 44210,
                      "name": "USDC",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44117,
                      "src": "3159:4:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_contract$_IERC20_$45267",
                        "typeString": "contract IERC20"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "arguments": [
                        {
                          "id": 44212,
                          "name": "_USDC",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 44199,
                          "src": "3173:5:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        }
                      ],
                      "expression": {
                        "argumentTypes": [
                          {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        ],
                        "id": 44211,
                        "name": "IERC20",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 45267,
                        "src": "3166:6:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_type$_t_contract$_IERC20_$45267_$",
                          "typeString": "type(contract IERC20)"
                        }
                      },
                      "id": 44213,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "typeConversion",
                      "lValueRequested": false,
                      "nameLocations": [],
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "3166:13:27",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_contract$_IERC20_$45267",
                        "typeString": "contract IERC20"
                      }
                    },
                    "src": "3159:20:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_contract$_IERC20_$45267",
                      "typeString": "contract IERC20"
                    }
                  },
                  "id": 44215,
                  "nodeType": "ExpressionStatement",
                  "src": "3159:20:27"
                },
                {
                  "expression": {
                    "id": 44220,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "id": 44216,
                      "name": "dataFeed",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44100,
                      "src": "3189:8:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_contract$_AggregatorV3Interface_$44089",
                        "typeString": "contract AggregatorV3Interface"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "arguments": [
                        {
                          "id": 44218,
                          "name": "chainlinkPriceFeed",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 44201,
                          "src": "3222:18:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        }
                      ],
                      "expression": {
                        "argumentTypes": [
                          {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        ],
                        "id": 44217,
                        "name": "AggregatorV3Interface",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44089,
                        "src": "3200:21:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_type$_t_contract$_AggregatorV3Interface_$44089_$",
                          "typeString": "type(contract AggregatorV3Interface)"
                        }
                      },
                      "id": 44219,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "typeConversion",
                      "lValueRequested": false,
                      "nameLocations": [],
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "3200:41:27",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_contract$_AggregatorV3Interface_$44089",
                        "typeString": "contract AggregatorV3Interface"
                      }
                    },
                    "src": "3189:52:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_contract$_AggregatorV3Interface_$44089",
                      "typeString": "contract AggregatorV3Interface"
                    }
                  },
                  "id": 44221,
                  "nodeType": "ExpressionStatement",
                  "src": "3189:52:27"
                },
                {
                  "expression": {
                    "id": 44224,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "id": 44222,
                      "name": "totalDeposited",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44128,
                      "src": "3251:14:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "hexValue": "30",
                      "id": 44223,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "kind": "number",
                      "lValueRequested": false,
                      "nodeType": "Literal",
                      "src": "3268:1:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_rational_0_by_1",
                        "typeString": "int_const 0"
                      },
                      "value": "0"
                    },
                    "src": "3251:18:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 44225,
                  "nodeType": "ExpressionStatement",
                  "src": "3251:18:27"
                },
                {
                  "expression": {
                    "id": 44228,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "id": 44226,
                      "name": "totalBorrowed",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44130,
                      "src": "3279:13:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "hexValue": "30",
                      "id": 44227,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "kind": "number",
                      "lValueRequested": false,
                      "nodeType": "Literal",
                      "src": "3295:1:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_rational_0_by_1",
                        "typeString": "int_const 0"
                      },
                      "value": "0"
                    },
                    "src": "3279:17:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 44229,
                  "nodeType": "ExpressionStatement",
                  "src": "3279:17:27"
                }
              ]
            },
            "implemented": true,
            "kind": "constructor",
            "modifiers": [],
            "name": "",
            "nameLocation": "-1:-1:-1",
            "parameters": {
              "id": 44202,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 44197,
                  "mutability": "mutable",
                  "name": "_WBTC",
                  "nameLocation": "3070:5:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44231,
                  "src": "3062:13:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 44196,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "3062:7:27",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 44199,
                  "mutability": "mutable",
                  "name": "_USDC",
                  "nameLocation": "3085:5:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44231,
                  "src": "3077:13:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 44198,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "3077:7:27",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 44201,
                  "mutability": "mutable",
                  "name": "chainlinkPriceFeed",
                  "nameLocation": "3100:18:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44231,
                  "src": "3092:26:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 44200,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "3092:7:27",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "3061:58:27"
            },
            "returnParameters": {
              "id": 44203,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "3119:0:27"
            },
            "scope": 44655,
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "public"
          },
          {
            "id": 44273,
            "nodeType": "FunctionDefinition",
            "src": "3334:405:27",
            "nodes": [],
            "body": {
              "id": 44272,
              "nodeType": "Block",
              "src": "3384:355:27",
              "nodes": [],
              "statements": [
                {
                  "condition": {
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 44238,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "id": 44236,
                      "name": "_amount",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44233,
                      "src": "3398:7:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "==",
                    "rightExpression": {
                      "hexValue": "30",
                      "id": 44237,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "kind": "number",
                      "lValueRequested": false,
                      "nodeType": "Literal",
                      "src": "3409:1:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_rational_0_by_1",
                        "typeString": "int_const 0"
                      },
                      "value": "0"
                    },
                    "src": "3398:12:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "id": 44242,
                  "nodeType": "IfStatement",
                  "src": "3394:37:27",
                  "trueBody": {
                    "errorCall": {
                      "arguments": [],
                      "expression": {
                        "argumentTypes": [],
                        "id": 44239,
                        "name": "ZeroAmount",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44189,
                        "src": "3419:10:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_function_error_pure$__$returns$__$",
                          "typeString": "function () pure"
                        }
                      },
                      "id": 44240,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "functionCall",
                      "lValueRequested": false,
                      "nameLocations": [],
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "3419:12:27",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_tuple$__$",
                        "typeString": "tuple()"
                      }
                    },
                    "id": 44241,
                    "nodeType": "RevertStatement",
                    "src": "3412:19:27"
                  }
                },
                {
                  "expression": {
                    "id": 44248,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "baseExpression": {
                        "id": 44243,
                        "name": "userDeposit",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44121,
                        "src": "3476:11:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_mapping$_t_address_$_t_uint256_$",
                          "typeString": "mapping(address => uint256)"
                        }
                      },
                      "id": 44246,
                      "indexExpression": {
                        "expression": {
                          "id": 44244,
                          "name": "msg",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": -15,
                          "src": "3488:3:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_magic_message",
                            "typeString": "msg"
                          }
                        },
                        "id": 44245,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberLocation": "3492:6:27",
                        "memberName": "sender",
                        "nodeType": "MemberAccess",
                        "src": "3488:10:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": true,
                      "nodeType": "IndexAccess",
                      "src": "3476:23:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "+=",
                    "rightHandSide": {
                      "id": 44247,
                      "name": "_amount",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44233,
                      "src": "3503:7:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "3476:34:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 44249,
                  "nodeType": "ExpressionStatement",
                  "src": "3476:34:27"
                },
                {
                  "expression": {
                    "id": 44252,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "id": 44250,
                      "name": "totalDeposited",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44128,
                      "src": "3554:14:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "+=",
                    "rightHandSide": {
                      "id": 44251,
                      "name": "_amount",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44233,
                      "src": "3572:7:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "3554:25:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 44253,
                  "nodeType": "ExpressionStatement",
                  "src": "3554:25:27"
                },
                {
                  "eventCall": {
                    "arguments": [
                      {
                        "expression": {
                          "id": 44255,
                          "name": "msg",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": -15,
                          "src": "3614:3:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_magic_message",
                            "typeString": "msg"
                          }
                        },
                        "id": 44256,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberLocation": "3618:6:27",
                        "memberName": "sender",
                        "nodeType": "MemberAccess",
                        "src": "3614:10:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "id": 44257,
                        "name": "_amount",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44233,
                        "src": "3626:7:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      ],
                      "id": 44254,
                      "name": "LiquidityDeposited",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44151,
                      "src": "3595:18:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_event_nonpayable$_t_address_$_t_uint256_$returns$__$",
                        "typeString": "function (address,uint256)"
                      }
                    },
                    "id": 44258,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "3595:39:27",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 44259,
                  "nodeType": "EmitStatement",
                  "src": "3590:44:27"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "expression": {
                          "id": 44263,
                          "name": "msg",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": -15,
                          "src": "3696:3:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_magic_message",
                            "typeString": "msg"
                          }
                        },
                        "id": 44264,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberLocation": "3700:6:27",
                        "memberName": "sender",
                        "nodeType": "MemberAccess",
                        "src": "3696:10:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "arguments": [
                          {
                            "id": 44267,
                            "name": "this",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": -28,
                            "src": "3716:4:27",
                            "typeDescriptions": {
                              "typeIdentifier": "t_contract$_perpetual_$44655",
                              "typeString": "contract perpetual"
                            }
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_contract$_perpetual_$44655",
                              "typeString": "contract perpetual"
                            }
                          ],
                          "id": 44266,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "lValueRequested": false,
                          "nodeType": "ElementaryTypeNameExpression",
                          "src": "3708:7:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_type$_t_address_$",
                            "typeString": "type(address)"
                          },
                          "typeName": {
                            "id": 44265,
                            "name": "address",
                            "nodeType": "ElementaryTypeName",
                            "src": "3708:7:27",
                            "typeDescriptions": {}
                          }
                        },
                        "id": 44268,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "typeConversion",
                        "lValueRequested": false,
                        "nameLocations": [],
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "3708:13:27",
                        "tryCall": false,
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "id": 44269,
                        "name": "_amount",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44233,
                        "src": "3723:7:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      ],
                      "expression": {
                        "id": 44260,
                        "name": "WBTC",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44114,
                        "src": "3674:4:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_contract$_IERC20_$45267",
                          "typeString": "contract IERC20"
                        }
                      },
                      "id": 44262,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberLocation": "3679:16:27",
                      "memberName": "safeTransferFrom",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 44976,
                      "src": "3674:21:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_nonpayable$_t_contract$_IERC20_$45267_$_t_address_$_t_address_$_t_uint256_$returns$__$attached_to$_t_contract$_IERC20_$45267_$",
                        "typeString": "function (contract IERC20,address,address,uint256)"
                      }
                    },
                    "id": 44270,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "3674:57:27",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 44271,
                  "nodeType": "ExpressionStatement",
                  "src": "3674:57:27"
                }
              ]
            },
            "functionSelector": "76d58e1a",
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "depositLiquidity",
            "nameLocation": "3343:16:27",
            "parameters": {
              "id": 44234,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 44233,
                  "mutability": "mutable",
                  "name": "_amount",
                  "nameLocation": "3368:7:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44273,
                  "src": "3360:15:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 44232,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "3360:7:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "3359:17:27"
            },
            "returnParameters": {
              "id": 44235,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "3384:0:27"
            },
            "scope": 44655,
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "public"
          },
          {
            "id": 44315,
            "nodeType": "FunctionDefinition",
            "src": "3771:333:27",
            "nodes": [],
            "body": {
              "id": 44314,
              "nodeType": "Block",
              "src": "3822:282:27",
              "nodes": [],
              "statements": [
                {
                  "condition": {
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 44280,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "id": 44278,
                      "name": "_amount",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44275,
                      "src": "3836:7:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "==",
                    "rightExpression": {
                      "hexValue": "30",
                      "id": 44279,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "kind": "number",
                      "lValueRequested": false,
                      "nodeType": "Literal",
                      "src": "3847:1:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_rational_0_by_1",
                        "typeString": "int_const 0"
                      },
                      "value": "0"
                    },
                    "src": "3836:12:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "id": 44284,
                  "nodeType": "IfStatement",
                  "src": "3832:37:27",
                  "trueBody": {
                    "errorCall": {
                      "arguments": [],
                      "expression": {
                        "argumentTypes": [],
                        "id": 44281,
                        "name": "ZeroAmount",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44189,
                        "src": "3857:10:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_function_error_pure$__$returns$__$",
                          "typeString": "function () pure"
                        }
                      },
                      "id": 44282,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "functionCall",
                      "lValueRequested": false,
                      "nameLocations": [],
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "3857:12:27",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_tuple$__$",
                        "typeString": "tuple()"
                      }
                    },
                    "id": 44283,
                    "nodeType": "RevertStatement",
                    "src": "3850:19:27"
                  }
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "id": 44286,
                        "name": "_amount",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44275,
                        "src": "3903:7:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      ],
                      "id": 44285,
                      "name": "checkLiquidityWithdraw",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44654,
                      "src": "3880:22:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_view$_t_uint256_$returns$__$",
                        "typeString": "function (uint256) view"
                      }
                    },
                    "id": 44287,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "3880:31:27",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 44288,
                  "nodeType": "ExpressionStatement",
                  "src": "3880:31:27"
                },
                {
                  "expression": {
                    "id": 44294,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "baseExpression": {
                        "id": 44289,
                        "name": "userDeposit",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44121,
                        "src": "3922:11:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_mapping$_t_address_$_t_uint256_$",
                          "typeString": "mapping(address => uint256)"
                        }
                      },
                      "id": 44292,
                      "indexExpression": {
                        "expression": {
                          "id": 44290,
                          "name": "msg",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": -15,
                          "src": "3934:3:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_magic_message",
                            "typeString": "msg"
                          }
                        },
                        "id": 44291,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberLocation": "3938:6:27",
                        "memberName": "sender",
                        "nodeType": "MemberAccess",
                        "src": "3934:10:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": true,
                      "nodeType": "IndexAccess",
                      "src": "3922:23:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "-=",
                    "rightHandSide": {
                      "id": 44293,
                      "name": "_amount",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44275,
                      "src": "3949:7:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "3922:34:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 44295,
                  "nodeType": "ExpressionStatement",
                  "src": "3922:34:27"
                },
                {
                  "expression": {
                    "id": 44298,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "id": 44296,
                      "name": "totalDeposited",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44128,
                      "src": "3967:14:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "-=",
                    "rightHandSide": {
                      "id": 44297,
                      "name": "_amount",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44275,
                      "src": "3985:7:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "3967:25:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 44299,
                  "nodeType": "ExpressionStatement",
                  "src": "3967:25:27"
                },
                {
                  "eventCall": {
                    "arguments": [
                      {
                        "expression": {
                          "id": 44301,
                          "name": "msg",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": -15,
                          "src": "4027:3:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_magic_message",
                            "typeString": "msg"
                          }
                        },
                        "id": 44302,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberLocation": "4031:6:27",
                        "memberName": "sender",
                        "nodeType": "MemberAccess",
                        "src": "4027:10:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "id": 44303,
                        "name": "_amount",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44275,
                        "src": "4039:7:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      ],
                      "id": 44300,
                      "name": "LiquidityWithdrawn",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44157,
                      "src": "4008:18:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_event_nonpayable$_t_address_$_t_uint256_$returns$__$",
                        "typeString": "function (address,uint256)"
                      }
                    },
                    "id": 44304,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "4008:39:27",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 44305,
                  "nodeType": "EmitStatement",
                  "src": "4003:44:27"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "expression": {
                          "id": 44309,
                          "name": "msg",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": -15,
                          "src": "4076:3:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_magic_message",
                            "typeString": "msg"
                          }
                        },
                        "id": 44310,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberLocation": "4080:6:27",
                        "memberName": "sender",
                        "nodeType": "MemberAccess",
                        "src": "4076:10:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "id": 44311,
                        "name": "_amount",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44275,
                        "src": "4088:7:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      ],
                      "expression": {
                        "id": 44306,
                        "name": "WBTC",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44114,
                        "src": "4058:4:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_contract$_IERC20_$45267",
                          "typeString": "contract IERC20"
                        }
                      },
                      "id": 44308,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberLocation": "4063:12:27",
                      "memberName": "safeTransfer",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 44949,
                      "src": "4058:17:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_nonpayable$_t_contract$_IERC20_$45267_$_t_address_$_t_uint256_$returns$__$attached_to$_t_contract$_IERC20_$45267_$",
                        "typeString": "function (contract IERC20,address,uint256)"
                      }
                    },
                    "id": 44312,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "4058:38:27",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 44313,
                  "nodeType": "ExpressionStatement",
                  "src": "4058:38:27"
                }
              ]
            },
            "functionSelector": "0a861f2a",
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "withdrawLiquidity",
            "nameLocation": "3780:17:27",
            "parameters": {
              "id": 44276,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 44275,
                  "mutability": "mutable",
                  "name": "_amount",
                  "nameLocation": "3806:7:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44315,
                  "src": "3798:15:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 44274,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "3798:7:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "3797:17:27"
            },
            "returnParameters": {
              "id": 44277,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "3822:0:27"
            },
            "scope": 44655,
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "public"
          },
          {
            "id": 44332,
            "nodeType": "FunctionDefinition",
            "src": "4115:150:27",
            "nodes": [],
            "body": {
              "id": 44331,
              "nodeType": "Block",
              "src": "4168:97:27",
              "nodes": [],
              "statements": [
                {
                  "assignments": [
                    null,
                    44321,
                    null,
                    null,
                    null
                  ],
                  "declarations": [
                    null,
                    {
                      "constant": false,
                      "id": 44321,
                      "mutability": "mutable",
                      "name": "answer",
                      "nameLocation": "4187:6:27",
                      "nodeType": "VariableDeclaration",
                      "scope": 44331,
                      "src": "4180:13:27",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_int256",
                        "typeString": "int256"
                      },
                      "typeName": {
                        "id": 44320,
                        "name": "int256",
                        "nodeType": "ElementaryTypeName",
                        "src": "4180:6:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_int256",
                          "typeString": "int256"
                        }
                      },
                      "visibility": "internal"
                    },
                    null,
                    null,
                    null
                  ],
                  "id": 44325,
                  "initialValue": {
                    "arguments": [],
                    "expression": {
                      "argumentTypes": [],
                      "expression": {
                        "id": 44322,
                        "name": "dataFeed",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44100,
                        "src": "4200:8:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_contract$_AggregatorV3Interface_$44089",
                          "typeString": "contract AggregatorV3Interface"
                        }
                      },
                      "id": 44323,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberLocation": "4209:15:27",
                      "memberName": "latestRoundData",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 44088,
                      "src": "4200:24:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_external_view$__$returns$_t_uint80_$_t_int256_$_t_uint256_$_t_uint256_$_t_uint80_$",
                        "typeString": "function () view external returns (uint80,int256,uint256,uint256,uint80)"
                      }
                    },
                    "id": 44324,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "4200:26:27",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$_t_uint80_$_t_int256_$_t_uint256_$_t_uint256_$_t_uint80_$",
                      "typeString": "tuple(uint80,int256,uint256,uint256,uint80)"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "4178:48:27"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "id": 44328,
                        "name": "answer",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44321,
                        "src": "4251:6:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_int256",
                          "typeString": "int256"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_int256",
                          "typeString": "int256"
                        }
                      ],
                      "id": 44327,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "lValueRequested": false,
                      "nodeType": "ElementaryTypeNameExpression",
                      "src": "4243:7:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_type$_t_uint256_$",
                        "typeString": "type(uint256)"
                      },
                      "typeName": {
                        "id": 44326,
                        "name": "uint256",
                        "nodeType": "ElementaryTypeName",
                        "src": "4243:7:27",
                        "typeDescriptions": {}
                      }
                    },
                    "id": 44329,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "typeConversion",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "4243:15:27",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "functionReturnParameters": 44319,
                  "id": 44330,
                  "nodeType": "Return",
                  "src": "4236:22:27"
                }
              ]
            },
            "functionSelector": "fa7d826a",
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "getWBTCPrice",
            "nameLocation": "4124:12:27",
            "parameters": {
              "id": 44316,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "4136:2:27"
            },
            "returnParameters": {
              "id": 44319,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 44318,
                  "mutability": "mutable",
                  "name": "",
                  "nameLocation": "-1:-1:-1",
                  "nodeType": "VariableDeclaration",
                  "scope": 44332,
                  "src": "4160:7:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 44317,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "4160:7:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "4159:9:27"
            },
            "scope": 44655,
            "stateMutability": "view",
            "virtual": false,
            "visibility": "public"
          },
          {
            "id": 44438,
            "nodeType": "FunctionDefinition",
            "src": "4292:1311:27",
            "nodes": [],
            "body": {
              "id": 44437,
              "nodeType": "Block",
              "src": "4425:1178:27",
              "nodes": [],
              "statements": [
                {
                  "condition": {
                    "commonType": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    },
                    "id": 44347,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "commonType": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "id": 44343,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "leftExpression": {
                        "id": 44341,
                        "name": "_leverage",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44336,
                        "src": "4438:9:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "nodeType": "BinaryOperation",
                      "operator": "==",
                      "rightExpression": {
                        "hexValue": "30",
                        "id": 44342,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "number",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "4451:1:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_rational_0_by_1",
                          "typeString": "int_const 0"
                        },
                        "value": "0"
                      },
                      "src": "4438:14:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_bool",
                        "typeString": "bool"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "||",
                    "rightExpression": {
                      "commonType": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "id": 44346,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "leftExpression": {
                        "id": 44344,
                        "name": "_collateralAmountUsdc",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44338,
                        "src": "4456:21:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "nodeType": "BinaryOperation",
                      "operator": "==",
                      "rightExpression": {
                        "hexValue": "30",
                        "id": 44345,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "number",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "4481:1:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_rational_0_by_1",
                          "typeString": "int_const 0"
                        },
                        "value": "0"
                      },
                      "src": "4456:26:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_bool",
                        "typeString": "bool"
                      }
                    },
                    "src": "4438:44:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "id": 44351,
                  "nodeType": "IfStatement",
                  "src": "4435:68:27",
                  "trueBody": {
                    "errorCall": {
                      "arguments": [],
                      "expression": {
                        "argumentTypes": [],
                        "id": 44348,
                        "name": "ZeroAmount",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44189,
                        "src": "4491:10:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_function_error_pure$__$returns$__$",
                          "typeString": "function () pure"
                        }
                      },
                      "id": 44349,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "functionCall",
                      "lValueRequested": false,
                      "nameLocations": [],
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "4491:12:27",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_tuple$__$",
                        "typeString": "tuple()"
                      }
                    },
                    "id": 44350,
                    "nodeType": "RevertStatement",
                    "src": "4484:19:27"
                  }
                },
                {
                  "condition": {
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 44358,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "expression": {
                        "baseExpression": {
                          "id": 44352,
                          "name": "userPositions",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 44126,
                          "src": "4516:13:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_mapping$_t_address_$_t_struct$_position_$44111_storage_$",
                            "typeString": "mapping(address => struct perpetual.position storage ref)"
                          }
                        },
                        "id": 44355,
                        "indexExpression": {
                          "expression": {
                            "id": 44353,
                            "name": "msg",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": -15,
                            "src": "4530:3:27",
                            "typeDescriptions": {
                              "typeIdentifier": "t_magic_message",
                              "typeString": "msg"
                            }
                          },
                          "id": 44354,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberLocation": "4534:6:27",
                          "memberName": "sender",
                          "nodeType": "MemberAccess",
                          "src": "4530:10:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        },
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "nodeType": "IndexAccess",
                        "src": "4516:25:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_position_$44111_storage",
                          "typeString": "struct perpetual.position storage ref"
                        }
                      },
                      "id": 44356,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberLocation": "4542:16:27",
                      "memberName": "borrowAmountUsdc",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 44108,
                      "src": "4516:42:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": ">",
                    "rightExpression": {
                      "hexValue": "30",
                      "id": 44357,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "kind": "number",
                      "lValueRequested": false,
                      "nodeType": "Literal",
                      "src": "4561:1:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_rational_0_by_1",
                        "typeString": "int_const 0"
                      },
                      "value": "0"
                    },
                    "src": "4516:46:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "id": 44362,
                  "nodeType": "IfStatement",
                  "src": "4513:72:27",
                  "trueBody": {
                    "errorCall": {
                      "arguments": [],
                      "expression": {
                        "argumentTypes": [],
                        "id": 44359,
                        "name": "PositionOpen",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44193,
                        "src": "4571:12:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_function_error_pure$__$returns$__$",
                          "typeString": "function () pure"
                        }
                      },
                      "id": 44360,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "functionCall",
                      "lValueRequested": false,
                      "nameLocations": [],
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "4571:14:27",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_tuple$__$",
                        "typeString": "tuple()"
                      }
                    },
                    "id": 44361,
                    "nodeType": "RevertStatement",
                    "src": "4564:21:27"
                  }
                },
                {
                  "condition": {
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 44365,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "id": 44363,
                      "name": "_collateralAmountUsdc",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44338,
                      "src": "4598:21:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "<",
                    "rightExpression": {
                      "id": 44364,
                      "name": "MINIMUM_COLLATERAL",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44133,
                      "src": "4622:18:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "4598:42:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "id": 44369,
                  "nodeType": "IfStatement",
                  "src": "4595:75:27",
                  "trueBody": {
                    "errorCall": {
                      "arguments": [],
                      "expression": {
                        "argumentTypes": [],
                        "id": 44366,
                        "name": "NotEnoughCollateral",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44195,
                        "src": "4649:19:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_function_error_pure$__$returns$__$",
                          "typeString": "function () pure"
                        }
                      },
                      "id": 44367,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "functionCall",
                      "lValueRequested": false,
                      "nameLocations": [],
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "4649:21:27",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_tuple$__$",
                        "typeString": "tuple()"
                      }
                    },
                    "id": 44368,
                    "nodeType": "RevertStatement",
                    "src": "4642:28:27"
                  }
                },
                {
                  "assignments": [
                    44371
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 44371,
                      "mutability": "mutable",
                      "name": "wbtcPrice_",
                      "nameLocation": "4715:10:27",
                      "nodeType": "VariableDeclaration",
                      "scope": 44437,
                      "src": "4707:18:27",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 44370,
                        "name": "uint256",
                        "nodeType": "ElementaryTypeName",
                        "src": "4707:7:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 44374,
                  "initialValue": {
                    "arguments": [],
                    "expression": {
                      "argumentTypes": [],
                      "id": 44372,
                      "name": "getWBTCPrice",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44332,
                      "src": "4728:12:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_view$__$returns$_t_uint256_$",
                        "typeString": "function () view returns (uint256)"
                      }
                    },
                    "id": 44373,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "4728:14:27",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "4707:35:27"
                },
                {
                  "assignments": [
                    44376
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 44376,
                      "mutability": "mutable",
                      "name": "borrowAmountUsdc_",
                      "nameLocation": "4799:17:27",
                      "nodeType": "VariableDeclaration",
                      "scope": 44437,
                      "src": "4791:25:27",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 44375,
                        "name": "uint256",
                        "nodeType": "ElementaryTypeName",
                        "src": "4791:7:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 44380,
                  "initialValue": {
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 44379,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "id": 44377,
                      "name": "_collateralAmountUsdc",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44338,
                      "src": "4819:21:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "*",
                    "rightExpression": {
                      "id": 44378,
                      "name": "_leverage",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44336,
                      "src": "4843:9:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "4819:33:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "4791:61:27"
                },
                {
                  "assignments": [
                    44382
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 44382,
                      "mutability": "mutable",
                      "name": "borrowAmountWbtc_",
                      "nameLocation": "4871:17:27",
                      "nodeType": "VariableDeclaration",
                      "scope": 44437,
                      "src": "4863:25:27",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 44381,
                        "name": "uint256",
                        "nodeType": "ElementaryTypeName",
                        "src": "4863:7:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 44389,
                  "initialValue": {
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 44388,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "components": [
                        {
                          "commonType": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          "id": 44385,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "id": 44383,
                            "name": "borrowAmountUsdc_",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 44376,
                            "src": "4892:17:27",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "*",
                          "rightExpression": {
                            "id": 44384,
                            "name": "WBTC_DIVISION_SCALE",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 44139,
                            "src": "4913:19:27",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "src": "4892:40:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        }
                      ],
                      "id": 44386,
                      "isConstant": false,
                      "isInlineArray": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "nodeType": "TupleExpression",
                      "src": "4891:42:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "/",
                    "rightExpression": {
                      "id": 44387,
                      "name": "wbtcPrice_",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44371,
                      "src": "4936:10:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "4891:55:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "4863:83:27"
                },
                {
                  "expression": {
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 44392,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "id": 44390,
                      "name": "borrowAmountWbtc_",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44382,
                      "src": "4957:17:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "/",
                    "rightExpression": {
                      "id": 44391,
                      "name": "LIQUIDITY_SCALE",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44145,
                      "src": "4977:15:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "4957:35:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 44393,
                  "nodeType": "ExpressionStatement",
                  "src": "4957:35:27"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "id": 44395,
                        "name": "borrowAmountWbtc_",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44382,
                        "src": "5024:17:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      ],
                      "id": 44394,
                      "name": "checkLiquidityBorrow",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44601,
                      "src": "5003:20:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_view$_t_uint256_$returns$__$",
                        "typeString": "function (uint256) view"
                      }
                    },
                    "id": 44396,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "5003:39:27",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 44397,
                  "nodeType": "ExpressionStatement",
                  "src": "5003:39:27"
                },
                {
                  "expression": {
                    "id": 44409,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "baseExpression": {
                        "id": 44398,
                        "name": "userPositions",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44126,
                        "src": "5053:13:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_mapping$_t_address_$_t_struct$_position_$44111_storage_$",
                          "typeString": "mapping(address => struct perpetual.position storage ref)"
                        }
                      },
                      "id": 44401,
                      "indexExpression": {
                        "expression": {
                          "id": 44399,
                          "name": "msg",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": -15,
                          "src": "5067:3:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_magic_message",
                            "typeString": "msg"
                          }
                        },
                        "id": 44400,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberLocation": "5071:6:27",
                        "memberName": "sender",
                        "nodeType": "MemberAccess",
                        "src": "5067:10:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": true,
                      "nodeType": "IndexAccess",
                      "src": "5053:25:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_position_$44111_storage",
                        "typeString": "struct perpetual.position storage ref"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "arguments": [
                        {
                          "id": 44403,
                          "name": "_positionType",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 44334,
                          "src": "5103:13:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        {
                          "id": 44404,
                          "name": "_leverage",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 44336,
                          "src": "5130:9:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        {
                          "id": 44405,
                          "name": "_collateralAmountUsdc",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 44338,
                          "src": "5153:21:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        {
                          "id": 44406,
                          "name": "borrowAmountUsdc_",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 44376,
                          "src": "5188:17:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        {
                          "id": 44407,
                          "name": "borrowAmountWbtc_",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 44382,
                          "src": "5219:17:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        }
                      ],
                      "expression": {
                        "argumentTypes": [
                          {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          },
                          {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        ],
                        "id": 44402,
                        "name": "position",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44111,
                        "src": "5081:8:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_type$_t_struct$_position_$44111_storage_ptr_$",
                          "typeString": "type(struct perpetual.position storage pointer)"
                        }
                      },
                      "id": 44408,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "structConstructorCall",
                      "lValueRequested": false,
                      "nameLocations": [],
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "5081:165:27",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_position_$44111_memory_ptr",
                        "typeString": "struct perpetual.position memory"
                      }
                    },
                    "src": "5053:193:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_position_$44111_storage",
                      "typeString": "struct perpetual.position storage ref"
                    }
                  },
                  "id": 44410,
                  "nodeType": "ExpressionStatement",
                  "src": "5053:193:27"
                },
                {
                  "expression": {
                    "id": 44413,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "id": 44411,
                      "name": "totalBorrowed",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44130,
                      "src": "5257:13:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "+=",
                    "rightHandSide": {
                      "id": 44412,
                      "name": "borrowAmountWbtc_",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44382,
                      "src": "5274:17:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "5257:34:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 44414,
                  "nodeType": "ExpressionStatement",
                  "src": "5257:34:27"
                },
                {
                  "eventCall": {
                    "arguments": [
                      {
                        "expression": {
                          "id": 44416,
                          "name": "msg",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": -15,
                          "src": "5335:3:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_magic_message",
                            "typeString": "msg"
                          }
                        },
                        "id": 44417,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberLocation": "5339:6:27",
                        "memberName": "sender",
                        "nodeType": "MemberAccess",
                        "src": "5335:10:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "id": 44418,
                        "name": "_positionType",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44334,
                        "src": "5360:13:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "id": 44419,
                        "name": "_leverage",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44336,
                        "src": "5388:9:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "id": 44420,
                        "name": "_collateralAmountUsdc",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44338,
                        "src": "5412:21:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "id": 44421,
                        "name": "borrowAmountUsdc_",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44376,
                        "src": "5447:17:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "id": 44422,
                        "name": "borrowAmountWbtc_",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44382,
                        "src": "5478:17:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      ],
                      "id": 44415,
                      "name": "PositionOpened",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44171,
                      "src": "5307:14:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_event_nonpayable$_t_address_$_t_bool_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$",
                        "typeString": "function (address,bool,uint256,uint256,uint256,uint256)"
                      }
                    },
                    "id": 44423,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "5307:198:27",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 44424,
                  "nodeType": "EmitStatement",
                  "src": "5302:203:27"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "expression": {
                          "id": 44428,
                          "name": "msg",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": -15,
                          "src": "5538:3:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_magic_message",
                            "typeString": "msg"
                          }
                        },
                        "id": 44429,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberLocation": "5542:6:27",
                        "memberName": "sender",
                        "nodeType": "MemberAccess",
                        "src": "5538:10:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "arguments": [
                          {
                            "id": 44432,
                            "name": "this",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": -28,
                            "src": "5558:4:27",
                            "typeDescriptions": {
                              "typeIdentifier": "t_contract$_perpetual_$44655",
                              "typeString": "contract perpetual"
                            }
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_contract$_perpetual_$44655",
                              "typeString": "contract perpetual"
                            }
                          ],
                          "id": 44431,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "lValueRequested": false,
                          "nodeType": "ElementaryTypeNameExpression",
                          "src": "5550:7:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_type$_t_address_$",
                            "typeString": "type(address)"
                          },
                          "typeName": {
                            "id": 44430,
                            "name": "address",
                            "nodeType": "ElementaryTypeName",
                            "src": "5550:7:27",
                            "typeDescriptions": {}
                          }
                        },
                        "id": 44433,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "typeConversion",
                        "lValueRequested": false,
                        "nameLocations": [],
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "5550:13:27",
                        "tryCall": false,
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "id": 44434,
                        "name": "_collateralAmountUsdc",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44338,
                        "src": "5565:21:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      ],
                      "expression": {
                        "id": 44425,
                        "name": "USDC",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44117,
                        "src": "5516:4:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_contract$_IERC20_$45267",
                          "typeString": "contract IERC20"
                        }
                      },
                      "id": 44427,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberLocation": "5521:16:27",
                      "memberName": "safeTransferFrom",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 44976,
                      "src": "5516:21:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_nonpayable$_t_contract$_IERC20_$45267_$_t_address_$_t_address_$_t_uint256_$returns$__$attached_to$_t_contract$_IERC20_$45267_$",
                        "typeString": "function (contract IERC20,address,address,uint256)"
                      }
                    },
                    "id": 44435,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "5516:71:27",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 44436,
                  "nodeType": "ExpressionStatement",
                  "src": "5516:71:27"
                }
              ]
            },
            "functionSelector": "e3255731",
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "openPosition",
            "nameLocation": "4301:12:27",
            "parameters": {
              "id": 44339,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 44334,
                  "mutability": "mutable",
                  "name": "_positionType",
                  "nameLocation": "4328:13:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44438,
                  "src": "4323:18:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bool",
                    "typeString": "bool"
                  },
                  "typeName": {
                    "id": 44333,
                    "name": "bool",
                    "nodeType": "ElementaryTypeName",
                    "src": "4323:4:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 44336,
                  "mutability": "mutable",
                  "name": "_leverage",
                  "nameLocation": "4360:9:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44438,
                  "src": "4352:17:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 44335,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "4352:7:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 44338,
                  "mutability": "mutable",
                  "name": "_collateralAmountUsdc",
                  "nameLocation": "4387:21:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44438,
                  "src": "4379:29:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 44337,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "4379:7:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "4313:96:27"
            },
            "returnParameters": {
              "id": 44340,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "4425:0:27"
            },
            "scope": 44655,
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "public"
          },
          {
            "id": 44534,
            "nodeType": "FunctionDefinition",
            "src": "5642:1062:27",
            "nodes": [],
            "body": {
              "id": 44533,
              "nodeType": "Block",
              "src": "5706:998:27",
              "nodes": [],
              "statements": [
                {
                  "condition": {
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 44445,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "id": 44443,
                      "name": "_collateralAmountUsdc",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44440,
                      "src": "5720:21:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "==",
                    "rightExpression": {
                      "hexValue": "30",
                      "id": 44444,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "kind": "number",
                      "lValueRequested": false,
                      "nodeType": "Literal",
                      "src": "5745:1:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_rational_0_by_1",
                        "typeString": "int_const 0"
                      },
                      "value": "0"
                    },
                    "src": "5720:26:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "id": 44449,
                  "nodeType": "IfStatement",
                  "src": "5716:51:27",
                  "trueBody": {
                    "errorCall": {
                      "arguments": [],
                      "expression": {
                        "argumentTypes": [],
                        "id": 44446,
                        "name": "ZeroAmount",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44189,
                        "src": "5755:10:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_function_error_pure$__$returns$__$",
                          "typeString": "function () pure"
                        }
                      },
                      "id": 44447,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "functionCall",
                      "lValueRequested": false,
                      "nameLocations": [],
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "5755:12:27",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_tuple$__$",
                        "typeString": "tuple()"
                      }
                    },
                    "id": 44448,
                    "nodeType": "RevertStatement",
                    "src": "5748:19:27"
                  }
                },
                {
                  "condition": {
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 44452,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "id": 44450,
                      "name": "_collateralAmountUsdc",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44440,
                      "src": "5780:21:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "<",
                    "rightExpression": {
                      "id": 44451,
                      "name": "MINIMUM_COLLATERAL",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44133,
                      "src": "5804:18:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "5780:42:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "id": 44456,
                  "nodeType": "IfStatement",
                  "src": "5777:75:27",
                  "trueBody": {
                    "errorCall": {
                      "arguments": [],
                      "expression": {
                        "argumentTypes": [],
                        "id": 44453,
                        "name": "NotEnoughCollateral",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44195,
                        "src": "5831:19:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_function_error_pure$__$returns$__$",
                          "typeString": "function () pure"
                        }
                      },
                      "id": 44454,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "functionCall",
                      "lValueRequested": false,
                      "nameLocations": [],
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "5831:21:27",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_tuple$__$",
                        "typeString": "tuple()"
                      }
                    },
                    "id": 44455,
                    "nodeType": "RevertStatement",
                    "src": "5824:28:27"
                  }
                },
                {
                  "assignments": [
                    44459
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 44459,
                      "mutability": "mutable",
                      "name": "userPosition_",
                      "nameLocation": "5880:13:27",
                      "nodeType": "VariableDeclaration",
                      "scope": 44533,
                      "src": "5863:30:27",
                      "stateVariable": false,
                      "storageLocation": "storage",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_position_$44111_storage_ptr",
                        "typeString": "struct perpetual.position"
                      },
                      "typeName": {
                        "id": 44458,
                        "nodeType": "UserDefinedTypeName",
                        "pathNode": {
                          "id": 44457,
                          "name": "position",
                          "nameLocations": [
                            "5863:8:27"
                          ],
                          "nodeType": "IdentifierPath",
                          "referencedDeclaration": 44111,
                          "src": "5863:8:27"
                        },
                        "referencedDeclaration": 44111,
                        "src": "5863:8:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_position_$44111_storage_ptr",
                          "typeString": "struct perpetual.position"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 44464,
                  "initialValue": {
                    "baseExpression": {
                      "id": 44460,
                      "name": "userPositions",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44126,
                      "src": "5896:13:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_mapping$_t_address_$_t_struct$_position_$44111_storage_$",
                        "typeString": "mapping(address => struct perpetual.position storage ref)"
                      }
                    },
                    "id": 44463,
                    "indexExpression": {
                      "expression": {
                        "id": 44461,
                        "name": "msg",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": -15,
                        "src": "5910:3:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_magic_message",
                          "typeString": "msg"
                        }
                      },
                      "id": 44462,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberLocation": "5914:6:27",
                      "memberName": "sender",
                      "nodeType": "MemberAccess",
                      "src": "5910:10:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "isConstant": false,
                    "isLValue": true,
                    "isPure": false,
                    "lValueRequested": false,
                    "nodeType": "IndexAccess",
                    "src": "5896:25:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_position_$44111_storage",
                      "typeString": "struct perpetual.position storage ref"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "5863:58:27"
                },
                {
                  "assignments": [
                    44466
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 44466,
                      "mutability": "mutable",
                      "name": "wbtcPrice_",
                      "nameLocation": "5940:10:27",
                      "nodeType": "VariableDeclaration",
                      "scope": 44533,
                      "src": "5932:18:27",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 44465,
                        "name": "uint256",
                        "nodeType": "ElementaryTypeName",
                        "src": "5932:7:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 44469,
                  "initialValue": {
                    "arguments": [],
                    "expression": {
                      "argumentTypes": [],
                      "id": 44467,
                      "name": "getWBTCPrice",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44332,
                      "src": "5953:12:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_view$__$returns$_t_uint256_$",
                        "typeString": "function () view returns (uint256)"
                      }
                    },
                    "id": 44468,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "5953:14:27",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "5932:35:27"
                },
                {
                  "assignments": [
                    44471
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 44471,
                      "mutability": "mutable",
                      "name": "borrowAmountUsdc_",
                      "nameLocation": "5986:17:27",
                      "nodeType": "VariableDeclaration",
                      "scope": 44533,
                      "src": "5978:25:27",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 44470,
                        "name": "uint256",
                        "nodeType": "ElementaryTypeName",
                        "src": "5978:7:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 44476,
                  "initialValue": {
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 44475,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "id": 44472,
                      "name": "_collateralAmountUsdc",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44440,
                      "src": "6006:21:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "*",
                    "rightExpression": {
                      "expression": {
                        "id": 44473,
                        "name": "userPosition_",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44459,
                        "src": "6030:13:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_position_$44111_storage_ptr",
                          "typeString": "struct perpetual.position storage pointer"
                        }
                      },
                      "id": 44474,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberLocation": "6044:8:27",
                      "memberName": "leverage",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 44104,
                      "src": "6030:22:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "6006:46:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "5978:74:27"
                },
                {
                  "assignments": [
                    44478
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 44478,
                      "mutability": "mutable",
                      "name": "borrowAmountWbtc_",
                      "nameLocation": "6071:17:27",
                      "nodeType": "VariableDeclaration",
                      "scope": 44533,
                      "src": "6063:25:27",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 44477,
                        "name": "uint256",
                        "nodeType": "ElementaryTypeName",
                        "src": "6063:7:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 44486,
                  "initialValue": {
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 44485,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "components": [
                        {
                          "commonType": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          "id": 44481,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "id": 44479,
                            "name": "_collateralAmountUsdc",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 44440,
                            "src": "6092:21:27",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "*",
                          "rightExpression": {
                            "id": 44480,
                            "name": "WBTC_DIVISION_SCALE",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 44139,
                            "src": "6116:19:27",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "src": "6092:43:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        }
                      ],
                      "id": 44482,
                      "isConstant": false,
                      "isInlineArray": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "nodeType": "TupleExpression",
                      "src": "6091:45:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "/",
                    "rightExpression": {
                      "components": [
                        {
                          "id": 44483,
                          "name": "wbtcPrice_",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 44466,
                          "src": "6140:10:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        }
                      ],
                      "id": 44484,
                      "isConstant": false,
                      "isInlineArray": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "nodeType": "TupleExpression",
                      "src": "6139:12:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "6091:60:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "6063:88:27"
                },
                {
                  "expression": {
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 44489,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "id": 44487,
                      "name": "borrowAmountWbtc_",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44478,
                      "src": "6162:17:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "/",
                    "rightExpression": {
                      "id": 44488,
                      "name": "LIQUIDITY_SCALE",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44145,
                      "src": "6182:15:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "6162:35:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 44490,
                  "nodeType": "ExpressionStatement",
                  "src": "6162:35:27"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "id": 44492,
                        "name": "borrowAmountWbtc_",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44478,
                        "src": "6229:17:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      ],
                      "id": 44491,
                      "name": "checkLiquidityBorrow",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44601,
                      "src": "6208:20:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_view$_t_uint256_$returns$__$",
                        "typeString": "function (uint256) view"
                      }
                    },
                    "id": 44493,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "6208:39:27",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 44494,
                  "nodeType": "ExpressionStatement",
                  "src": "6208:39:27"
                },
                {
                  "expression": {
                    "id": 44499,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "expression": {
                        "id": 44495,
                        "name": "userPosition_",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44459,
                        "src": "6258:13:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_position_$44111_storage_ptr",
                          "typeString": "struct perpetual.position storage pointer"
                        }
                      },
                      "id": 44497,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": true,
                      "memberLocation": "6272:16:27",
                      "memberName": "borrowAmountUsdc",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 44108,
                      "src": "6258:30:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "+=",
                    "rightHandSide": {
                      "id": 44498,
                      "name": "borrowAmountUsdc_",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44471,
                      "src": "6292:17:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "6258:51:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 44500,
                  "nodeType": "ExpressionStatement",
                  "src": "6258:51:27"
                },
                {
                  "expression": {
                    "id": 44505,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "expression": {
                        "id": 44501,
                        "name": "userPosition_",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44459,
                        "src": "6319:13:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_position_$44111_storage_ptr",
                          "typeString": "struct perpetual.position storage pointer"
                        }
                      },
                      "id": 44503,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": true,
                      "memberLocation": "6333:16:27",
                      "memberName": "borrowAmountWbtc",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 44110,
                      "src": "6319:30:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "+=",
                    "rightHandSide": {
                      "id": 44504,
                      "name": "borrowAmountWbtc_",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44478,
                      "src": "6353:17:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "6319:51:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 44506,
                  "nodeType": "ExpressionStatement",
                  "src": "6319:51:27"
                },
                {
                  "expression": {
                    "id": 44509,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "id": 44507,
                      "name": "totalBorrowed",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44130,
                      "src": "6381:13:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "+=",
                    "rightHandSide": {
                      "id": 44508,
                      "name": "borrowAmountWbtc_",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44478,
                      "src": "6398:17:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "6381:34:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 44510,
                  "nodeType": "ExpressionStatement",
                  "src": "6381:34:27"
                },
                {
                  "eventCall": {
                    "arguments": [
                      {
                        "expression": {
                          "id": 44512,
                          "name": "msg",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": -15,
                          "src": "6462:3:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_magic_message",
                            "typeString": "msg"
                          }
                        },
                        "id": 44513,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberLocation": "6466:6:27",
                        "memberName": "sender",
                        "nodeType": "MemberAccess",
                        "src": "6462:10:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "id": 44514,
                        "name": "_collateralAmountUsdc",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44440,
                        "src": "6487:21:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "expression": {
                          "id": 44515,
                          "name": "userPosition_",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 44459,
                          "src": "6522:13:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_position_$44111_storage_ptr",
                            "typeString": "struct perpetual.position storage pointer"
                          }
                        },
                        "id": 44516,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberLocation": "6536:16:27",
                        "memberName": "borrowAmountUsdc",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 44108,
                        "src": "6522:30:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "expression": {
                          "id": 44517,
                          "name": "userPosition_",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 44459,
                          "src": "6566:13:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_position_$44111_storage_ptr",
                            "typeString": "struct perpetual.position storage pointer"
                          }
                        },
                        "id": 44518,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberLocation": "6580:16:27",
                        "memberName": "borrowAmountWbtc",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 44110,
                        "src": "6566:30:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      ],
                      "id": 44511,
                      "name": "PositionIncreased",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44181,
                      "src": "6431:17:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_event_nonpayable$_t_address_$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$",
                        "typeString": "function (address,uint256,uint256,uint256)"
                      }
                    },
                    "id": 44519,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "6431:175:27",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 44520,
                  "nodeType": "EmitStatement",
                  "src": "6426:180:27"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "expression": {
                          "id": 44524,
                          "name": "msg",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": -15,
                          "src": "6639:3:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_magic_message",
                            "typeString": "msg"
                          }
                        },
                        "id": 44525,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberLocation": "6643:6:27",
                        "memberName": "sender",
                        "nodeType": "MemberAccess",
                        "src": "6639:10:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "arguments": [
                          {
                            "id": 44528,
                            "name": "this",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": -28,
                            "src": "6659:4:27",
                            "typeDescriptions": {
                              "typeIdentifier": "t_contract$_perpetual_$44655",
                              "typeString": "contract perpetual"
                            }
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_contract$_perpetual_$44655",
                              "typeString": "contract perpetual"
                            }
                          ],
                          "id": 44527,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "lValueRequested": false,
                          "nodeType": "ElementaryTypeNameExpression",
                          "src": "6651:7:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_type$_t_address_$",
                            "typeString": "type(address)"
                          },
                          "typeName": {
                            "id": 44526,
                            "name": "address",
                            "nodeType": "ElementaryTypeName",
                            "src": "6651:7:27",
                            "typeDescriptions": {}
                          }
                        },
                        "id": 44529,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "typeConversion",
                        "lValueRequested": false,
                        "nameLocations": [],
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "6651:13:27",
                        "tryCall": false,
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "id": 44530,
                        "name": "_collateralAmountUsdc",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44440,
                        "src": "6666:21:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      ],
                      "expression": {
                        "id": 44521,
                        "name": "USDC",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44117,
                        "src": "6617:4:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_contract$_IERC20_$45267",
                          "typeString": "contract IERC20"
                        }
                      },
                      "id": 44523,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberLocation": "6622:16:27",
                      "memberName": "safeTransferFrom",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 44976,
                      "src": "6617:21:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_nonpayable$_t_contract$_IERC20_$45267_$_t_address_$_t_address_$_t_uint256_$returns$__$attached_to$_t_contract$_IERC20_$45267_$",
                        "typeString": "function (contract IERC20,address,address,uint256)"
                      }
                    },
                    "id": 44531,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "6617:71:27",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 44532,
                  "nodeType": "ExpressionStatement",
                  "src": "6617:71:27"
                }
              ]
            },
            "functionSelector": "4c718d06",
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "increasePosition",
            "nameLocation": "5651:16:27",
            "parameters": {
              "id": 44441,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 44440,
                  "mutability": "mutable",
                  "name": "_collateralAmountUsdc",
                  "nameLocation": "5676:21:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44534,
                  "src": "5668:29:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 44439,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "5668:7:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "5667:31:27"
            },
            "returnParameters": {
              "id": 44442,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "5706:0:27"
            },
            "scope": 44655,
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "public"
          },
          {
            "id": 44573,
            "nodeType": "FunctionDefinition",
            "src": "6737:365:27",
            "nodes": [],
            "body": {
              "id": 44572,
              "nodeType": "Block",
              "src": "6803:299:27",
              "nodes": [],
              "statements": [
                {
                  "condition": {
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 44541,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "id": 44539,
                      "name": "_collateralAmountUsdc",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44536,
                      "src": "6817:21:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "==",
                    "rightExpression": {
                      "hexValue": "30",
                      "id": 44540,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "kind": "number",
                      "lValueRequested": false,
                      "nodeType": "Literal",
                      "src": "6842:1:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_rational_0_by_1",
                        "typeString": "int_const 0"
                      },
                      "value": "0"
                    },
                    "src": "6817:26:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "id": 44545,
                  "nodeType": "IfStatement",
                  "src": "6813:51:27",
                  "trueBody": {
                    "errorCall": {
                      "arguments": [],
                      "expression": {
                        "argumentTypes": [],
                        "id": 44542,
                        "name": "ZeroAmount",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44189,
                        "src": "6852:10:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_function_error_pure$__$returns$__$",
                          "typeString": "function () pure"
                        }
                      },
                      "id": 44543,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "functionCall",
                      "lValueRequested": false,
                      "nameLocations": [],
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "6852:12:27",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_tuple$__$",
                        "typeString": "tuple()"
                      }
                    },
                    "id": 44544,
                    "nodeType": "RevertStatement",
                    "src": "6845:19:27"
                  }
                },
                {
                  "expression": {
                    "id": 44552,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "expression": {
                        "baseExpression": {
                          "id": 44546,
                          "name": "userPositions",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 44126,
                          "src": "6875:13:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_mapping$_t_address_$_t_struct$_position_$44111_storage_$",
                            "typeString": "mapping(address => struct perpetual.position storage ref)"
                          }
                        },
                        "id": 44549,
                        "indexExpression": {
                          "expression": {
                            "id": 44547,
                            "name": "msg",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": -15,
                            "src": "6889:3:27",
                            "typeDescriptions": {
                              "typeIdentifier": "t_magic_message",
                              "typeString": "msg"
                            }
                          },
                          "id": 44548,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberLocation": "6893:6:27",
                          "memberName": "sender",
                          "nodeType": "MemberAccess",
                          "src": "6889:10:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        },
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "nodeType": "IndexAccess",
                        "src": "6875:25:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_position_$44111_storage",
                          "typeString": "struct perpetual.position storage ref"
                        }
                      },
                      "id": 44550,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": true,
                      "memberLocation": "6901:16:27",
                      "memberName": "collateralAmount",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 44106,
                      "src": "6875:42:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "+=",
                    "rightHandSide": {
                      "id": 44551,
                      "name": "_collateralAmountUsdc",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44536,
                      "src": "6921:21:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "6875:67:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 44553,
                  "nodeType": "ExpressionStatement",
                  "src": "6875:67:27"
                },
                {
                  "eventCall": {
                    "arguments": [
                      {
                        "expression": {
                          "id": 44555,
                          "name": "msg",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": -15,
                          "src": "6978:3:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_magic_message",
                            "typeString": "msg"
                          }
                        },
                        "id": 44556,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberLocation": "6982:6:27",
                        "memberName": "sender",
                        "nodeType": "MemberAccess",
                        "src": "6978:10:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "id": 44557,
                        "name": "_collateralAmountUsdc",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44536,
                        "src": "6990:21:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      ],
                      "id": 44554,
                      "name": "CollateralIncreased",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44187,
                      "src": "6958:19:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_event_nonpayable$_t_address_$_t_uint256_$returns$__$",
                        "typeString": "function (address,uint256)"
                      }
                    },
                    "id": 44558,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "6958:54:27",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 44559,
                  "nodeType": "EmitStatement",
                  "src": "6953:59:27"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "expression": {
                          "id": 44563,
                          "name": "msg",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": -15,
                          "src": "7045:3:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_magic_message",
                            "typeString": "msg"
                          }
                        },
                        "id": 44564,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberLocation": "7049:6:27",
                        "memberName": "sender",
                        "nodeType": "MemberAccess",
                        "src": "7045:10:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "arguments": [
                          {
                            "id": 44567,
                            "name": "this",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": -28,
                            "src": "7065:4:27",
                            "typeDescriptions": {
                              "typeIdentifier": "t_contract$_perpetual_$44655",
                              "typeString": "contract perpetual"
                            }
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_contract$_perpetual_$44655",
                              "typeString": "contract perpetual"
                            }
                          ],
                          "id": 44566,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "lValueRequested": false,
                          "nodeType": "ElementaryTypeNameExpression",
                          "src": "7057:7:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_type$_t_address_$",
                            "typeString": "type(address)"
                          },
                          "typeName": {
                            "id": 44565,
                            "name": "address",
                            "nodeType": "ElementaryTypeName",
                            "src": "7057:7:27",
                            "typeDescriptions": {}
                          }
                        },
                        "id": 44568,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "typeConversion",
                        "lValueRequested": false,
                        "nameLocations": [],
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "7057:13:27",
                        "tryCall": false,
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "id": 44569,
                        "name": "_collateralAmountUsdc",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44536,
                        "src": "7072:21:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      ],
                      "expression": {
                        "id": 44560,
                        "name": "USDC",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44117,
                        "src": "7023:4:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_contract$_IERC20_$45267",
                          "typeString": "contract IERC20"
                        }
                      },
                      "id": 44562,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberLocation": "7028:16:27",
                      "memberName": "safeTransferFrom",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 44976,
                      "src": "7023:21:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_nonpayable$_t_contract$_IERC20_$45267_$_t_address_$_t_address_$_t_uint256_$returns$__$attached_to$_t_contract$_IERC20_$45267_$",
                        "typeString": "function (contract IERC20,address,address,uint256)"
                      }
                    },
                    "id": 44570,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "7023:71:27",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 44571,
                  "nodeType": "ExpressionStatement",
                  "src": "7023:71:27"
                }
              ]
            },
            "functionSelector": "b8a83834",
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "increaseCollateral",
            "nameLocation": "6746:18:27",
            "parameters": {
              "id": 44537,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 44536,
                  "mutability": "mutable",
                  "name": "_collateralAmountUsdc",
                  "nameLocation": "6773:21:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44573,
                  "src": "6765:29:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 44535,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "6765:7:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "6764:31:27"
            },
            "returnParameters": {
              "id": 44538,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "6803:0:27"
            },
            "scope": 44655,
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "public"
          },
          {
            "id": 44601,
            "nodeType": "FunctionDefinition",
            "src": "7160:293:27",
            "nodes": [],
            "body": {
              "id": 44600,
              "nodeType": "Block",
              "src": "7219:234:27",
              "nodes": [],
              "statements": [
                {
                  "assignments": [
                    44579
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 44579,
                      "mutability": "mutable",
                      "name": "netBorrow",
                      "nameLocation": "7237:9:27",
                      "nodeType": "VariableDeclaration",
                      "scope": 44600,
                      "src": "7229:17:27",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 44578,
                        "name": "uint256",
                        "nodeType": "ElementaryTypeName",
                        "src": "7229:7:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 44583,
                  "initialValue": {
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 44582,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "id": 44580,
                      "name": "totalBorrowed",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44130,
                      "src": "7249:13:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "+",
                    "rightExpression": {
                      "id": 44581,
                      "name": "_amount",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44575,
                      "src": "7265:7:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "7249:23:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "7229:43:27"
                },
                {
                  "assignments": [
                    44585
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 44585,
                      "mutability": "mutable",
                      "name": "liquidityRatioAfter",
                      "nameLocation": "7291:19:27",
                      "nodeType": "VariableDeclaration",
                      "scope": 44600,
                      "src": "7283:27:27",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 44584,
                        "name": "uint256",
                        "nodeType": "ElementaryTypeName",
                        "src": "7283:7:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 44592,
                  "initialValue": {
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 44591,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "components": [
                        {
                          "commonType": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          "id": 44588,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "id": 44586,
                            "name": "totalDeposited",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 44128,
                            "src": "7314:14:27",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "*",
                          "rightExpression": {
                            "id": 44587,
                            "name": "LIQUIDITY_SCALE",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 44145,
                            "src": "7331:15:27",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "src": "7314:32:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        }
                      ],
                      "id": 44589,
                      "isConstant": false,
                      "isInlineArray": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "nodeType": "TupleExpression",
                      "src": "7313:34:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "/",
                    "rightExpression": {
                      "id": 44590,
                      "name": "netBorrow",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44579,
                      "src": "7350:9:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "7313:46:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "7283:76:27"
                },
                {
                  "condition": {
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 44595,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "id": 44593,
                      "name": "liquidityRatioAfter",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44585,
                      "src": "7374:19:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "<",
                    "rightExpression": {
                      "id": 44594,
                      "name": "MINIMUM_RESERVE_RATIO",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44136,
                      "src": "7396:21:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "7374:43:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "id": 44599,
                  "nodeType": "IfStatement",
                  "src": "7370:76:27",
                  "trueBody": {
                    "errorCall": {
                      "arguments": [],
                      "expression": {
                        "argumentTypes": [],
                        "id": 44596,
                        "name": "NotEnoughLiquidity",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44191,
                        "src": "7426:18:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_function_error_pure$__$returns$__$",
                          "typeString": "function () pure"
                        }
                      },
                      "id": 44597,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "functionCall",
                      "lValueRequested": false,
                      "nameLocations": [],
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "7426:20:27",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_tuple$__$",
                        "typeString": "tuple()"
                      }
                    },
                    "id": 44598,
                    "nodeType": "RevertStatement",
                    "src": "7419:27:27"
                  }
                }
              ]
            },
            "functionSelector": "4270710b",
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "checkLiquidityBorrow",
            "nameLocation": "7169:20:27",
            "parameters": {
              "id": 44576,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 44575,
                  "mutability": "mutable",
                  "name": "_amount",
                  "nameLocation": "7198:7:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44601,
                  "src": "7190:15:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 44574,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "7190:7:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "7189:17:27"
            },
            "returnParameters": {
              "id": 44577,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "7219:0:27"
            },
            "scope": 44655,
            "stateMutability": "view",
            "virtual": false,
            "visibility": "public"
          },
          {
            "id": 44654,
            "nodeType": "FunctionDefinition",
            "src": "7509:648:27",
            "nodes": [],
            "body": {
              "id": 44653,
              "nodeType": "Block",
              "src": "7570:587:27",
              "nodes": [],
              "statements": [
                {
                  "assignments": [
                    44607
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 44607,
                      "mutability": "mutable",
                      "name": "totalBorrowed_",
                      "nameLocation": "7589:14:27",
                      "nodeType": "VariableDeclaration",
                      "scope": 44653,
                      "src": "7581:22:27",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 44606,
                        "name": "uint256",
                        "nodeType": "ElementaryTypeName",
                        "src": "7581:7:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 44609,
                  "initialValue": {
                    "id": 44608,
                    "name": "totalBorrowed",
                    "nodeType": "Identifier",
                    "overloadedDeclarations": [],
                    "referencedDeclaration": 44130,
                    "src": "7606:13:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "7581:38:27"
                },
                {
                  "assignments": [
                    44611
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 44611,
                      "mutability": "mutable",
                      "name": "netSupply",
                      "nameLocation": "7638:9:27",
                      "nodeType": "VariableDeclaration",
                      "scope": 44653,
                      "src": "7630:17:27",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 44610,
                        "name": "uint256",
                        "nodeType": "ElementaryTypeName",
                        "src": "7630:7:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 44616,
                  "initialValue": {
                    "components": [
                      {
                        "commonType": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        "id": 44614,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "id": 44612,
                          "name": "totalDeposited",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 44128,
                          "src": "7651:14:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": "-",
                        "rightExpression": {
                          "id": 44613,
                          "name": "_amount",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 44603,
                          "src": "7668:7:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "src": "7651:24:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "id": 44615,
                    "isConstant": false,
                    "isInlineArray": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "nodeType": "TupleExpression",
                    "src": "7650:26:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "7630:46:27"
                },
                {
                  "condition": {
                    "commonType": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    },
                    "id": 44623,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "commonType": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "id": 44619,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "leftExpression": {
                        "id": 44617,
                        "name": "netSupply",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44611,
                        "src": "7773:9:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "nodeType": "BinaryOperation",
                      "operator": "==",
                      "rightExpression": {
                        "hexValue": "30",
                        "id": 44618,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "number",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "7786:1:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_rational_0_by_1",
                          "typeString": "int_const 0"
                        },
                        "value": "0"
                      },
                      "src": "7773:14:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_bool",
                        "typeString": "bool"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "&&",
                    "rightExpression": {
                      "commonType": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "id": 44622,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "leftExpression": {
                        "id": 44620,
                        "name": "totalBorrowed_",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44607,
                        "src": "7791:14:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "nodeType": "BinaryOperation",
                      "operator": "==",
                      "rightExpression": {
                        "hexValue": "30",
                        "id": 44621,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "number",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "7809:1:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_rational_0_by_1",
                          "typeString": "int_const 0"
                        },
                        "value": "0"
                      },
                      "src": "7791:19:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_bool",
                        "typeString": "bool"
                      }
                    },
                    "src": "7773:37:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "id": 44625,
                  "nodeType": "IfStatement",
                  "src": "7769:50:27",
                  "trueBody": {
                    "functionReturnParameters": 44605,
                    "id": 44624,
                    "nodeType": "Return",
                    "src": "7812:7:27"
                  }
                },
                {
                  "condition": {
                    "commonType": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    },
                    "id": 44632,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "commonType": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "id": 44628,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "leftExpression": {
                        "id": 44626,
                        "name": "netSupply",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44611,
                        "src": "7911:9:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "nodeType": "BinaryOperation",
                      "operator": "==",
                      "rightExpression": {
                        "hexValue": "30",
                        "id": 44627,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "number",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "7924:1:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_rational_0_by_1",
                          "typeString": "int_const 0"
                        },
                        "value": "0"
                      },
                      "src": "7911:14:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_bool",
                        "typeString": "bool"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "&&",
                    "rightExpression": {
                      "commonType": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "id": 44631,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "leftExpression": {
                        "id": 44629,
                        "name": "totalBorrowed_",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44607,
                        "src": "7929:14:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "nodeType": "BinaryOperation",
                      "operator": ">",
                      "rightExpression": {
                        "hexValue": "30",
                        "id": 44630,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "number",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "7946:1:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_rational_0_by_1",
                          "typeString": "int_const 0"
                        },
                        "value": "0"
                      },
                      "src": "7929:18:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_bool",
                        "typeString": "bool"
                      }
                    },
                    "src": "7911:36:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "id": 44636,
                  "nodeType": "IfStatement",
                  "src": "7907:69:27",
                  "trueBody": {
                    "errorCall": {
                      "arguments": [],
                      "expression": {
                        "argumentTypes": [],
                        "id": 44633,
                        "name": "NotEnoughLiquidity",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44191,
                        "src": "7956:18:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_function_error_pure$__$returns$__$",
                          "typeString": "function () pure"
                        }
                      },
                      "id": 44634,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "functionCall",
                      "lValueRequested": false,
                      "nameLocations": [],
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "7956:20:27",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_tuple$__$",
                        "typeString": "tuple()"
                      }
                    },
                    "id": 44635,
                    "nodeType": "RevertStatement",
                    "src": "7949:27:27"
                  }
                },
                {
                  "assignments": [
                    44638
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 44638,
                      "mutability": "mutable",
                      "name": "liquidityRatioAfter",
                      "nameLocation": "7995:19:27",
                      "nodeType": "VariableDeclaration",
                      "scope": 44653,
                      "src": "7987:27:27",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 44637,
                        "name": "uint256",
                        "nodeType": "ElementaryTypeName",
                        "src": "7987:7:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 44645,
                  "initialValue": {
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 44644,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "components": [
                        {
                          "commonType": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          "id": 44641,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "id": 44639,
                            "name": "netSupply",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 44611,
                            "src": "8018:9:27",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "*",
                          "rightExpression": {
                            "id": 44640,
                            "name": "LIQUIDITY_SCALE",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 44145,
                            "src": "8030:15:27",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "src": "8018:27:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        }
                      ],
                      "id": 44642,
                      "isConstant": false,
                      "isInlineArray": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "nodeType": "TupleExpression",
                      "src": "8017:29:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "/",
                    "rightExpression": {
                      "id": 44643,
                      "name": "totalBorrowed_",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44607,
                      "src": "8049:14:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "8017:46:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "7987:76:27"
                },
                {
                  "condition": {
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 44648,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "id": 44646,
                      "name": "liquidityRatioAfter",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44638,
                      "src": "8078:19:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "<",
                    "rightExpression": {
                      "id": 44647,
                      "name": "MINIMUM_RESERVE_RATIO",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 44136,
                      "src": "8100:21:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "8078:43:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "id": 44652,
                  "nodeType": "IfStatement",
                  "src": "8074:76:27",
                  "trueBody": {
                    "errorCall": {
                      "arguments": [],
                      "expression": {
                        "argumentTypes": [],
                        "id": 44649,
                        "name": "NotEnoughLiquidity",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 44191,
                        "src": "8130:18:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_function_error_pure$__$returns$__$",
                          "typeString": "function () pure"
                        }
                      },
                      "id": 44650,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "functionCall",
                      "lValueRequested": false,
                      "nameLocations": [],
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "8130:20:27",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_tuple$__$",
                        "typeString": "tuple()"
                      }
                    },
                    "id": 44651,
                    "nodeType": "RevertStatement",
                    "src": "8123:27:27"
                  }
                }
              ]
            },
            "functionSelector": "a70bf7fe",
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "checkLiquidityWithdraw",
            "nameLocation": "7518:22:27",
            "parameters": {
              "id": 44604,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 44603,
                  "mutability": "mutable",
                  "name": "_amount",
                  "nameLocation": "7549:7:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 44654,
                  "src": "7541:15:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 44602,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "7541:7:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "7540:17:27"
            },
            "returnParameters": {
              "id": 44605,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "7570:0:27"
            },
            "scope": 44655,
            "stateMutability": "view",
            "virtual": false,
            "visibility": "public"
          }
        ],
        "abstract": false,
        "baseContracts": [],
        "canonicalName": "perpetual",
        "contractDependencies": [],
        "contractKind": "contract",
        "fullyImplemented": true,
        "linearizedBaseContracts": [
          44655
        ],
        "name": "perpetual",
        "nameLocation": "993:9:27",
        "scope": 44656,
        "usedErrors": [
          44189,
          44191,
          44193,
          44195,
          44916,
          45311,
          45316,
          45319
        ],
        "usedEvents": [
          44151,
          44157,
          44171,
          44181,
          44187
        ]
      }
    ],
    "license": "MIT"
  },
  "id": 27
}